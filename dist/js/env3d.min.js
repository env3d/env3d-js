"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function o(a,s,l){function u(n,t){if(!s[n]){if(!a[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(c)return c(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[n]={exports:{}};a[n][0].call(i.exports,function(t){var e=a[n][1][t];return u(e||t)},i,i.exports,o,a,s,l)}return s[n].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,n){var r,i;r=this,i=function(t){function e(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:0<t?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),e.prototype={addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;var n=[],r=0,i=e.length;for(r=0;r<i;r++)n[r]=e[r];for(r=0;r<i;r++)n[r].call(this,t)}}}};var n,r,i,o,a,s,Rt="84",Ot=0,Nt=1,$t=2,Dt=0,X=1,$=2,w=0,Ht=1,Ut=2,Ft=1,l=2,zt=0,p=1,g=2,Yt=0,Gt=1,Bt=2,kt=3,Vt=4,Wt=5,Xt=100,qt=101,Kt=102,Zt=103,Qt=104,Jt=200,te=201,ee=202,ne=203,re=204,ie=205,oe=206,ae=207,se=208,le=209,ue=210,ce=0,he=1,fe=2,pe=3,de=4,ve=5,me=6,ge=7,D=0,H=1,U=2,F=0,ye=1,z=2,Y=3,G=4,B=301,k=302,V=303,W=304,q=305,K=306,Z=307,_e=1e3,be=1001,we=1002,Ee=1003,xe=1004,Ae=1005,Se=1006,Te=1007,Le=1008,Ie=1009,Pe=1010,Me=1011,Ce=1012,je=1013,Re=1014,Oe=1015,Ne=1016,$e=1017,De=1018,He=1019,Ue=1020,Fe=1021,ze=1022,Ye=1023,Ge=1024,Be=1025,u=Ye,ke=1026,Ve=1027,We=2001,Xe=2002,qe=2003,Ke=2004,Ze=2100,Qe=2101,Je=2102,tn=2103,en=2151,c=2201,h=2300,f=2301,d=2400,v=2401,m=2402,nn=0,rn=1,on=2,y=3e3,_=3001,b=3007,E=3002,x=3004,A=3005,S=3006,T=3200,L=3201,I={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:(r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=new Array(36),o=0,function(){for(var t=0;t<36;t++)8===t||13===t||18===t||23===t?i[t]="-":14===t?i[t]="4":(o<=2&&(o=33554432+16777216*Math.random()|0),n=15&o,o>>=4,i[t]=r[19===t?3&n|8:n]);return i.join("")}),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:n<=t?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:n<=t?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*I.DEG2RAD},radToDeg:function(t){return t*I.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}};function an(t,e){this.x=t||0,this.y=e||0}an.prototype={constructor:an,isVector2:!0,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return void 0===a&&(a=new an,s=new an),a.set(t,t),s.set(e,e),this.clamp(a,s)},clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}};var P,M,C,j,R,O,N,Q,J,tt,et,nt,rt,it,ot,at,st,lt,ut,ct=0;function ht(t,e,n,r,i,o,a,s,l,u){Object.defineProperty(this,"id",{value:ct++}),this.uuid=I.generateUUID(),this.name="",this.image=void 0!==t?t:ht.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:ht.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:be,this.wrapT=void 0!==r?r:be,this.magFilter=void 0!==i?i:Se,this.minFilter=void 0!==o?o:Le,this.anisotropy=void 0!==l?l:1,this.format=void 0!==a?a:Ye,this.type=void 0!==s?s:Ie,this.offset=new an(0,0),this.repeat=new an(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==u?u:y,this.version=0,this.onUpdate=null}function sn(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function ft(t,e,n){this.uuid=I.generateUUID(),this.width=t,this.height=e,this.scissor=new sn(0,0,t,e),this.scissorTest=!1,this.viewport=new sn(0,0,t,e),void 0===(n=n||{}).minFilter&&(n.minFilter=Se),this.texture=new ht(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function pt(t,e,n){ft.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function dt(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function ln(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function un(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function vt(t,e,n,r,i,o,a,s,l,u){ht.call(this,t=void 0!==t?t:[],e=void 0!==e?e:B,n,r,i,o,a,s,l,u),this.flipY=!1}ht.DEFAULT_IMAGE=void 0,ht.DEFAULT_MAPPING=300,ht.prototype={constructor:ht,isTexture:!0,set needsUpdate(t){!0===t&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var e,n,r={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var i=this.image;void 0===i.uuid&&(i.uuid=I.generateUUID()),void 0===t.images[i.uuid]&&(t.images[i.uuid]={uuid:i.uuid,url:(e=i,void 0!==e.toDataURL?n=e:((n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=e.width,n.height=e.height,n.getContext("2d").drawImage(e,0,0,e.width,e.height)),2048<n.width||2048<n.height?n.toDataURL("image/jpeg",.6):n.toDataURL("image/png"))}),r.image=i.uuid}return t.textures[this.uuid]=r},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300===this.mapping){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||1<t.x)switch(this.wrapS){case _e:t.x=t.x-Math.floor(t.x);break;case be:t.x=t.x<0?0:1;break;case we:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||1<t.y)switch(this.wrapT){case _e:t.y=t.y-Math.floor(t.y);break;case be:t.y=t.y<0?0:1;break;case we:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(ht.prototype,e.prototype),sn.prototype={constructor:sn,isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,o=t.elements,a=o[0],s=o[4],l=o[8],u=o[1],c=o[5],h=o[9],f=o[2],p=o[6],d=o[10];if(Math.abs(s-u)<.01&&Math.abs(l-f)<.01&&Math.abs(h-p)<.01){if(Math.abs(s+u)<.1&&Math.abs(l+f)<.1&&Math.abs(h+p)<.1&&Math.abs(a+c+d-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var v=(a+1)/2,m=(c+1)/2,g=(d+1)/2,y=(s+u)/4,_=(l+f)/4,b=(h+p)/4;return m<v&&g<v?v<.01?(n=0,i=r=.707106781):(r=y/(n=Math.sqrt(v)),i=_/n):g<m?m<.01?(r=0,i=n=.707106781):(n=y/(r=Math.sqrt(m)),i=b/r):g<.01?(r=n=.707106781,i=0):(n=_/(i=Math.sqrt(g)),r=b/i),this.set(n,r,i,e),this}var w=Math.sqrt((p-h)*(p-h)+(l-f)*(l-f)+(u-s)*(u-s));return Math.abs(w)<.001&&(w=1),this.x=(p-h)/w,this.y=(l-f)/w,this.z=(u-s)/w,this.w=Math.acos((a+c+d-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return void 0===P&&(P=new sn,M=new sn),P.set(t,t,t,t),M.set(e,e,e,e),this.clamp(P,M)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},ft.prototype={constructor:ft,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(ft.prototype,e.prototype),((pt.prototype=Object.create(ft.prototype)).constructor=pt).prototype.isWebGLRenderTargetCube=!0,dt.prototype={constructor:dt,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!1===(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=Math.cos(t._x/2),r=Math.cos(t._y/2),i=Math.cos(t._z/2),o=Math.sin(t._x/2),a=Math.sin(t._y/2),s=Math.sin(t._z/2),l=t.order;return"XYZ"===l?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):"YXZ"===l?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):"ZXY"===l?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):"ZYX"===l?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):"YZX"===l?(this._x=o*r*i+n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i-o*a*s):"XZY"===l&&(this._x=o*r*i-n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i+o*a*s),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],u=n[2],c=n[6],h=n[10],f=r+s+h;return 0<f?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(c-l)*e,this._y=(o-u)*e,this._z=(a-i)*e):s<r&&h<r?(e=2*Math.sqrt(1+r-s-h),this._w=(c-l)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+u)/e):h<s?(e=2*Math.sqrt(1+s-r-h),this._w=(o-u)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(l+c)/e):(e=2*Math.sqrt(1+h-r-s),this._w=(a-i)/e,this._x=(o+u)/e,this._y=(l+c)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(t,e){return void 0===C&&(C=new ln),(j=t.dot(e)+1)<1e-6?(j=0,Math.abs(t.x)>Math.abs(t.z)?C.set(-t.y,t.x,0):C.set(0,-t.z,t.y)):C.crossVectors(t,e),this._x=C.x,this._y=C.y,this._z=C.z,this._w=j,this.normalize()},inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,l=e._z,u=e._w;return this._x=n*u+o*a+r*l-i*s,this._y=r*u+o*s+i*a-n*l,this._z=i*u+o*l+n*s-r*a,this._w=o*u-n*a-r*s-i*l,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),1<=a)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var l=Math.atan2(s,a),u=Math.sin((1-e)*l)/s,c=Math.sin(e*l)/s;return this._w=o*u+this._w*c,this._x=n*u+this._x*c,this._y=r*u+this._y*c,this._z=i*u+this._z*c,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(dt,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,a){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],h=i[o+0],f=i[o+1],p=i[o+2],d=i[o+3];if(c!==d||s!==h||l!==f||u!==p){var v=1-a,m=s*h+l*f+u*p+c*d,g=0<=m?1:-1,y=1-m*m;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,m*g);v=Math.sin(v*b)/_,a=Math.sin(a*b)/_}var w=a*g;if(s=s*v+h*w,l=l*v+f*w,u=u*v+p*w,c=c*v+d*w,v===1-a){var E=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=E,l*=E,u*=E,c*=E}}t[e]=s,t[e+1]=l,t[e+2]=u,t[e+3]=c}}),ln.prototype={constructor:ln,isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(t){return!1===(t&&t.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===nt&&(nt=new dt),this.applyQuaternion(nt.setFromEuler(t))},applyAxisAngle:function(t,e){return void 0===et&&(et=new dt),this.applyQuaternion(et.setFromAxisAngle(t,e))},applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14];var o=i[3]*e+i[7]*n+i[11]*r+i[15];return this.divideScalar(o)},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,l=s*e+o*r-a*n,u=s*n+a*e-i*r,c=s*r+i*n-o*e,h=-i*e-o*n-a*r;return this.x=l*s+h*-i+u*-a-c*-o,this.y=u*s+h*-o+c*-i-l*-a,this.z=c*s+h*-a+l*-o-u*-i,this},project:function(t){return void 0===tt&&(tt=new un),tt.multiplyMatrices(t.projectionMatrix,tt.getInverse(t.matrixWorld)),this.applyMatrix4(tt)},unproject:function(t){return void 0===J&&(J=new un),J.multiplyMatrices(t.matrixWorld,J.getInverse(t.projectionMatrix)),this.applyMatrix4(J)},transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(t,e){return void 0===N&&(N=new ln,Q=new ln),N.set(t,t,t),Q.set(e,e,e),this.clamp(N,Q)},clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(t){return void 0===O&&(O=new ln),O.copy(this).projectOnVector(t),this.sub(O)},reflect:function(t){return void 0===R&&(R=new ln),this.sub(R.copy(t).multiplyScalar(2*this.dot(t)))},angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(I.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){if("number"==typeof t){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var n=t;t=e,e=n}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},un.prototype={constructor:un,isMatrix4:!0,set:function(t,e,n,r,i,o,a,s,l,u,c,h,f,p,d,v){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=r,m[1]=i,m[5]=o,m[9]=a,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=h,m[3]=f,m[7]=p,m[11]=d,m[15]=v,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new un).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(t){void 0===ut&&(ut=new ln);var e=this.elements,n=t.elements,r=1/ut.setFromMatrixColumn(t,0).length(),i=1/ut.setFromMatrixColumn(t,1).length(),o=1/ut.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,this},makeRotationFromEuler:function(t){!1===(t&&t.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){var h=o*u,f=o*c,p=a*u,d=a*c;e[0]=s*u,e[4]=-s*c,e[8]=l,e[1]=f+p*l,e[5]=h-d*l,e[9]=-a*s,e[2]=d-h*l,e[6]=p+f*l,e[10]=o*s}else if("YXZ"===t.order){var v=s*u,m=s*c,g=l*u,y=l*c;e[0]=v+y*a,e[4]=g*a-m,e[8]=o*l,e[1]=o*c,e[5]=o*u,e[9]=-a,e[2]=m*a-g,e[6]=y+v*a,e[10]=o*s}else if("ZXY"===t.order){v=s*u,m=s*c,g=l*u,y=l*c;e[0]=v-y*a,e[4]=-o*c,e[8]=g+m*a,e[1]=m+g*a,e[5]=o*u,e[9]=y-v*a,e[2]=-o*l,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){h=o*u,f=o*c,p=a*u,d=a*c;e[0]=s*u,e[4]=p*l-f,e[8]=h*l+d,e[1]=s*c,e[5]=d*l+h,e[9]=f*l-p,e[2]=-l,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var _=o*s,b=o*l,w=a*s,E=a*l;e[0]=s*u,e[4]=E-_*c,e[8]=w*c+b,e[1]=c,e[5]=o*u,e[9]=-a*u,e[2]=-l*u,e[6]=b*c+w,e[10]=_-E*c}else if("XZY"===t.order){_=o*s,b=o*l,w=a*s,E=a*l;e[0]=s*u,e[4]=-c,e[8]=l*u,e[1]=_*c+E,e[5]=o*u,e[9]=b*c-w,e[2]=w*c-b,e[6]=a*u,e[10]=E*c+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z,o=t.w,a=n+n,s=r+r,l=i+i,u=n*a,c=n*s,h=n*l,f=r*s,p=r*l,d=i*l,v=o*a,m=o*s,g=o*l;return e[0]=1-(f+d),e[4]=c-g,e[8]=h+m,e[1]=c+g,e[5]=1-(u+d),e[9]=p-v,e[2]=h-m,e[6]=p+v,e[10]=1-(u+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(t,e,n){void 0===at&&(at=new ln,st=new ln,lt=new ln);var r=this.elements;return lt.subVectors(t,e).normalize(),0===lt.lengthSq()&&(lt.z=1),at.crossVectors(n,lt).normalize(),0===at.lengthSq()&&(lt.z+=1e-4,at.crossVectors(n,lt).normalize()),st.crossVectors(lt,at),r[0]=at.x,r[4]=st.x,r[8]=lt.x,r[1]=at.y,r[5]=st.y,r[9]=lt.y,r[2]=at.z,r[6]=st.z,r[10]=lt.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],f=n[13],p=n[2],d=n[6],v=n[10],m=n[14],g=n[3],y=n[7],_=n[11],b=n[15],w=r[0],E=r[4],x=r[8],A=r[12],S=r[1],T=r[5],L=r[9],I=r[13],P=r[2],M=r[6],C=r[10],j=r[14],R=r[3],O=r[7],N=r[11],$=r[15];return i[0]=o*w+a*S+s*P+l*R,i[4]=o*E+a*T+s*M+l*O,i[8]=o*x+a*L+s*C+l*N,i[12]=o*A+a*I+s*j+l*$,i[1]=u*w+c*S+h*P+f*R,i[5]=u*E+c*T+h*M+f*O,i[9]=u*x+c*L+h*C+f*N,i[13]=u*A+c*I+h*j+f*$,i[2]=p*w+d*S+v*P+m*R,i[6]=p*E+d*T+v*M+m*O,i[10]=p*x+d*L+v*C+m*N,i[14]=p*A+d*I+v*j+m*$,i[3]=g*w+y*S+_*P+b*R,i[7]=g*E+y*T+_*M+b*O,i[11]=g*x+y*L+_*C+b*N,i[15]=g*A+y*I+_*j+b*$,this},multiplyToArray:function(t,e,n){var r=this.elements;return this.multiplyMatrices(t,e),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(t){void 0===ot&&(ot=new ln);for(var e=0,n=t.count;e<n;e++)ot.x=t.getX(e),ot.y=t.getY(e),ot.z=t.getZ(e),ot.applyMatrix4(this),t.setXYZ(e,ot.x,ot.y,ot.z);return t},determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],l=t[13],u=t[2],c=t[6],h=t[10],f=t[14];return t[3]*(+i*s*c-r*l*c-i*a*h+n*l*h+r*a*f-n*s*f)+t[7]*(+e*s*f-e*l*h+i*o*h-r*o*f+r*l*u-i*s*u)+t[11]*(+e*l*c-e*a*f-i*o*c+n*o*f+i*a*u-n*l*u)+t[15]*(-r*a*u-e*s*c+e*a*h+r*o*c-n*o*h+n*s*u)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],u=r[5],c=r[6],h=r[7],f=r[8],p=r[9],d=r[10],v=r[11],m=r[12],g=r[13],y=r[14],_=r[15],b=p*y*h-g*d*h+g*c*v-u*y*v-p*c*_+u*d*_,w=m*d*h-f*y*h-m*c*v+l*y*v+f*c*_-l*d*_,E=f*g*h-m*p*h+m*u*v-l*g*v-f*u*_+l*p*_,x=m*p*c-f*g*c-m*u*d+l*g*d+f*u*y-l*p*y,A=i*b+o*w+a*E+s*x;if(0===A){var S="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(S);return console.warn(S),this.identity()}var T=1/A;return n[0]=b*T,n[1]=(g*d*s-p*y*s-g*a*v+o*y*v+p*a*_-o*d*_)*T,n[2]=(u*y*s-g*c*s+g*a*h-o*y*h-u*a*_+o*c*_)*T,n[3]=(p*c*s-u*d*s-p*a*h+o*d*h+u*a*v-o*c*v)*T,n[4]=w*T,n[5]=(f*y*s-m*d*s+m*a*v-i*y*v-f*a*_+i*d*_)*T,n[6]=(m*c*s-l*y*s-m*a*h+i*y*h+l*a*_-i*c*_)*T,n[7]=(l*d*s-f*c*s+f*a*h-i*d*h-l*a*v+i*c*v)*T,n[8]=E*T,n[9]=(m*p*s-f*g*s-m*o*v+i*g*v+f*o*_-i*p*_)*T,n[10]=(l*g*s-m*u*s+m*o*h-i*g*h-l*o*_+i*u*_)*T,n[11]=(f*u*s-l*p*s-f*o*h+i*p*h+l*o*v-i*u*v)*T,n[12]=x*T,n[13]=(f*g*a-m*p*a+m*o*d-i*g*d-f*o*y+i*p*y)*T,n[14]=(m*u*a-l*g*a-m*o*c+i*g*c+l*o*y-i*u*y)*T,n[15]=(l*p*a-f*u*a+f*o*c-i*p*c-l*o*d+i*u*d)*T,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,l=i*o,u=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,u*a+n,u*s-r*o,0,l*s-r*a,u*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(t,e,n){void 0===rt&&(rt=new ln,it=new un);var r=this.elements,i=rt.set(r[0],r[1],r[2]).length(),o=rt.set(r[4],r[5],r[6]).length(),a=rt.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),t.x=r[12],t.y=r[13],t.z=r[14],it.elements.set(this.elements);var s=1/i,l=1/o,u=1/a;return it.elements[0]*=s,it.elements[1]*=s,it.elements[2]*=s,it.elements[4]*=l,it.elements[5]*=l,it.elements[6]*=l,it.elements[8]*=u,it.elements[9]*=u,it.elements[10]*=u,e.setFromRotationMatrix(it),n.x=i,n.y=o,n.z=a,this},makePerspective:function(t,e,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(e-t),l=2*i/(n-r),u=(e+t)/(e-t),c=(n+r)/(n-r),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=l,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,n,r,i,o){var a=this.elements,s=1/(e-t),l=1/(n-r),u=1/(o-i),c=(e+t)*s,h=(n+r)*l,f=(o+i)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}},((vt.prototype=Object.create(ht.prototype)).constructor=vt).prototype.isCubeTexture=!0,Object.defineProperty(vt.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var mt=new ht,gt=new vt;function yt(){this.seq=[],this.map={}}var _t=[],bt=[];function wt(t,e,n){var r=t[0];if(r<=0||0<r)return t;var i=e*n,o=_t[i];if(void 0===o&&(o=new Float32Array(i),_t[i]=o),0!==e){r.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function Et(t,e){var n=bt[e];void 0===n&&(n=new Int32Array(e),bt[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocTextureUnit();return n}function xt(t,e){t.uniform1f(this.addr,e)}function At(t,e){t.uniform1i(this.addr,e)}function St(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function Tt(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function Lt(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function It(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function Pt(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)}function Mt(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)}function Ct(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTexture2D(e||mt,r)}function jt(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTextureCube(e||gt,r)}function cn(t,e){t.uniform2iv(this.addr,e)}function hn(t,e){t.uniform3iv(this.addr,e)}function fn(t,e){t.uniform4iv(this.addr,e)}function pn(t,e){t.uniform1fv(this.addr,e)}function dn(t,e){t.uniform1iv(this.addr,e)}function vn(t,e){t.uniform2fv(this.addr,wt(e,this.size,2))}function mn(t,e){t.uniform3fv(this.addr,wt(e,this.size,3))}function gn(t,e){t.uniform4fv(this.addr,wt(e,this.size,4))}function yn(t,e){t.uniformMatrix2fv(this.addr,!1,wt(e,this.size,4))}function _n(t,e){t.uniformMatrix3fv(this.addr,!1,wt(e,this.size,9))}function bn(t,e){t.uniformMatrix4fv(this.addr,!1,wt(e,this.size,16))}function wn(t,e,n){var r=e.length,i=Et(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2D(e[o]||mt,i[o])}function En(t,e,n){var r=e.length,i=Et(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTextureCube(e[o]||gt,i[o])}function xn(t,e,n){this.id=t,this.addr=n,this.setValue=function(t){switch(t){case 5126:return xt;case 35664:return St;case 35665:return Tt;case 35666:return Lt;case 35674:return It;case 35675:return Pt;case 35676:return Mt;case 35678:return Ct;case 35680:return jt;case 5124:case 35670:return At;case 35667:case 35671:return cn;case 35668:case 35672:return hn;case 35669:case 35673:return fn}}(e.type)}function An(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=function(t){switch(t){case 5126:return pn;case 35664:return vn;case 35665:return mn;case 35666:return gn;case 35674:return yn;case 35675:return _n;case 35676:return bn;case 35678:return wn;case 35680:return En;case 5124:case 35670:return dn;case 35667:case 35671:return cn;case 35668:case 35672:return hn;case 35669:case 35673:return fn}}(e.type)}function Sn(t){this.id=t,yt.call(this)}Sn.prototype.setValue=function(t,e){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(t,e[o.id])}};var Tn=/([\w\d_]+)(\])?(\[|\.)?/g;function Ln(t,e){t.seq.push(e),t.map[e.id]=e}function In(t,e,n){var r=t.name,i=r.length;for(Tn.lastIndex=0;;){var o=Tn.exec(r),a=Tn.lastIndex,s=o[1],l="]"===o[2],u=o[3];if(l&&(s|=0),void 0===u||"["===u&&a+2===i){Ln(n,void 0===u?new xn(s,t,e):new An(s,t,e));break}var c=n.map[s];void 0===c&&Ln(n,c=new Sn(s)),n=c}}function Pn(t,e,n){yt.call(this),this.renderer=n;for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=t.getActiveUniform(e,i),a=o.name;In(o,t.getUniformLocation(e,a),this)}}Pn.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},Pn.prototype.set=function(t,e,n){var r=this.map[n];void 0!==r&&r.setValue(t,e[n],this.renderer)},Pn.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},Pn.upload=function(t,e,n,r){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,r)}},Pn.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var o=t[r];o.id in e&&n.push(o)}return n};var Mn={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t)for(var r in e[n]={},t[n]){var i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}return e}},Cn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\n\t}\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_flip:"#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",distanceRGBA_vert:"varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n",shadow_vert:"#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"};function jn(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}jn.prototype={constructor:jn,isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function o(t,e,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(t,e,n){if(t=I.euclideanModulo(t,1),e=I.clamp(e,0,1),n=I.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+e):n+e-n*e,i=2*n-r;this.r=o(i,r,t+1/3),this.g=o(i,r,t),this.b=o(i,r,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var u,c=(u=n[1]).length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}e&&0<e.length&&(void 0!==(u=Rn[e])?this.setHex(u):console.warn("THREE.Color: Unknown color "+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=0<e?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,n,r=t||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),l=Math.min(i,o,a),u=(l+s)/2;if(l===s)n=e=0;else{var c=s-l;switch(n=u<=.5?c/(s+l):c/(2-s-l),s){case i:e=(o-a)/c+(o<a?6:0);break;case o:e=(a-i)/c+2;break;case a:e=(i-o)/c+4}e/=6}return r.h=e,r.s=n,r.l=u,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}};var Rn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function On(t,e,n,r,i,o,a,s,l,u,c,h){ht.call(this,null,o,a,s,l,u,r,i,c,h),this.image={data:t,width:e,height:n},this.magFilter=void 0!==l?l:Ee,this.minFilter=void 0!==u?u:Ee,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}((On.prototype=Object.create(ht.prototype)).constructor=On).prototype.isDataTexture=!0;var Nn,$n,Dn={common:{diffuse:{value:new jn(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new sn(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new an(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new jn(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new jn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new sn(0,0,1,1)}}},Hn={basic:{uniforms:Mn.merge([Dn.common,Dn.aomap,Dn.lightmap,Dn.fog]),vertexShader:Cn.meshbasic_vert,fragmentShader:Cn.meshbasic_frag},lambert:{uniforms:Mn.merge([Dn.common,Dn.aomap,Dn.lightmap,Dn.emissivemap,Dn.fog,Dn.lights,{emissive:{value:new jn(0)}}]),vertexShader:Cn.meshlambert_vert,fragmentShader:Cn.meshlambert_frag},phong:{uniforms:Mn.merge([Dn.common,Dn.aomap,Dn.lightmap,Dn.emissivemap,Dn.bumpmap,Dn.normalmap,Dn.displacementmap,Dn.gradientmap,Dn.fog,Dn.lights,{emissive:{value:new jn(0)},specular:{value:new jn(1118481)},shininess:{value:30}}]),vertexShader:Cn.meshphong_vert,fragmentShader:Cn.meshphong_frag},standard:{uniforms:Mn.merge([Dn.common,Dn.aomap,Dn.lightmap,Dn.emissivemap,Dn.bumpmap,Dn.normalmap,Dn.displacementmap,Dn.roughnessmap,Dn.metalnessmap,Dn.fog,Dn.lights,{emissive:{value:new jn(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Cn.meshphysical_vert,fragmentShader:Cn.meshphysical_frag},points:{uniforms:Mn.merge([Dn.points,Dn.fog]),vertexShader:Cn.points_vert,fragmentShader:Cn.points_frag},dashed:{uniforms:Mn.merge([Dn.common,Dn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Cn.linedashed_vert,fragmentShader:Cn.linedashed_frag},depth:{uniforms:Mn.merge([Dn.common,Dn.displacementmap]),vertexShader:Cn.depth_vert,fragmentShader:Cn.depth_frag},normal:{uniforms:Mn.merge([Dn.common,Dn.bumpmap,Dn.normalmap,Dn.displacementmap,{opacity:{value:1}}]),vertexShader:Cn.normal_vert,fragmentShader:Cn.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Cn.cube_vert,fragmentShader:Cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:Cn.equirect_vert,fragmentShader:Cn.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new ln}},vertexShader:Cn.distanceRGBA_vert,fragmentShader:Cn.distanceRGBA_frag}};function Un(t,e){this.min=void 0!==t?t:new an(1/0,1/0),this.max=void 0!==e?e:new an(-1/0,-1/0)}function Fn(y,_){var b,w,s,E,x,A,S,T,L=y.context,I=y.state;function P(){var t,e,n,r,i,o=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),a=new Uint16Array([0,1,2,0,2,3]);b=L.createBuffer(),w=L.createBuffer(),L.bindBuffer(L.ARRAY_BUFFER,b),L.bufferData(L.ARRAY_BUFFER,o,L.STATIC_DRAW),L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,w),L.bufferData(L.ELEMENT_ARRAY_BUFFER,a,L.STATIC_DRAW),S=L.createTexture(),T=L.createTexture(),I.bindTexture(L.TEXTURE_2D,S),L.texImage2D(L.TEXTURE_2D,0,L.RGB,16,16,0,L.RGB,L.UNSIGNED_BYTE,null),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST),I.bindTexture(L.TEXTURE_2D,T),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,16,16,0,L.RGBA,L.UNSIGNED_BYTE,null),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST),s={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},t=s,e=L.createProgram(),n=L.createShader(L.FRAGMENT_SHADER),r=L.createShader(L.VERTEX_SHADER),i="precision "+y.getPrecision()+" float;\n",L.shaderSource(n,i+t.fragmentShader),L.shaderSource(r,i+t.vertexShader),L.compileShader(n),L.compileShader(r),L.attachShader(e,n),L.attachShader(e,r),L.linkProgram(e),E=e,x={vertex:L.getAttribLocation(E,"position"),uv:L.getAttribLocation(E,"uv")},A={renderType:L.getUniformLocation(E,"renderType"),map:L.getUniformLocation(E,"map"),occlusionMap:L.getUniformLocation(E,"occlusionMap"),opacity:L.getUniformLocation(E,"opacity"),color:L.getUniformLocation(E,"color"),scale:L.getUniformLocation(E,"scale"),rotation:L.getUniformLocation(E,"rotation"),screenPosition:L.getUniformLocation(E,"screenPosition")}}this.render=function(t,e,n){if(0!==_.length){var r=new ln,i=n.w/n.z,o=.5*n.z,a=.5*n.w,s=16/n.w,l=new an(s*i,s),u=new ln(1,1,0),c=new an(1,1),h=new Un;h.min.set(n.x,n.y),h.max.set(n.x+(n.z-16),n.y+(n.w-16)),void 0===E&&P(),L.useProgram(E),I.initAttributes(),I.enableAttribute(x.vertex),I.enableAttribute(x.uv),I.disableUnusedAttributes(),L.uniform1i(A.occlusionMap,0),L.uniform1i(A.map,1),L.bindBuffer(L.ARRAY_BUFFER,b),L.vertexAttribPointer(x.vertex,2,L.FLOAT,!1,16,0),L.vertexAttribPointer(x.uv,2,L.FLOAT,!1,16,8),L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,w),I.disable(L.CULL_FACE),I.setDepthWrite(!1);for(var f=0,p=_.length;f<p;f++){s=16/n.w,l.set(s*i,s);var d=_[f];if(r.set(d.matrixWorld.elements[12],d.matrixWorld.elements[13],d.matrixWorld.elements[14]),r.applyMatrix4(e.matrixWorldInverse),r.applyMatrix4(e.projectionMatrix),u.copy(r),c.x=n.x+u.x*o+o-8,c.y=n.y+u.y*a+a-8,!0===h.containsPoint(c)){I.activeTexture(L.TEXTURE0),I.bindTexture(L.TEXTURE_2D,null),I.activeTexture(L.TEXTURE1),I.bindTexture(L.TEXTURE_2D,S),L.copyTexImage2D(L.TEXTURE_2D,0,L.RGB,c.x,c.y,16,16,0),L.uniform1i(A.renderType,0),L.uniform2f(A.scale,l.x,l.y),L.uniform3f(A.screenPosition,u.x,u.y,u.z),I.disable(L.BLEND),I.enable(L.DEPTH_TEST),L.drawElements(L.TRIANGLES,6,L.UNSIGNED_SHORT,0),I.activeTexture(L.TEXTURE0),I.bindTexture(L.TEXTURE_2D,T),L.copyTexImage2D(L.TEXTURE_2D,0,L.RGBA,c.x,c.y,16,16,0),L.uniform1i(A.renderType,1),I.disable(L.DEPTH_TEST),I.activeTexture(L.TEXTURE1),I.bindTexture(L.TEXTURE_2D,S),L.drawElements(L.TRIANGLES,6,L.UNSIGNED_SHORT,0),d.positionScreen.copy(u),d.customUpdateCallback?d.customUpdateCallback(d):d.updateLensFlares(),L.uniform1i(A.renderType,2),I.enable(L.BLEND);for(var v=0,m=d.lensFlares.length;v<m;v++){var g=d.lensFlares[v];.001<g.opacity&&.001<g.scale&&(u.x=g.x,u.y=g.y,u.z=g.z,s=g.size*g.scale/n.w,l.x=s*i,l.y=s,L.uniform3f(A.screenPosition,u.x,u.y,u.z),L.uniform2f(A.scale,l.x,l.y),L.uniform1f(A.rotation,g.rotation),L.uniform1f(A.opacity,g.opacity),L.uniform3f(A.color,g.color.r,g.color.g,g.color.b),I.setBlending(g.blending,g.blendEquation,g.blendSrc,g.blendDst),y.setTexture2D(g.texture,1),L.drawElements(L.TRIANGLES,6,L.UNSIGNED_SHORT,0))}}}I.enable(L.CULL_FACE),I.enable(L.DEPTH_TEST),I.setDepthWrite(!0),y.resetGLState()}}}function zn(h,f){var p,d,v,m,g,y,_=h.context,b=h.state,w=new ln,E=new dt,x=new ln;function A(){var t,e,n,r=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),i=new Uint16Array([0,1,2,0,2,3]);p=_.createBuffer(),d=_.createBuffer(),_.bindBuffer(_.ARRAY_BUFFER,p),_.bufferData(_.ARRAY_BUFFER,r,_.STATIC_DRAW),_.bindBuffer(_.ELEMENT_ARRAY_BUFFER,d),_.bufferData(_.ELEMENT_ARRAY_BUFFER,i,_.STATIC_DRAW),t=_.createProgram(),e=_.createShader(_.VERTEX_SHADER),n=_.createShader(_.FRAGMENT_SHADER),_.shaderSource(e,["precision "+h.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),_.shaderSource(n,["precision "+h.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),_.compileShader(e),_.compileShader(n),_.attachShader(t,e),_.attachShader(t,n),_.linkProgram(t),v=t,m={position:_.getAttribLocation(v,"position"),uv:_.getAttribLocation(v,"uv")},g={uvOffset:_.getUniformLocation(v,"uvOffset"),uvScale:_.getUniformLocation(v,"uvScale"),rotation:_.getUniformLocation(v,"rotation"),scale:_.getUniformLocation(v,"scale"),color:_.getUniformLocation(v,"color"),map:_.getUniformLocation(v,"map"),opacity:_.getUniformLocation(v,"opacity"),modelViewMatrix:_.getUniformLocation(v,"modelViewMatrix"),projectionMatrix:_.getUniformLocation(v,"projectionMatrix"),fogType:_.getUniformLocation(v,"fogType"),fogDensity:_.getUniformLocation(v,"fogDensity"),fogNear:_.getUniformLocation(v,"fogNear"),fogFar:_.getUniformLocation(v,"fogFar"),fogColor:_.getUniformLocation(v,"fogColor"),alphaTest:_.getUniformLocation(v,"alphaTest")};var o=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");o.width=8,o.height=8;var a=o.getContext("2d");a.fillStyle="white",a.fillRect(0,0,8,8),(y=new ht(o)).needsUpdate=!0}function S(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}this.render=function(t,e){if(0!==f.length){void 0===v&&A(),_.useProgram(v),b.initAttributes(),b.enableAttribute(m.position),b.enableAttribute(m.uv),b.disableUnusedAttributes(),b.disable(_.CULL_FACE),b.enable(_.BLEND),_.bindBuffer(_.ARRAY_BUFFER,p),_.vertexAttribPointer(m.position,2,_.FLOAT,!1,16,0),_.vertexAttribPointer(m.uv,2,_.FLOAT,!1,16,8),_.bindBuffer(_.ELEMENT_ARRAY_BUFFER,d),_.uniformMatrix4fv(g.projectionMatrix,!1,e.projectionMatrix.elements),b.activeTexture(_.TEXTURE0),_.uniform1i(g.map,0);var n=0,r=0,i=t.fog;i?(_.uniform3f(g.fogColor,i.color.r,i.color.g,i.color.b),i.isFog?(_.uniform1f(g.fogNear,i.near),_.uniform1f(g.fogFar,i.far),_.uniform1i(g.fogType,1),r=n=1):i.isFogExp2&&(_.uniform1f(g.fogDensity,i.density),_.uniform1i(g.fogType,2),r=n=2)):(_.uniform1i(g.fogType,0),r=n=0);for(var o=0,a=f.length;o<a;o++){(l=f[o]).modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,l.matrixWorld),l.z=-l.modelViewMatrix.elements[14]}f.sort(S);var s=[];for(o=0,a=f.length;o<a;o++){var l,u=(l=f[o]).material;if(!1!==u.visible){_.uniform1f(g.alphaTest,u.alphaTest),_.uniformMatrix4fv(g.modelViewMatrix,!1,l.modelViewMatrix.elements),l.matrixWorld.decompose(w,E,x),s[0]=x.x,s[1]=x.y;var c=0;t.fog&&u.fog&&(c=r),n!==c&&(_.uniform1i(g.fogType,c),n=c),null!==u.map?(_.uniform2f(g.uvOffset,u.map.offset.x,u.map.offset.y),_.uniform2f(g.uvScale,u.map.repeat.x,u.map.repeat.y)):(_.uniform2f(g.uvOffset,0,0),_.uniform2f(g.uvScale,1,1)),_.uniform1f(g.opacity,u.opacity),_.uniform3f(g.color,u.color.r,u.color.g,u.color.b),_.uniform1f(g.rotation,u.rotation),_.uniform2fv(g.scale,s),b.setBlending(u.blending,u.blendEquation,u.blendSrc,u.blendDst),b.setDepthTest(u.depthTest),b.setDepthWrite(u.depthWrite),u.map?h.setTexture2D(u.map,0):h.setTexture2D(y,0),_.drawElements(_.TRIANGLES,6,_.UNSIGNED_SHORT,0)}}b.enable(_.CULL_FACE),h.resetGLState()}}}Hn.physical={uniforms:Mn.merge([Hn.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Cn.meshphysical_vert,fragmentShader:Cn.meshphysical_frag},Un.prototype={constructor:Un,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:($n=new an,function(t,e){var n=$n.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new an;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new an;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new an).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new an).copy(t).clamp(this.min,this.max)},distanceToPoint:(Nn=new an,function(t){return Nn.copy(t).clamp(this.min,this.max).sub(t).length()}),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}};var Yn,Gn,Bn,kn,Vn,Wn,Xn,qn,Kn,Zn,Qn,Jn,tr,er,nr,rr,ir,or,ar,sr,lr,ur,cr,hr,fr,pr,dr,vr,mr,gr,yr=0;function _r(){Object.defineProperty(this,"id",{value:yr++}),this.uuid=I.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Gt,this.side=w,this.shading=l,this.vertexColors=zt,this.opacity=1,this.transparent=!1,this.blendSrc=re,this.blendDst=ie,this.blendEquation=Xt,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=pe,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0}function br(t){_r.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},(this.index0AttributeName=void 0)!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function wr(t){_r.call(this),this.type="MeshDepthMaterial",this.depthPacking=T,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function Er(t,e){this.min=void 0!==t?t:new ln(1/0,1/0,1/0),this.max=void 0!==e?e:new ln(-1/0,-1/0,-1/0)}function xr(t,e){this.center=void 0!==t?t:new ln,this.radius=void 0!==e?e:0}function Ar(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function Sr(t,e){this.normal=void 0!==t?t:new ln(1,0,0),this.constant=void 0!==e?e:0}function Tr(t,e,n,r,i,o){this.planes=[void 0!==t?t:new Sr,void 0!==e?e:new Sr,void 0!==n?n:new Sr,void 0!==r?r:new Sr,void 0!==i?i:new Sr,void 0!==o?o:new Sr]}function Lr(M,t,C,e){var j=M.context,R=M.state,O=new Tr,N=new un,$=t.shadows,D=new an,H=new an(e.maxTextureSize,e.maxTextureSize),U=new ln,F=new ln,z=[],m=1,g=2,n=1+(m|g),y=new Array(n),_=new Array(n),b={},Y=[new ln(1,0,0),new ln(-1,0,0),new ln(0,0,1),new ln(0,0,-1),new ln(0,1,0),new ln(0,-1,0)],G=[new ln(0,1,0),new ln(0,1,0),new ln(0,1,0),new ln(0,1,0),new ln(0,0,1),new ln(0,0,-1)],B=[new sn,new sn,new sn,new sn,new sn,new sn],r=new wr;r.depthPacking=L,r.clipping=!0;for(var i=Hn.distanceRGBA,o=Mn.clone(i.uniforms),a=0;a!==n;++a){var s=0!=(a&m),l=0!=(a&g),u=r.clone();u.morphTargets=s,u.skinning=l,y[a]=u;var c=new br({defines:{USE_SHADOWMAP:""},uniforms:o,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,morphTargets:s,skinning:l,clipping:!0});_[a]=c}var k=this;function V(t,e,n,r){var i=t.geometry,o=null,a=y,s=t.customDepthMaterial;if(n&&(a=_,s=t.customDistanceMaterial),s)o=s;else{var l=!1;e.morphTargets&&(i&&i.isBufferGeometry?l=i.morphAttributes&&i.morphAttributes.position&&0<i.morphAttributes.position.length:i&&i.isGeometry&&(l=i.morphTargets&&0<i.morphTargets.length));var u=t.isSkinnedMesh&&e.skinning,c=0;l&&(c|=m),u&&(c|=g),o=a[c]}if(M.localClippingEnabled&&!0===e.clipShadows&&0!==e.clippingPlanes.length){var h=o.uuid,f=e.uuid,p=b[h];void 0===p&&(p={},b[h]=p);var d=p[f];void 0===d&&(d=o.clone(),p[f]=d),o=d}o.visible=e.visible,o.wireframe=e.wireframe;var v=e.side;return k.renderSingleSided&&v==Ut&&(v=w),k.renderReverseSided&&(v===w?v=Ht:v===Ht&&(v=w)),o.side=v,o.clipShadows=e.clipShadows,o.clippingPlanes=e.clippingPlanes,o.wireframeLinewidth=e.wireframeLinewidth,o.linewidth=e.linewidth,n&&void 0!==o.uniforms.lightPos&&o.uniforms.lightPos.value.copy(r),o}function W(t,e,n){if(!1!==t.visible){if(0!=(t.layers.mask&e.layers.mask)&&(t.isMesh||t.isLine||t.isPoints))if(t.castShadow&&(!1===t.frustumCulled||!0===O.intersectsObject(t)))!0===t.material.visible&&(t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),z.push(t));for(var r=t.children,i=0,o=r.length;i<o;i++)W(r[i],e,n)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=X,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(t,e){if(!1!==k.enabled&&(!1!==k.autoUpdate||!1!==k.needsUpdate)&&0!==$.length){var n,r;R.buffers.color.setClear(1,1,1,1),R.disable(j.BLEND),R.setDepthTest(!0),R.setScissorTest(!1);for(var i=0,o=$.length;i<o;i++){var a=$[i],s=a.shadow;if(void 0!==s){var l=s.camera;if(D.copy(s.mapSize),D.min(H),a&&a.isPointLight){n=6,r=!0;var u=D.x,c=D.y;B[0].set(2*u,c,u,c),B[1].set(0,c,u,c),B[2].set(3*u,c,u,c),B[3].set(u,c,u,c),B[4].set(3*u,0,u,c),B[5].set(u,0,u,c),D.x*=4,D.y*=2}else r=!(n=1);if(null===s.map){var h={minFilter:Ee,magFilter:Ee,format:Ye};s.map=new ft(D.x,D.y,h),l.updateProjectionMatrix()}s.isSpotLightShadow&&s.update(a),s&&s.isRectAreaLightShadow&&s.update(a);var f=s.map,p=s.matrix;F.setFromMatrixPosition(a.matrixWorld),l.position.copy(F),M.setRenderTarget(f),M.clear();for(var d=0;d<n;d++){if(r){U.copy(l.position),U.add(Y[d]),l.up.copy(G[d]),l.lookAt(U);var v=B[d];R.viewport(v)}else U.setFromMatrixPosition(a.target.matrixWorld),l.lookAt(U);l.updateMatrixWorld(),l.matrixWorldInverse.getInverse(l.matrixWorld),p.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),p.multiply(l.projectionMatrix),p.multiply(l.matrixWorldInverse),N.multiplyMatrices(l.projectionMatrix,l.matrixWorldInverse),O.setFromMatrix(N),z.length=0,W(t,e,l);for(var m=0,g=z.length;m<g;m++){var y=z[m],_=C.update(y),b=y.material;if(b&&b.isMultiMaterial)for(var w=_.groups,E=b.materials,x=0,A=w.length;x<A;x++){var S=w[x],T=E[S.materialIndex];if(!0===T.visible){var L=V(y,T,r,F);M.renderBufferDirect(l,null,_,L,y,S)}}else{L=V(y,b,r,F);M.renderBufferDirect(l,null,_,L,y,null)}}}}else console.warn("THREE.WebGLShadowMap:",a,"has no shadow.")}var I=M.getClearColor(),P=M.getClearAlpha();M.setClearColor(I,P),k.needsUpdate=!1}}}function Ir(t,e){this.origin=void 0!==t?t:new ln,this.direction=void 0!==e?e:new ln}function Pr(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||Pr.DefaultOrder}function Mr(){this.mask=1}_r.prototype={constructor:_r,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){!0===t&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]="overdraw"===e?Number(n):n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};function r(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Gt&&(n.blending=this.blending),this.shading!==l&&(n.shading=this.shading),this.side!==w&&(n.side=this.side),this.vertexColors!==zt&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0<this.alphaTest&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),1<this.wireframeLinewidth&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),n.skinning=this.skinning,n.morphTargets=this.morphTargets,e){var i=r(t.textures),o=r(t.images);0<i.length&&(n.textures=i),0<o.length&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(_r.prototype,e.prototype),((br.prototype=Object.create(_r.prototype)).constructor=br).prototype.isShaderMaterial=!0,br.prototype.copy=function(t){return _r.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Mn.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},br.prototype.toJSON=function(t){var e=_r.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},((wr.prototype=Object.create(_r.prototype)).constructor=wr).prototype.isMeshDepthMaterial=!0,wr.prototype.copy=function(t){return _r.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Er.prototype={constructor:Er,isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=t.length;s<l;s+=3){var u=t[s],c=t[s+1],h=t[s+2];u<e&&(e=u),c<n&&(n=c),h<r&&(r=h),i<u&&(i=u),o<c&&(o=c),a<h&&(a=h)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=t.count;s<l;s++){var u=t.getX(s),c=t.getY(s),h=t.getZ(s);u<e&&(e=u),c<n&&(n=c),h<r&&(r=h),i<u&&(i=u),o<c&&(o=c),a<h&&(a=h)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:(Wn=new ln,function(t,e){var n=Wn.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new ln;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new ln;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:(Vn=new ln,function(t){var a=this;return t.updateMatrixWorld(!0),t.traverse(function(t){var e,n,r=t.geometry;if(void 0!==r)if(r.isGeometry){var i=r.vertices;for(e=0,n=i.length;e<n;e++)Vn.copy(i[e]),Vn.applyMatrix4(t.matrixWorld),a.expandByPoint(Vn)}else if(r.isBufferGeometry){var o=r.attributes.position;if(void 0!==o)for(e=0,n=o.count;e<n;e++)Vn.fromBufferAttribute(o,e).applyMatrix4(t.matrixWorld),a.expandByPoint(Vn)}}),this}),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new ln).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(t){return void 0===kn&&(kn=new ln),this.clampPoint(t.center,kn),kn.distanceToSquared(t.center)<=t.radius*t.radius},intersectsPlane:function(t){var e,n;return 0<t.normal.x?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),0<t.normal.y?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),0<t.normal.z?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){return(e||new ln).copy(t).clamp(this.min,this.max)},distanceToPoint:(Bn=new ln,function(t){return Bn.copy(t).clamp(this.min,this.max).sub(t).length()}),getBoundingSphere:(Gn=new ln,function(t){var e=t||new xr;return this.getCenter(e.center),e.radius=.5*this.getSize(Gn).length(),e}),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(Yn=[new ln,new ln,new ln,new ln,new ln,new ln,new ln,new ln],function(t){return this.isEmpty()||(Yn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Yn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Yn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Yn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Yn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Yn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Yn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Yn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Yn)),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},xr.prototype={constructor:xr,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(t,e){void 0===Xn&&(Xn=new Er);var n=this.center;void 0!==e?n.copy(e):Xn.setFromPoints(t).getCenter(n);for(var r=0,i=0,o=t.length;i<o;i++)r=Math.max(r,n.distanceToSquared(t[i]));return this.radius=Math.sqrt(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),r=e||new ln;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new Er;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},Ar.prototype={constructor:Ar,isMatrix3:!0,set:function(t,e,n,r,i,o,a,s,l){var u=this.elements;return u[0]=t,u[1]=r,u[2]=a,u[3]=e,u[4]=i,u[5]=s,u[6]=n,u[7]=o,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(t){void 0===qn&&(qn=new ln);for(var e=0,n=t.count;e<n;e++)qn.x=t.getX(e),qn.y=t.getY(e),qn.z=t.getZ(e),qn.applyMatrix3(this),t.setXYZ(e,qn.x,qn.y,qn.z);return t},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*o*u-e*a*l-n*i*u+n*a*s+r*i*l-r*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=n[6],h=n[7],f=n[8],p=f*l-u*h,d=u*c-f*s,v=h*s-l*c,m=i*p+o*d+a*v;if(0===m){var g="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(g);return console.warn(g),this.identity()}var y=1/m;return r[0]=p*y,r[1]=(a*h-f*o)*y,r[2]=(u*o-a*l)*y,r[3]=d*y,r[4]=(f*i-a*c)*y,r[5]=(a*s-u*i)*y,r[6]=v*y,r[7]=(o*c-h*i)*y,r[8]=(l*i-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},Sr.prototype={constructor:Sr,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:(Jn=new ln,tr=new ln,function(t,e,n){var r=Jn.subVectors(n,e).cross(tr.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new ln).copy(this.normal).multiplyScalar(n)},intersectLine:(Qn=new ln,function(t,e){var n=e||new ln,r=t.delta(Qn),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(t.start)?n.copy(t.start):void 0;var o=-(t.start.dot(this.normal)+this.constant)/i;return o<0||1<o?void 0:n.copy(r).multiplyScalar(o).add(t.start)}),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&0<n||n<0&&0<e},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new ln).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:(Kn=new ln,Zn=new Ar,function(t,e){var n=this.coplanarPoint(Kn).applyMatrix4(t),r=e||Zn.getNormalMatrix(t),i=this.normal.applyMatrix3(r).normalize();return this.constant=-n.dot(i),this}),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},Tr.prototype={constructor:Tr,set:function(t,e,n,r,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],f=n[9],p=n[10],d=n[11],v=n[12],m=n[13],g=n[14],y=n[15];return e[0].setComponents(a-r,c-s,d-h,y-v).normalize(),e[1].setComponents(a+r,c+s,d+h,y+v).normalize(),e[2].setComponents(a+i,c+l,d+f,y+m).normalize(),e[3].setComponents(a-i,c-l,d-f,y-m).normalize(),e[4].setComponents(a-o,c-u,d-p,y-g).normalize(),e[5].setComponents(a+o,c+u,d+p,y+g).normalize(),this},intersectsObject:(ir=new xr,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),ir.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(ir)}),intersectsSprite:(rr=new xr,function(t){return rr.center.set(0,0,0),rr.radius=.7071067811865476,rr.applyMatrix4(t.matrixWorld),this.intersectsSphere(rr)}),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:(er=new ln,nr=new ln,function(t){for(var e=this.planes,n=0;n<6;n++){var r=e[n];er.x=0<r.normal.x?t.min.x:t.max.x,nr.x=0<r.normal.x?t.max.x:t.min.x,er.y=0<r.normal.y?t.min.y:t.max.y,nr.y=0<r.normal.y?t.max.y:t.min.y,er.z=0<r.normal.z?t.min.z:t.max.z,nr.z=0<r.normal.z?t.max.z:t.min.z;var i=r.distanceToPoint(er),o=r.distanceToPoint(nr);if(i<0&&o<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},Ir.prototype={constructor:Ir,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new ln).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:(vr=new ln,function(t){return this.origin.copy(this.at(t,vr)),this}),closestPointToPoint:function(t,e){var n=e||new ln;n.subVectors(t,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:(dr=new ln,function(t){var e=dr.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(dr.copy(this.direction).multiplyScalar(e).add(this.origin),dr.distanceToSquared(t))}),distanceSqToSegment:(hr=new ln,fr=new ln,pr=new ln,function(t,e,n,r){hr.copy(t).add(e).multiplyScalar(.5),fr.copy(e).sub(t).normalize(),pr.copy(this.origin).sub(hr);var i,o,a,s,l=.5*t.distanceTo(e),u=-this.direction.dot(fr),c=pr.dot(this.direction),h=-pr.dot(fr),f=pr.lengthSq(),p=Math.abs(1-u*u);if(0<p)if(o=u*c-h,s=l*p,0<=(i=u*h-c))if(-s<=o)if(o<=s){var d=1/p;a=(i*=d)*(i+u*(o*=d)+2*c)+o*(u*i+o+2*h)+f}else o=l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*h)+f;else o=-l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*h)+f;else o<=-s?a=-(i=Math.max(0,-(-u*l+c)))*i+(o=0<i?-l:Math.min(Math.max(-l,-h),l))*(o+2*h)+f:o<=s?(i=0,a=(o=Math.min(Math.max(-l,-h),l))*(o+2*h)+f):a=-(i=Math.max(0,-(u*l+c)))*i+(o=0<i?l:Math.min(Math.max(-l,-h),l))*(o+2*h)+f;else o=0<u?-l:l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*h)+f;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(fr).multiplyScalar(o).add(hr),a}),intersectSphere:(cr=new ln,function(t,e){cr.subVectors(t.center,this.origin);var n=cr.dot(this.direction),r=cr.dot(cr)-n*n,i=t.radius*t.radius;if(i<r)return null;var o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,e):this.at(a,e)}),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return 0<=n?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,o,a,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return 0<=l?(n=(t.min.x-h.x)*l,r=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,r=(t.min.x-h.x)*l),0<=u?(i=(t.min.y-h.y)*u,o=(t.max.y-h.y)*u):(i=(t.max.y-h.y)*u,o=(t.min.y-h.y)*u),o<n||r<i?null:((n<i||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),0<=c?(a=(t.min.z-h.z)*c,s=(t.max.z-h.z)*c):(a=(t.max.z-h.z)*c,s=(t.min.z-h.z)*c),s<n||r<a?null:((n<a||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(0<=n?n:r,e)))},intersectsBox:(ur=new ln,function(t){return null!==this.intersectBox(t,ur)}),intersectTriangle:(or=new ln,ar=new ln,sr=new ln,lr=new ln,function(t,e,n,r,i){ar.subVectors(e,t),sr.subVectors(n,t),lr.crossVectors(ar,sr);var o,a=this.direction.dot(lr);if(0<a){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}or.subVectors(this.origin,t);var s=o*this.direction.dot(sr.crossVectors(or,sr));if(s<0)return null;var l=o*this.direction.dot(ar.cross(or));if(l<0)return null;if(a<s+l)return null;var u=-o*or.dot(lr);return u<0?null:this.at(u/a,i)}),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},Pr.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Pr.DefaultOrder="XYZ",Pr.prototype={constructor:Pr,isEuler:!0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=I.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],l=i[1],u=i[5],c=i[9],h=i[2],f=i[6],p=i[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,u),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o))):"ZYX"===e?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(f,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u))):"YZX"===e?(this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===e?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(t,e,n){return void 0===gr&&(gr=new un),gr.makeRotationFromQuaternion(t),this.setFromRotationMatrix(gr,e,n)},setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(mr=new dt,function(t){return mr.setFromEuler(this),this.setFromQuaternion(mr,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new ln(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Mr.prototype={constructor:Mr,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!=(this.mask&t.mask)}};var Cr,jr,Rr,Or,Nr,$r,Dr,Hr,Ur,Fr,zr,Yr,Gr,Br,kr,Vr,Wr,Xr,qr,Kr,Zr,Qr,Jr,ti,ei,ni,ri,ii,oi,ai=0;function si(){Object.defineProperty(this,"id",{value:ai++}),this.uuid=I.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=si.DefaultUp.clone();var t=new ln,e=new Pr,n=new dt,r=new ln(1,1,1);e.onChange(function(){n.setFromEuler(e,!1)}),n.onChange(function(){e.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new un},normalMatrix:{value:new Ar}}),this.matrix=new un,this.matrixWorld=new un,this.matrixAutoUpdate=si.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Mr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function li(t,e){this.start=void 0!==t?t:new ln,this.end=void 0!==e?e:new ln}function ui(t,e,n){this.a=void 0!==t?t:new ln,this.b=void 0!==e?e:new ln,this.c=void 0!==n?n:new ln}function ci(t,e,n,r,i,o){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new ln,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new jn,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function hi(t){_r.call(this),this.type="MeshBasicMaterial",this.color=new jn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=D,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function fi(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=I.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function pi(t,e){fi.call(this,new Int8Array(t),e)}function di(t,e){fi.call(this,new Uint8Array(t),e)}function vi(t,e){fi.call(this,new Uint8ClampedArray(t),e)}function mi(t,e){fi.call(this,new Int16Array(t),e)}function gi(t,e){fi.call(this,new Uint16Array(t),e)}function yi(t,e){fi.call(this,new Int32Array(t),e)}function _i(t,e){fi.call(this,new Uint32Array(t),e)}function bi(t,e){fi.call(this,new Float32Array(t),e)}function wi(t,e){fi.call(this,new Float64Array(t),e)}function Ei(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function xi(t){for(var e=t.length,n=-1/0;e--;)t[e]>n&&(n=t[e]);return n}si.DefaultUp=new ln(0,1,0),si.DefaultMatrixAutoUpdate=!0,si.prototype={constructor:si,isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(Vr=new dt,function(t,e){return Vr.setFromAxisAngle(t,e),this.quaternion.multiply(Vr),this}),rotateX:(kr=new ln(1,0,0),function(t){return this.rotateOnAxis(kr,t)}),rotateY:(Br=new ln(0,1,0),function(t){return this.rotateOnAxis(Br,t)}),rotateZ:(Gr=new ln(0,0,1),function(t){return this.rotateOnAxis(Gr,t)}),translateOnAxis:(Yr=new ln,function(t,e){return Yr.copy(t).applyQuaternion(this.quaternion),this.position.add(Yr.multiplyScalar(e)),this}),translateX:(zr=new ln(1,0,0),function(t){return this.translateOnAxis(zr,t)}),translateY:(Fr=new ln(0,1,0),function(t){return this.translateOnAxis(Fr,t)}),translateZ:(Ur=new ln(0,0,1),function(t){return this.translateOnAxis(Ur,t)}),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(Hr=new un,function(t){return t.applyMatrix4(Hr.getInverse(this.matrixWorld))}),lookAt:(Dr=new un,function(t){Dr.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(Dr)}),add:function(t){if(1<arguments.length){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",t):t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this},remove:function(t){if(1<arguments.length)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var n=this.children.indexOf(t);-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){var e=t||new ln;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(Nr=new ln,$r=new ln,function(t){var e=t||new dt;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(Nr,e,$r),e}),getWorldRotation:(Or=new dt,function(t){var e=t||new Pr;return this.getWorldQuaternion(Or),e.setFromQuaternion(Or,this.rotation.order,!1)}),getWorldScale:(jr=new ln,Rr=new dt,function(t){var e=t||new ln;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(jr,Rr,e),e}),getWorldDirection:(Cr=new dt,function(t){var e=t||new ln;return this.getWorldQuaternion(Cr),e.set(0,0,1).applyQuaternion(Cr)}),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==t||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){var e=void 0===t||""===t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{}},n.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var r={};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),r.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),r.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),r.material=this.material.uuid),0<this.children.length){r.children=[];for(var i=0;i<this.children.length;i++)r.children.push(this.children[i].toJSON(t).object)}if(e){var o=u(t.geometries),a=u(t.materials),s=u(t.textures),l=u(t.images);0<o.length&&(n.geometries=o),0<a.length&&(n.materials=a),0<s.length&&(n.textures=s),0<l.length&&(n.images=l)}return n.object=r,n;function u(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}},Object.assign(si.prototype,e.prototype),li.prototype={constructor:li,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return(t||new ln).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new ln).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new ln;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(Wr=new ln,Xr=new ln,function(t,e){Wr.subVectors(t,this.start),Xr.subVectors(this.end,this.start);var n=Xr.dot(Xr),r=Xr.dot(Wr)/n;return e&&(r=I.clamp(r,0,1)),r}),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e),i=n||new ln;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},ui.normal=(qr=new ln,function(t,e,n,r){var i=r||new ln;i.subVectors(n,e),qr.subVectors(t,e),i.cross(qr);var o=i.lengthSq();return 0<o?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}),ui.barycoordFromPoint=(Kr=new ln,Zr=new ln,Qr=new ln,function(t,e,n,r,i){Kr.subVectors(r,e),Zr.subVectors(n,e),Qr.subVectors(t,e);var o=Kr.dot(Kr),a=Kr.dot(Zr),s=Kr.dot(Qr),l=Zr.dot(Zr),u=Zr.dot(Qr),c=o*l-a*a,h=i||new ln;if(0===c)return h.set(-2,-1,-1);var f=1/c,p=(l*s-a*u)*f,d=(o*u-a*s)*f;return h.set(1-p-d,d,p)}),ui.containsPoint=(Jr=new ln,function(t,e,n,r){var i=ui.barycoordFromPoint(t,e,n,r,Jr);return 0<=i.x&&0<=i.y&&i.x+i.y<=1}),ui.prototype={constructor:ui,set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:(ii=new ln,oi=new ln,function(){return ii.subVectors(this.c,this.b),oi.subVectors(this.a,this.b),.5*ii.cross(oi).length()}),midpoint:function(t){return(t||new ln).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return ui.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new Sr).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return ui.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return ui.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(t,e){void 0===ti&&(ti=new Sr,ei=[new li,new li,new li],ni=new ln,ri=new ln);var n=e||new ln,r=1/0;if(ti.setFromCoplanarPoints(this.a,this.b,this.c),ti.projectPoint(t,ni),!0===this.containsPoint(ni))n.copy(ni);else{ei[0].set(this.a,this.b),ei[1].set(this.b,this.c),ei[2].set(this.c,this.a);for(var i=0;i<ei.length;i++){ei[i].closestPointToPoint(ni,!0,ri);var o=ni.distanceToSquared(ri);o<r&&(r=o,n.copy(ri))}}return n},equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},ci.prototype={constructor:ci,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},((hi.prototype=Object.create(_r.prototype)).constructor=hi).prototype.isMeshBasicMaterial=!0,hi.prototype.copy=function(t){return _r.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},fi.prototype={constructor:fi,isBufferAttribute:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new jn),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];e[n++]=o.a,e[n++]=o.b,e[n++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new an),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new ln),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new sn),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},(pi.prototype=Object.create(fi.prototype)).constructor=pi,(di.prototype=Object.create(fi.prototype)).constructor=di,(vi.prototype=Object.create(fi.prototype)).constructor=vi,(mi.prototype=Object.create(fi.prototype)).constructor=mi,(gi.prototype=Object.create(fi.prototype)).constructor=gi,(yi.prototype=Object.create(fi.prototype)).constructor=yi,(_i.prototype=Object.create(fi.prototype)).constructor=_i,(bi.prototype=Object.create(fi.prototype)).constructor=bi,(wi.prototype=Object.create(fi.prototype)).constructor=wi,Object.assign(Ei.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:r})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,i=t.faceVertexUvs,o=i[0]&&0<i[0].length,a=i[1]&&0<i[1].length,s=t.morphTargets,l=s.length;if(0<l){e=[];for(var u=0;u<l;u++)e[u]=[];this.morphTargets.position=e}var c,h=t.morphNormals,f=h.length;if(0<f){c=[];for(u=0;u<f;u++)c[u]=[];this.morphTargets.normal=c}var p=t.skinIndices,d=t.skinWeights,v=p.length===r.length,m=d.length===r.length;for(u=0;u<n.length;u++){var g=n[u];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var _=g.normal;this.normals.push(_,_,_)}var b,w=g.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var E=g.color;this.colors.push(E,E,E)}if(!0===o)void 0!==(b=i[0][u])?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new an,new an,new an));if(!0===a)void 0!==(b=i[1][u])?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new an,new an,new an));for(var x=0;x<l;x++){var A=s[x].vertices;e[x].push(A[g.a],A[g.b],A[g.c])}for(x=0;x<f;x++){var S=h[x].vertexNormals[u];c[x].push(S.a,S.b,S.c)}v&&this.skinIndices.push(p[g.a],p[g.b],p[g.c]),m&&this.skinWeights.push(d[g.a],d[g.b],d[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var Ai,Si,Ti,Li,Ii,Pi,Mi,Ci,ji,Ri,Oi,Ni,$i,Di,Hi,Ui,Fi=0;function zi(){return Fi++}function Yi(){Object.defineProperty(this,"id",{value:zi()}),this.uuid=I.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Gi(){Object.defineProperty(this,"id",{value:zi()}),this.uuid=I.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Bi(t,e){si.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Gi,this.material=void 0!==e?e:new hi({color:16777215*Math.random()}),this.drawMode=nn,this.updateMorphTargets()}function ki(t,e,n,r,i,o){Yi.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Vi(t,e,n,r,i,o)),this.mergeVertices()}function Vi(t,e,n,r,i,o){Gi.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var P=this;r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var M=[],C=[],j=[],R=[],O=0,N=0;function a(t,e,n,r,i,o,a,s,l,u,c){var h,f,p=o/l,d=a/u,v=o/2,m=a/2,g=s/2,y=l+1,_=u+1,b=0,w=0,E=new ln;for(f=0;f<_;f++){var x=f*d-m;for(h=0;h<y;h++){var A=h*p-v;E[t]=A*r,E[e]=x*i,E[n]=g,C.push(E.x,E.y,E.z),E[t]=0,E[e]=0,E[n]=0<s?1:-1,j.push(E.x,E.y,E.z),R.push(h/l),R.push(1-f/u),b+=1}}for(f=0;f<u;f++)for(h=0;h<l;h++){var S=O+h+y*f,T=O+h+y*(f+1),L=O+(h+1)+y*(f+1),I=O+(h+1)+y*f;M.push(S,T,I),M.push(T,L,I),w+=6}P.addGroup(N,w,c),N+=w,O+=b}a("z","y","x",-1,-1,n,e,t,o,i,0),a("z","y","x",1,-1,n,e,-t,o,i,1),a("x","z","y",1,1,t,n,e,r,o,2),a("x","z","y",1,-1,t,n,-e,r,o,3),a("x","y","z",1,-1,t,e,n,r,i,4),a("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(M),this.addAttribute("position",new bi(C,3)),this.addAttribute("normal",new bi(j,3)),this.addAttribute("uv",new bi(R,2))}function Wi(t,e,n,r){Yi.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Xi(t,e,n,r))}function Xi(t,e,n,r){Gi.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i,o,a=t/2,s=e/2,l=Math.floor(n)||1,u=Math.floor(r)||1,c=l+1,h=u+1,f=t/l,p=e/u,d=[],v=[],m=[],g=[];for(o=0;o<h;o++){var y=o*p-s;for(i=0;i<c;i++){var _=i*f-a;v.push(_,-y,0),m.push(0,0,1),g.push(i/l),g.push(1-o/u)}}for(o=0;o<u;o++)for(i=0;i<l;i++){var b=i+c*o,w=i+c*(o+1),E=i+1+c*(o+1),x=i+1+c*o;d.push(b,w,x),d.push(w,E,x)}this.setIndex(d),this.addAttribute("position",new bi(v,3)),this.addAttribute("normal",new bi(m,3)),this.addAttribute("uv",new bi(g,2))}function qi(){si.call(this),this.type="Camera",this.matrixWorldInverse=new un,this.projectionMatrix=new un}function Ki(t,e,n,r){qi.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Zi(t,e,n,r,i,o){qi.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Qi(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),!1===t.getShaderParameter(r,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(r),function(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}(n)),r}Yi.prototype={constructor:Yi,isGeometry:!0,applyMatrix:function(t){for(var e=(new Ar).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(t)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return void 0===Pi&&(Pi=new un),Pi.makeRotationX(t),this.applyMatrix(Pi),this},rotateY:function(t){return void 0===Ii&&(Ii=new un),Ii.makeRotationY(t),this.applyMatrix(Ii),this},rotateZ:function(t){return void 0===Li&&(Li=new un),Li.makeRotationZ(t),this.applyMatrix(Li),this},translate:function(t,e,n){return void 0===Ti&&(Ti=new un),Ti.makeTranslation(t,e,n),this.applyMatrix(Ti),this},scale:function(t,e,n){return void 0===Si&&(Si=new un),Si.makeScale(t,e,n),this.applyMatrix(Si),this},lookAt:function(t){void 0===Ai&&(Ai=new si),Ai.lookAt(t),Ai.updateMatrix(),this.applyMatrix(Ai.matrix)},fromBufferGeometry:function(t){var o=this,e=null!==t.index?t.index.array:void 0,n=t.attributes,r=n.position.array,a=void 0!==n.normal?n.normal.array:void 0,s=void 0!==n.color?n.color.array:void 0,l=void 0!==n.uv?n.uv.array:void 0,u=void 0!==n.uv2?n.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var c=[],h=[],f=[],i=0,p=0;i<r.length;i+=3,p+=2)o.vertices.push(new ln(r[i],r[i+1],r[i+2])),void 0!==a&&c.push(new ln(a[i],a[i+1],a[i+2])),void 0!==s&&o.colors.push(new jn(s[i],s[i+1],s[i+2])),void 0!==l&&h.push(new an(l[p],l[p+1])),void 0!==u&&f.push(new an(u[p],u[p+1]));function d(t,e,n,r){var i=new ci(t,e,n,void 0!==a?[c[t].clone(),c[e].clone(),c[n].clone()]:[],void 0!==s?[o.colors[t].clone(),o.colors[e].clone(),o.colors[n].clone()]:[],r);o.faces.push(i),void 0!==l&&o.faceVertexUvs[0].push([h[t].clone(),h[e].clone(),h[n].clone()]),void 0!==u&&o.faceVertexUvs[1].push([f[t].clone(),f[e].clone(),f[n].clone()])}if(void 0!==e){var v=t.groups;if(0<v.length)for(i=0;i<v.length;i++)for(var m=v[i],g=m.start,y=(p=g,g+m.count);p<y;p+=3)d(e[p],e[p+1],e[p+2],m.materialIndex);else for(i=0;i<e.length;i+=3)d(e[i],e[i+1],e[i+2])}else for(i=0;i<r.length/3;i+=3)d(i,i+1,i+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new un;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new ln,e=new ln,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){var e,n,r,i,o,a;for(void 0===t&&(t=!0),a=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)a[e]=new ln;if(t){var s,l,u,c=new ln,h=new ln;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],l=this.vertices[o.b],u=this.vertices[o.c],c.subVectors(u,l),h.subVectors(s,l),c.cross(h),a[o.a].add(c),a[o.b].add(c),a[o.c].add(c)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)a[(o=this.faces[r]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)a[e].normalize();for(r=0,i=this.faces.length;r<i;r++){var f=(o=this.faces[r]).vertexNormals;3===f.length?(f[0].copy(a[o.a]),f[1].copy(a[o.b]),f[2].copy(a[o.c])):(f[0]=a[o.a].clone(),f[1]=a[o.b].clone(),f[2]=a[o.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var r=(n=this.faces[t]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new Yi;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)l=new ln,u={a:new ln,b:new ln,c:new ln},a.push(l),s.push(u)}var l,u,c=this.morphNormals[t];for(o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],l=c.faceNormals[n],u=c.vertexNormals[n],l.copy(i.normal),u.a.copy(i.vertexNormals[0]),u.b.copy(i.vertexNormals[1]),u.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,r=e.length;n<r;n++)0<n&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Er),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new xr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!1!==(t&&t.isGeometry)){var r,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,l=t.faces,u=this.faceVertexUvs[0],c=t.faceVertexUvs[0],h=this.colors,f=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new Ar).getNormalMatrix(e));for(var p=0,d=a.length;p<d;p++){var v=a[p].clone();void 0!==e&&v.applyMatrix4(e),o.push(v)}for(p=0,d=f.length;p<d;p++)h.push(f[p].clone());for(p=0,d=l.length;p<d;p++){var m,g,y,_=l[p],b=_.vertexNormals,w=_.vertexColors;(m=new ci(_.a+i,_.b+i,_.c+i)).normal.copy(_.normal),void 0!==r&&m.normal.applyMatrix3(r).normalize();for(var E=0,x=b.length;E<x;E++)g=b[E].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),m.vertexNormals.push(g);m.color.copy(_.color);for(E=0,x=w.length;E<x;E++)y=w[E],m.vertexColors.push(y.clone());m.materialIndex=_.materialIndex+n,s.push(m)}for(p=0,d=c.length;p<d;p++){var A=c[p],S=[];if(void 0!==A){for(E=0,x=A.length;E<x;E++)S.push(A[E].clone());u.push(S)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){!1!==(t&&t.isMesh)?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,n,r,i,o,a,s,l={},u=[],c=[],h=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],void 0===l[e=Math.round(t.x*h)+"_"+Math.round(t.y*h)+"_"+Math.round(t.z*h)]?(l[e]=n,u.push(this.vertices[n]),c[n]=u.length-1):c[n]=c[l[e]];var f=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=c[i.a],i.b=c[i.b],i.c=c[i.c],o=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(o[p]===o[(p+1)%3]){f.push(n);break}}for(n=f.length-1;0<=n;n--){var d=f[n];for(this.faces.splice(d,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(d,1)}var v=this.vertices.length-u.length;return this.vertices=u,v},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort(function(t,e){return t.materialIndex-e.materialIndex});var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===e&&(r=[]),a&&a.length===e&&(i=[]);for(n=0;n<e;n++){var s=t[n]._id;r&&r.push(o[s]),i&&i.push(a[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var t={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}var a=[],s=[],l={},u=[],c={},h=[],f={};for(i=0;i<this.faces.length;i++){var p=this.faces[i],d=void 0!==this.faceVertexUvs[0][i],v=0<p.normal.length(),m=0<p.vertexNormals.length,g=1!==p.color.r||1!==p.color.g||1!==p.color.b,y=0<p.vertexColors.length,_=0;if(_=x(_=x(_=x(_=x(_=x(_=x(_=x(_=x(_,0,0),1,!0),2,!1),3,d),4,v),5,m),6,g),7,y),a.push(_),a.push(p.a,p.b,p.c),a.push(p.materialIndex),d){var b=this.faceVertexUvs[0][i];a.push(T(b[0]),T(b[1]),T(b[2]))}if(v&&a.push(A(p.normal)),m){var w=p.vertexNormals;a.push(A(w[0]),A(w[1]),A(w[2]))}if(g&&a.push(S(p.color)),y){var E=p.vertexColors;a.push(S(E[0]),S(E[1]),S(E[2]))}}function x(t,e,n){return n?t|1<<e:t&~(1<<e)}function A(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==l[e]||(l[e]=s.length/3,s.push(t.x,t.y,t.z)),l[e]}function S(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==c[e]||(c[e]=u.length,u.push(t.getHex())),c[e]}function T(t){var e=t.x.toString()+t.y.toString();return void 0!==f[e]||(f[e]=h.length/2,h.push(t.x,t.y)),f[e]}return t.data={},t.data.vertices=r,t.data.normals=s,0<u.length&&(t.data.colors=u),0<h.length&&(t.data.uvs=[h]),t.data.faces=a,t},clone:function(){return(new Yi).copy(this)},copy:function(t){var e,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var l=t.colors;for(e=0,n=l.length;e<n;e++)this.colors.push(l[e].clone());var u=t.faces;for(e=0,n=u.length;e<n;e++)this.faces.push(u[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var c=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=c.length;r<i;r++){var h=c[r],f=[];for(o=0,a=h.length;o<a;o++){var p=h[o];f.push(p.clone())}this.faceVertexUvs[e].push(f)}}var d=t.morphTargets;for(e=0,n=d.length;e<n;e++){var v={};if(v.name=d[e].name,void 0!==d[e].vertices)for(v.vertices=[],r=0,i=d[e].vertices.length;r<i;r++)v.vertices.push(d[e].vertices[r].clone());if(void 0!==d[e].normals)for(v.normals=[],r=0,i=d[e].normals.length;r<i;r++)v.normals.push(d[e].normals[r].clone());this.morphTargets.push(v)}var m=t.morphNormals;for(e=0,n=m.length;e<n;e++){var g={};if(void 0!==m[e].vertexNormals)for(g.vertexNormals=[],r=0,i=m[e].vertexNormals.length;r<i;r++){var y=m[e].vertexNormals[r],_={};_.a=y.a.clone(),_.b=y.b.clone(),_.c=y.c.clone(),g.vertexNormals.push(_)}if(void 0!==m[e].faceNormals)for(g.faceNormals=[],r=0,i=m[e].faceNormals.length;r<i;r++)g.faceNormals.push(m[e].faceNormals[r].clone());this.morphNormals.push(g)}var b=t.skinWeights;for(e=0,n=b.length;e<n;e++)this.skinWeights.push(b[e].clone());var w=t.skinIndices;for(e=0,n=w.length;e<n;e++)this.skinIndices.push(w[e].clone());var E=t.lineDistances;for(e=0,n=E.length;e<n;e++)this.lineDistances.push(E[e]);var x=t.boundingBox;null!==x&&(this.boundingBox=x.clone());var A=t.boundingSphere;return null!==A&&(this.boundingSphere=A.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(Yi.prototype,e.prototype),Gi.prototype={constructor:Gi,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(65535<xi(t)?_i:gi)(t,1):this.index=t},addAttribute:function(t,e){return!1===(e&&e.isBufferAttribute)&&!1===(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new fi(e,arguments[2]))):"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new Ar).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return void 0===Di&&(Di=new un),Di.makeRotationX(t),this.applyMatrix(Di),this},rotateY:function(t){return void 0===$i&&($i=new un),$i.makeRotationY(t),this.applyMatrix($i),this},rotateZ:function(t){return void 0===Ni&&(Ni=new un),Ni.makeRotationZ(t),this.applyMatrix(Ni),this},translate:function(t,e,n){return void 0===Oi&&(Oi=new un),Oi.makeTranslation(t,e,n),this.applyMatrix(Oi),this},scale:function(t,e,n){return void 0===Ri&&(Ri=new un),Ri.makeScale(t,e,n),this.applyMatrix(Ri),this},lookAt:function(t){void 0===ji&&(ji=new si),ji.lookAt(t),ji.updateMatrix(),this.applyMatrix(ji.matrix)},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new bi(3*e.vertices.length,3),r=new bi(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new bi(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e,n=t.geometry;if(t.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(n.vertices),e.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(n.normals),e.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(n.colors),e.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(n.uvs),e.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(n.lineDistances),e.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(t.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Ei).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new fi(e,3).copyVector3sArray(t.vertices)),0<t.normals.length){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new fi(n,3).copyVector3sArray(t.normals))}if(0<t.colors.length){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new fi(r,3).copyColorsArray(t.colors))}if(0<t.uvs.length){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new fi(i,2).copyVector2sArray(t.uvs))}if(0<t.uvs2.length){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new fi(o,2).copyVector2sArray(t.uvs2))}if(0<t.indices.length){var a=new(65535<xi(t.indices)?Uint32Array:Uint16Array)(3*t.indices.length);this.setIndex(new fi(a,1).copyIndicesArray(t.indices))}for(var s in this.groups=t.groups,t.morphTargets){for(var l=[],u=t.morphTargets[s],c=0,h=u.length;c<h;c++){var f=u[c],p=new bi(3*f.length,3);l.push(p.copyVector3sArray(f))}this.morphAttributes[s]=l}if(0<t.skinIndices.length){var d=new bi(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(0<t.skinWeights.length){var v=new bi(4*t.skinWeights.length,4);this.addAttribute("skinWeight",v.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Er);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:(Mi=new Er,Ci=new ln,function(){null===this.boundingSphere&&(this.boundingSphere=new xr);var t=this.attributes.position;if(t){var e=this.boundingSphere.center;Mi.setFromBufferAttribute(t),Mi.getCenter(e);for(var n=0,r=0,i=t.count;r<i;r++)Ci.x=t.getX(r),Ci.y=t.getY(r),Ci.z=t.getZ(r),n=Math.max(n,e.distanceToSquared(Ci));this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new fi(new Float32Array(r.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,l,u,c=e.normal.array,h=new ln,f=new ln,p=new ln,d=new ln,v=new ln;if(t){var m=t.array;0===n.length&&this.addGroup(0,m.length);for(var g=0,y=n.length;g<y;++g){var _=n[g],b=_.start;for(o=b,a=b+_.count;o<a;o+=3)s=3*m[o+0],l=3*m[o+1],u=3*m[o+2],h.fromArray(r,s),f.fromArray(r,l),p.fromArray(r,u),d.subVectors(p,f),v.subVectors(h,f),d.cross(v),c[s]+=d.x,c[s+1]+=d.y,c[s+2]+=d.z,c[l]+=d.x,c[l+1]+=d.y,c[l+2]+=d.z,c[u]+=d.x,c[u+1]+=d.y,c[u+2]+=d.z}}else for(o=0,a=r.length;o<a;o+=9)h.fromArray(r,o),f.fromArray(r,o+3),p.fromArray(r,o+6),d.subVectors(p,f),v.subVectors(h,f),d.cross(v),c[o]=d.x,c[o+1]=d.y,c[o+2]=d.z,c[o+3]=d.x,c[o+4]=d.y,c[o+5]=d.z,c[o+6]=d.x,c[o+7]=d.y,c[o+8]=d.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!1!==(t&&t.isBufferGeometry)){void 0===e&&(e=0);var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r].array,o=t.attributes[r],a=o.array,s=0,l=o.itemSize*e;s<a.length;s++,l++)i[l]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t,e,n,r,i=this.attributes.normal.array,o=0,a=i.length;o<a;o+=3)t=i[o],e=i[o+1],n=i[o+2],r=1/Math.sqrt(t*t+e*e+n*n),i[o]*=r,i[o+1]*=r,i[o+2]*=r},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Gi,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),l=0,u=0,c=0,h=e.length;c<h;c++){l=e[c]*a;for(var f=0;f<a;f++)s[u++]=o[l++]}t.addAttribute(r,new fi(s,a))}return t},toJSON:function(){var t={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n];i=Array.prototype.slice.call(a.array);t.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;0<s.length&&(t.data.groups=JSON.parse(JSON.stringify(s)));var l=this.boundingSphere;return null!==l&&(t.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),t},clone:function(){return(new Gi).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var o=t.attributes;for(e in o){var a=o[e];this.addAttribute(e,a.clone())}var s=t.morphAttributes;for(e in s){var l=[],u=s[e];for(n=0,r=u.length;n<r;n++)l.push(u[n].clone());this.morphAttributes[e]=l}var c=t.groups;for(n=0,r=c.length;n<r;n++){var h=c[n];this.addGroup(h.start,h.count,h.materialIndex)}var f=t.boundingBox;null!==f&&(this.boundingBox=f.clone());var p=t.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Gi.MaxIndex=65535,Object.assign(Gi.prototype,e.prototype),Bi.prototype=Object.assign(Object.create(si.prototype),{constructor:Bi,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return si.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&0<t.length){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,n=t.length;e<n;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){var O=new un,N=new Ir,$=new xr,D=new ln,H=new ln,U=new ln,F=new ln,z=new ln,Y=new ln,G=new an,B=new an,k=new an,s=new ln,V=new ln,u=new ln;function W(t,e,n,r,i,o,a){return ui.barycoordFromPoint(t,e,n,r,s),i.multiplyScalar(s.x),o.multiplyScalar(s.y),a.multiplyScalar(s.z),i.add(o).add(a),i.clone()}function X(t,e,n,r,i,o,a){var s=t.material;if(null===(s.side===Ht?n.intersectTriangle(o,i,r,!0,a):n.intersectTriangle(r,i,o,s.side!==Ut,a)))return null;u.copy(a),u.applyMatrix4(t.matrixWorld);var l=e.ray.origin.distanceTo(u);return l<e.near||l>e.far?null:{distance:l,point:u.clone(),object:t}}function q(t,e,n,r,i,o,a,s){D.fromBufferAttribute(r,o),H.fromBufferAttribute(r,a),U.fromBufferAttribute(r,s);var l=X(t,e,n,D,H,U,V);return l&&(i&&(G.fromBufferAttribute(i,o),B.fromBufferAttribute(i,a),k.fromBufferAttribute(i,s),l.uv=W(V,D,H,U,G,B,k)),l.face=new ci(o,a,s,ui.normal(D,H,U)),l.faceIndex=o),l}return function(t,e){var n,r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),$.copy(r.boundingSphere),$.applyMatrix4(o),!1!==t.ray.intersectsSphere($)&&(O.getInverse(o),N.copy(t.ray).applyMatrix4(O),null===r.boundingBox||!1!==N.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var a,s,l,u,c,h=r.index,f=r.attributes.position,p=r.attributes.uv;if(null!==h)for(u=0,c=h.count;u<c;u+=3)a=h.getX(u),s=h.getX(u+1),l=h.getX(u+2),(n=q(this,t,N,f,p,a,s,l))&&(n.faceIndex=Math.floor(u/3),e.push(n));else for(u=0,c=f.count;u<c;u+=3)(n=q(this,t,N,f,p,a=u,s=u+1,l=u+2))&&(n.index=a,e.push(n))}else if(r.isGeometry){var d,v,m,g,y=i&&i.isMultiMaterial,_=!0===y?i.materials:null,b=r.vertices,w=r.faces,E=r.faceVertexUvs[0];0<E.length&&(g=E);for(var x=0,A=w.length;x<A;x++){var S=w[x],T=!0===y?_[S.materialIndex]:i;if(void 0!==T){if(d=b[S.a],v=b[S.b],m=b[S.c],!0===T.morphTargets){var L=r.morphTargets,I=this.morphTargetInfluences;D.set(0,0,0),H.set(0,0,0),U.set(0,0,0);for(var P=0,M=L.length;P<M;P++){var C=I[P];if(0!==C){var j=L[P].vertices;D.addScaledVector(F.subVectors(j[S.a],d),C),H.addScaledVector(z.subVectors(j[S.b],v),C),U.addScaledVector(Y.subVectors(j[S.c],m),C)}}D.add(d),H.add(v),U.add(m),d=D,v=H,m=U}if(n=X(this,t,N,d,v,m,V)){if(g){var R=g[x];G.copy(R[0]),B.copy(R[1]),k.copy(R[2]),n.uv=W(V,d,v,m,G,B,k)}n.face=S,n.faceIndex=x,e.push(n)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(ki.prototype=Object.create(Yi.prototype)).constructor=ki,(Vi.prototype=Object.create(Gi.prototype)).constructor=Vi,(Wi.prototype=Object.create(Yi.prototype)).constructor=Wi,(Xi.prototype=Object.create(Gi.prototype)).constructor=Xi,((qi.prototype=Object.create(si.prototype)).constructor=qi).prototype.isCamera=!0,qi.prototype.getWorldDirection=(Hi=new dt,function(t){var e=t||new ln;return this.getWorldQuaternion(Hi),e.set(0,0,-1).applyQuaternion(Hi)}),qi.prototype.lookAt=(Ui=new un,function(t){Ui.lookAt(this.position,t,this.up),this.quaternion.setFromRotationMatrix(Ui)}),qi.prototype.clone=function(){return(new this.constructor).copy(this)},qi.prototype.copy=function(t){return si.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},Ki.prototype=Object.assign(Object.create(qi.prototype),{constructor:Ki,isPerspectiveCamera:!0,copy:function(t){return qi.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*I.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*I.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*I.RAD2DEG*Math.atan(Math.tan(.5*I.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,o){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*I.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,e-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var l=this.filmOffset;0!==l&&(i+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far)},toJSON:function(t){var e=si.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Zi.prototype=Object.assign(Object.create(qi.prototype),{constructor:Zi,isOrthographicCamera:!0,copy:function(t){return qi.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,o){this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view){var l=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;o=(i+=c*(this.view.offsetX/l))+c*(this.view.width/l),s=(a-=h*(this.view.offsetY/u))-h*(this.view.height/u)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(t){var e=si.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var Ji,to,eo,no,ro,io,oo,ao,so,lo,uo,co=0;function ho(t){switch(t){case y:return["Linear","( value )"];case _:return["sRGB","( value )"];case E:return["RGBE","( value )"];case x:return["RGBM","( value, 7.0 )"];case A:return["RGBM","( value, 16.0 )"];case S:return["RGBD","( value, 256.0 )"];case b:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function fo(t,e){var n=ho(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function po(t){return""!==t}function vo(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function mo(t){return t.replace(/#include +<([\w\d.]+)>/g,function(t,e){var n=Cn[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return mo(n)})}function go(t){return t.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(t,e,n,r){for(var i="",o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i})}function yo(t,e,n,r){var i=t.context,o=n.extensions,a=n.defines,s=n.__webglShader.vertexShader,l=n.__webglShader.fragmentShader,u="SHADOWMAP_TYPE_BASIC";r.shadowMapType===X?u="SHADOWMAP_TYPE_PCF":r.shadowMapType===$&&(u="SHADOWMAP_TYPE_PCF_SOFT");var c="ENVMAP_TYPE_CUBE",h="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(n.envMap.mapping){case B:case k:c="ENVMAP_TYPE_CUBE";break;case K:case Z:c="ENVMAP_TYPE_CUBE_UV";break;case V:case W:c="ENVMAP_TYPE_EQUIREC";break;case q:c="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case k:case W:h="ENVMAP_MODE_REFRACTION"}switch(n.combine){case D:f="ENVMAP_BLENDING_MULTIPLY";break;case H:f="ENVMAP_BLENDING_MIX";break;case U:f="ENVMAP_BLENDING_ADD"}}var p,d,v,m,g,y,_,b,w=0<t.gammaFactor?t.gammaFactor:1,E=(p=o,d=r,v=t.extensions,[(p=p||{}).derivatives||d.envMapCubeUV||d.bumpMap||d.normalMap||d.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(p.fragDepth||d.logarithmicDepthBuffer)&&v.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",p.drawBuffers&&v.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(p.shaderTextureLOD||d.envMap)&&v.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(po).join("\n")),x=function(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(a),A=i.createProgram();n.isRawShaderMaterial?(m=[x,"\n"].filter(po).join("\n"),g=[E,x,"\n"].filter(po).join("\n")):(m=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,x,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+w,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(po).join("\n"),g=[E,"precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,x,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+w,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+c:"",r.envMap?"#define "+h:"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(r.numClippingPlanes-r.numClipIntersection),r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&t.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==F?"#define TONE_MAPPING":"",r.toneMapping!==F?Cn.tonemapping_pars_fragment:"",r.toneMapping!==F?function(t,e){var n;switch(e){case ye:n="Linear";break;case z:n="Reinhard";break;case Y:n="Uncharted2";break;case G:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}("toneMapping",r.toneMapping):"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?Cn.encodings_pars_fragment:"",r.mapEncoding?fo("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?fo("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?fo("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?(y="linearToOutputTexel",_=r.outputEncoding,b=ho(_),"vec4 "+y+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"):"",r.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(po).join("\n")),s=vo(s=mo(s),r),l=vo(l=mo(l),r),n.isShaderMaterial||(s=go(s),l=go(l));var S=m+s,T=g+l,L=Qi(i,i.VERTEX_SHADER,S),I=Qi(i,i.FRAGMENT_SHADER,T);i.attachShader(A,L),i.attachShader(A,I),void 0!==n.index0AttributeName?i.bindAttribLocation(A,0,n.index0AttributeName):!0===r.morphTargets&&i.bindAttribLocation(A,0,"position"),i.linkProgram(A);var P,M,C=i.getProgramInfoLog(A),j=i.getShaderInfoLog(L),R=i.getShaderInfoLog(I),O=!0,N=!0;return!1===i.getProgramParameter(A,i.LINK_STATUS)?(O=!1,console.error("THREE.WebGLProgram: shader error: ",i.getError(),"gl.VALIDATE_STATUS",i.getProgramParameter(A,i.VALIDATE_STATUS),"gl.getProgramInfoLog",C,j,R)):""!==C?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",C):""!==j&&""!==R||(N=!1),N&&(this.diagnostics={runnable:O,material:n,programLog:C,vertexShader:{log:j,prefix:m},fragmentShader:{log:R,prefix:g}}),i.deleteShader(L),i.deleteShader(I),this.getUniforms=function(){return void 0===P&&(P=new Pn(i,A,t)),P},this.getAttributes=function(){return void 0===M&&(M=function(t,e,n){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o).name;r[a]=t.getAttribLocation(e,a)}return r}(i,A)),M},this.destroy=function(){i.deleteProgram(A),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=co++,this.code=e,this.usedTimes=1,this.program=A,this.vertexShader=L,this.fragmentShader=I,this}function _o(c,h){var s=[],f={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},o=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking"];function p(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=y,n===y&&e&&(n=b),n}this.getParameters=function(t,e,n,r,i,o){var a=f[t.type],s=function(t){if(h.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var e=h.maxVertexUniforms,n=Math.floor((e-20)/4);return void 0!==t&&t&&t.isSkinnedMesh&&(n=Math.min(t.skeleton.bones.length,n))<t.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+t.skeleton.bones.length+", this GPU supports just "+n+" (try OpenGL instead of ANGLE)"),n}(o),l=c.getPrecision();null!==t.precision&&(l=h.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",l,"instead.");var u=c.getCurrentRenderTarget();return{shaderID:a,precision:l,supportsVertexTextures:h.vertexTextures,outputEncoding:p(u?u.texture:null,c.gammaOutput),map:!!t.map,mapEncoding:p(t.map,c.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:p(t.envMap,c.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===K||t.envMap.mapping===Z),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:p(t.emissiveMap,c.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!n,useFog:t.fog,fogExp:n&&n.isFogExp2,flatShading:t.shading===Ft,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:h.logarithmicDepthBuffer,skinning:t.skinning,maxBones:s,useVertexTexture:h.floatVertexTextures&&o&&o.skeleton&&o.skeleton.useVertexTexture,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:c.maxMorphTargets,maxMorphNormals:c.maxMorphNormals,numDirLights:e.directional.length,numPointLights:e.point.length,numSpotLights:e.spot.length,numRectAreaLights:e.rectArea.length,numHemiLights:e.hemi.length,numClippingPlanes:r,numClipIntersection:i,shadowMapEnabled:c.shadowMap.enabled&&o.receiveShadow&&0<e.shadows.length,shadowMapType:c.shadowMap.type,toneMapping:c.toneMapping,physicallyCorrectLights:c.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===Ut,flipSided:t.side===Ht,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);for(var i=0;i<o.length;i++)n.push(e[o[i]]);return n.join()},this.acquireProgram=function(t,e,n){for(var r,i=0,o=s.length;i<o;i++){var a=s[i];if(a.code===n){++(r=a).usedTimes;break}}return void 0===r&&(r=new yo(c,n,t,e),s.push(r)),r},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=s.indexOf(t);s[e]=s[s.length-1],s.pop(),t.destroy()}},this.programs=s}function bo(i,o,a){var s={};function l(t){var e=t.target,n=s[e.id];null!==n.index&&u(n.index),function(t){for(var e in t)u(t[e])}(n.attributes),e.removeEventListener("dispose",l),delete s[e.id];var r=o.get(e);r.wireframe&&u(r.wireframe),o.delete(e);var i=o.get(n);i.wireframe&&u(i.wireframe),o.delete(n),a.memory.geometries--}function u(t){var e,n,r=(e=t).isInterleavedBufferAttribute?o.get(e.data).__webglBuffer:o.get(e).__webglBuffer;void 0!==r&&(i.deleteBuffer(r),(n=t).isInterleavedBufferAttribute?o.delete(n.data):o.delete(n))}return{get:function(t){var e,n=t.geometry;return void 0!==s[n.id]?s[n.id]:(n.addEventListener("dispose",l),n.isBufferGeometry?e=n:n.isGeometry&&(void 0===n._bufferGeometry&&(n._bufferGeometry=(new Gi).setFromObject(t)),e=n._bufferGeometry),s[n.id]=e,a.memory.geometries++,e)}}}function wo(f,p,t){var u=new bo(f,p,t);function d(t,e){var n=t.isInterleavedBufferAttribute?t.data:t,r=p.get(n);void 0===r.__webglBuffer?function(t,e,n){t.__webglBuffer=f.createBuffer(),f.bindBuffer(n,t.__webglBuffer);var r=e.dynamic?f.DYNAMIC_DRAW:f.STATIC_DRAW;f.bufferData(n,e.array,r);var i=f.FLOAT,o=e.array;o instanceof Float32Array?i=f.FLOAT:o instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):o instanceof Uint16Array?i=f.UNSIGNED_SHORT:o instanceof Int16Array?i=f.SHORT:o instanceof Uint32Array?i=f.UNSIGNED_INT:o instanceof Int32Array?i=f.INT:o instanceof Int8Array?i=f.BYTE:o instanceof Uint8Array&&(i=f.UNSIGNED_BYTE);t.bytesPerElement=o.BYTES_PER_ELEMENT,t.type=i,t.version=e.version,e.onUploadCallback()}(r,n,e):r.version!==n.version&&function(t,e,n){f.bindBuffer(n,t.__webglBuffer),!1===e.dynamic?f.bufferData(n,e.array,f.STATIC_DRAW):-1===e.updateRange.count?f.bufferSubData(n,0,e.array):0===e.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(f.bufferSubData(n,e.updateRange.offset*e.array.BYTES_PER_ELEMENT,e.array.subarray(e.updateRange.offset,e.updateRange.offset+e.updateRange.count)),e.updateRange.count=0);t.version=e.version}(r,n,e)}return{getAttributeBuffer:function(t){return t.isInterleavedBufferAttribute?p.get(t.data).__webglBuffer:p.get(t).__webglBuffer},getAttributeProperties:function(t){return t.isInterleavedBufferAttribute?p.get(t.data):p.get(t)},getWireframeAttribute:function(t){var e=p.get(t);if(void 0!==e.wireframe)return e.wireframe;var n,r=[],i=t.index,o=t.attributes;if(null!==i)for(var a=0,s=(n=i.array).length;a<s;a+=3){var l=n[a+0],u=n[a+1],c=n[a+2];r.push(l,u,u,c,c,l)}else for(a=0,s=(n=o.position.array).length/3-1;a<s;a+=3)l=a+0,u=a+1,c=a+2,r.push(l,u,u,c,c,l);var h=new(65535<xi(r)?_i:gi)(r,1);return d(h,f.ELEMENT_ARRAY_BUFFER),e.wireframe=h},update:function(t){var e=u.get(t);t.geometry.isGeometry&&e.updateFromObject(t);var n=e.index,r=e.attributes;for(var i in null!==n&&d(n,f.ELEMENT_ARRAY_BUFFER),r)d(r[i],f.ARRAY_BUFFER);var o=e.morphAttributes;for(var i in o)for(var a=o[i],s=0,l=a.length;s<l;s++)d(a[s],f.ARRAY_BUFFER);return e}}}function Eo(d,i,v,m,g,y,t){var _=t.memory,p="undefined"!=typeof WebGL2RenderingContext&&d instanceof WebGL2RenderingContext;function b(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n),r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+r.width+"x"+r.height,t),r}return t}function w(t){return I.isPowerOfTwo(t.width)&&I.isPowerOfTwo(t.height)}function o(t){return t===Ee||t===xe||t===Ae?d.NEAREST:d.LINEAR}function E(t){var e=t.target;e.removeEventListener("dispose",E),function(t){var e=m.get(t);if(t.image&&e.__image__webglTextureCube)d.deleteTexture(e.__image__webglTextureCube);else{if(void 0===e.__webglInit)return;d.deleteTexture(e.__webglTexture)}m.delete(t)}(e),_.textures--}function a(t){var e=t.target;e.removeEventListener("dispose",a),function(t){var e=m.get(t),n=m.get(t.texture);if(!t)return;void 0!==n.__webglTexture&&d.deleteTexture(n.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var r=0;r<6;r++)d.deleteFramebuffer(e.__webglFramebuffer[r]),e.__webglDepthbuffer&&d.deleteRenderbuffer(e.__webglDepthbuffer[r]);else d.deleteFramebuffer(e.__webglFramebuffer),e.__webglDepthbuffer&&d.deleteRenderbuffer(e.__webglDepthbuffer);m.delete(t.texture),m.delete(t)}(e),_.textures--}function s(t,e){var n=m.get(t);if(0<t.version&&n.__version!==t.version){var r=t.image;if(void 0===r)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t);else{if(!1!==r.complete)return void function(t,e,n){void 0===t.__webglInit&&(t.__webglInit=!0,e.addEventListener("dispose",E),t.__webglTexture=d.createTexture(),_.textures++);v.activeTexture(d.TEXTURE0+n),v.bindTexture(d.TEXTURE_2D,t.__webglTexture),d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,e.flipY),d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),d.pixelStorei(d.UNPACK_ALIGNMENT,e.unpackAlignment);var r=b(e.image,g.maxTextureSize);i=e,(i.wrapS!==be||i.wrapT!==be||i.minFilter!==Ee&&i.minFilter!==Se)&&!1===w(r)&&(r=function(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.width=I.nearestPowerOfTwo(t.width),e.height=I.nearestPowerOfTwo(t.height),e.getContext("2d").drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}(r));var i;var o=w(r),a=y(e.format),s=y(e.type);x(d.TEXTURE_2D,e,o);var l,u=e.mipmaps;if(e.isDepthTexture){var c=d.DEPTH_COMPONENT;if(e.type===Oe){if(!p)throw new Error("Float Depth Texture only supported in WebGL2.0");c=d.DEPTH_COMPONENT32F}else p&&(c=d.DEPTH_COMPONENT16);e.format===ke&&c===d.DEPTH_COMPONENT&&e.type!==Ce&&e.type!==Re&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),e.type=Ce,s=y(e.type)),e.format===Ve&&(c=d.DEPTH_STENCIL,e.type!==Ue&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),e.type=Ue,s=y(e.type))),v.texImage2D(d.TEXTURE_2D,0,c,r.width,r.height,0,a,s,null)}else if(e.isDataTexture)if(0<u.length&&o){for(var h=0,f=u.length;h<f;h++)l=u[h],v.texImage2D(d.TEXTURE_2D,h,a,l.width,l.height,0,a,s,l.data);e.generateMipmaps=!1}else v.texImage2D(d.TEXTURE_2D,0,a,r.width,r.height,0,a,s,r.data);else if(e.isCompressedTexture)for(var h=0,f=u.length;h<f;h++)l=u[h],e.format!==Ye&&e.format!==ze?-1<v.getCompressedTextureFormats().indexOf(a)?v.compressedTexImage2D(d.TEXTURE_2D,h,a,l.width,l.height,0,l.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):v.texImage2D(d.TEXTURE_2D,h,a,l.width,l.height,0,a,s,l.data);else if(0<u.length&&o){for(var h=0,f=u.length;h<f;h++)l=u[h],v.texImage2D(d.TEXTURE_2D,h,a,a,s,l);e.generateMipmaps=!1}else v.texImage2D(d.TEXTURE_2D,0,a,a,s,r);e.generateMipmaps&&o&&d.generateMipmap(d.TEXTURE_2D);t.__version=e.version,e.onUpdate&&e.onUpdate(e)}(n,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t)}}v.activeTexture(d.TEXTURE0+e),v.bindTexture(d.TEXTURE_2D,n.__webglTexture)}function x(t,e,n){var r;if(n?(d.texParameteri(t,d.TEXTURE_WRAP_S,y(e.wrapS)),d.texParameteri(t,d.TEXTURE_WRAP_T,y(e.wrapT)),d.texParameteri(t,d.TEXTURE_MAG_FILTER,y(e.magFilter)),d.texParameteri(t,d.TEXTURE_MIN_FILTER,y(e.minFilter))):(d.texParameteri(t,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(t,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),e.wrapS===be&&e.wrapT===be||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",e),d.texParameteri(t,d.TEXTURE_MAG_FILTER,o(e.magFilter)),d.texParameteri(t,d.TEXTURE_MIN_FILTER,o(e.minFilter)),e.minFilter!==Ee&&e.minFilter!==Se&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",e)),r=i.get("EXT_texture_filter_anisotropic")){if(e.type===Oe&&null===i.get("OES_texture_float_linear"))return;if(e.type===Ne&&null===i.get("OES_texture_half_float_linear"))return;(1<e.anisotropy||m.get(e).__currentAnisotropy)&&(d.texParameterf(t,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,g.getMaxAnisotropy())),m.get(e).__currentAnisotropy=e.anisotropy)}}function l(t,e,n,r){var i=y(e.texture.format),o=y(e.texture.type);v.texImage2D(r,0,i,e.width,e.height,0,i,o,null),d.bindFramebuffer(d.FRAMEBUFFER,t),d.framebufferTexture2D(d.FRAMEBUFFER,n,r,m.get(e.texture).__webglTexture,0),d.bindFramebuffer(d.FRAMEBUFFER,null)}function u(t,e){d.bindRenderbuffer(d.RENDERBUFFER,t),e.depthBuffer&&!e.stencilBuffer?(d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_COMPONENT16,e.width,e.height),d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,t)):e.depthBuffer&&e.stencilBuffer?(d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_STENCIL,e.width,e.height),d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,t)):d.renderbufferStorage(d.RENDERBUFFER,d.RGBA4,e.width,e.height),d.bindRenderbuffer(d.RENDERBUFFER,null)}function c(t){var e=m.get(t),n=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,e){if(e&&e.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported!");if(d.bindFramebuffer(d.FRAMEBUFFER,t),!e.depthTexture||!e.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");m.get(e.depthTexture).__webglTexture&&e.depthTexture.image.width===e.width&&e.depthTexture.image.height===e.height||(e.depthTexture.image.width=e.width,e.depthTexture.image.height=e.height,e.depthTexture.needsUpdate=!0),s(e.depthTexture,0);var n=m.get(e.depthTexture).__webglTexture;if(e.depthTexture.format===ke)d.framebufferTexture2D(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.TEXTURE_2D,n,0);else{if(e.depthTexture.format!==Ve)throw new Error("Unknown depthTexture format");d.framebufferTexture2D(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.TEXTURE_2D,n,0)}}(e.__webglFramebuffer,t)}else if(n){e.__webglDepthbuffer=[];for(var r=0;r<6;r++)d.bindFramebuffer(d.FRAMEBUFFER,e.__webglFramebuffer[r]),e.__webglDepthbuffer[r]=d.createRenderbuffer(),u(e.__webglDepthbuffer[r],t)}else d.bindFramebuffer(d.FRAMEBUFFER,e.__webglFramebuffer),e.__webglDepthbuffer=d.createRenderbuffer(),u(e.__webglDepthbuffer,t);d.bindFramebuffer(d.FRAMEBUFFER,null)}this.setTexture2D=s,this.setTextureCube=function(t,e){var n=m.get(t);if(6===t.image.length)if(0<t.version&&n.__version!==t.version){n.__image__webglTextureCube||(t.addEventListener("dispose",E),n.__image__webglTextureCube=d.createTexture(),_.textures++),v.activeTexture(d.TEXTURE0+e),v.bindTexture(d.TEXTURE_CUBE_MAP,n.__image__webglTextureCube),d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var r=t&&t.isCompressedTexture,i=t.image[0]&&t.image[0].isDataTexture,o=[],a=0;a<6;a++)o[a]=r||i?i?t.image[a].image:t.image[a]:b(t.image[a],g.maxCubemapSize);var s=w(o[0]),l=y(t.format),u=y(t.type);for(x(d.TEXTURE_CUBE_MAP,t,s),a=0;a<6;a++)if(r)for(var c,h=o[a].mipmaps,f=0,p=h.length;f<p;f++)c=h[f],t.format!==Ye&&t.format!==ze?-1<v.getCompressedTextureFormats().indexOf(l)?v.compressedTexImage2D(d.TEXTURE_CUBE_MAP_POSITIVE_X+a,f,l,c.width,c.height,0,c.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):v.texImage2D(d.TEXTURE_CUBE_MAP_POSITIVE_X+a,f,l,c.width,c.height,0,l,u,c.data);else i?v.texImage2D(d.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,l,o[a].width,o[a].height,0,l,u,o[a].data):v.texImage2D(d.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,l,l,u,o[a]);t.generateMipmaps&&s&&d.generateMipmap(d.TEXTURE_CUBE_MAP),n.__version=t.version,t.onUpdate&&t.onUpdate(t)}else v.activeTexture(d.TEXTURE0+e),v.bindTexture(d.TEXTURE_CUBE_MAP,n.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,e){v.activeTexture(d.TEXTURE0+e),v.bindTexture(d.TEXTURE_CUBE_MAP,m.get(t).__webglTexture)},this.setupRenderTarget=function(t){var e=m.get(t),n=m.get(t.texture);t.addEventListener("dispose",a),n.__webglTexture=d.createTexture(),_.textures++;var r=!0===t.isWebGLRenderTargetCube,i=w(t);if(r){e.__webglFramebuffer=[];for(var o=0;o<6;o++)e.__webglFramebuffer[o]=d.createFramebuffer()}else e.__webglFramebuffer=d.createFramebuffer();if(r){for(v.bindTexture(d.TEXTURE_CUBE_MAP,n.__webglTexture),x(d.TEXTURE_CUBE_MAP,t.texture,i),o=0;o<6;o++)l(e.__webglFramebuffer[o],t,d.COLOR_ATTACHMENT0,d.TEXTURE_CUBE_MAP_POSITIVE_X+o);t.texture.generateMipmaps&&i&&d.generateMipmap(d.TEXTURE_CUBE_MAP),v.bindTexture(d.TEXTURE_CUBE_MAP,null)}else v.bindTexture(d.TEXTURE_2D,n.__webglTexture),x(d.TEXTURE_2D,t.texture,i),l(e.__webglFramebuffer,t,d.COLOR_ATTACHMENT0,d.TEXTURE_2D),t.texture.generateMipmaps&&i&&d.generateMipmap(d.TEXTURE_2D),v.bindTexture(d.TEXTURE_2D,null);t.depthBuffer&&c(t)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(e.generateMipmaps&&w(t)&&e.minFilter!==Ee&&e.minFilter!==Se){var n=t&&t.isWebGLRenderTargetCube?d.TEXTURE_CUBE_MAP:d.TEXTURE_2D,r=m.get(e).__webglTexture;v.bindTexture(n,r),d.generateMipmap(n),v.bindTexture(n,null)}}}function xo(t){console.log("THREE.WebGLRenderer",Rt);var r=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e=void 0!==t.context?t.context:null,n=void 0!==t.alpha&&t.alpha,i=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,a=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,d=[],u=[],c=-1,h=[],f=-1,P=new Float32Array(8),v=[],m=[];this.domElement=r,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=ye,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var M,T=this,L=null,p=null,g=null,I=-1,C="",j=null,y=new sn,_=null,b=new sn,R=0,w=new jn(0),E=0,x=r.width,O=r.height,N=1,A=new sn(0,0,x,O),S=!1,$=new sn(0,0,x,O),D=new Tr,H=new function(){var c=this,h=null,f=0,p=!1,d=!1,v=new Sr,m=new Ar,g={value:null,needsUpdate:!1};function y(){g.value!==h&&(g.value=h,g.needsUpdate=0<f),c.numPlanes=f,c.numIntersection=0}function _(t,e,n,r){var i=null!==t?t.length:0,o=null;if(0!==i){if(o=g.value,!0!==r||null===o){var a=n+4*i,s=e.matrixWorldInverse;m.getNormalMatrix(s),(null===o||o.length<a)&&(o=new Float32Array(a));for(var l=0,u=n;l!==i;++l,u+=4)v.copy(t[l]).applyMatrix4(s,m),v.normal.toArray(o,u),o[u+3]=v.constant}g.value=o,g.needsUpdate=!0}return c.numPlanes=i,o}this.uniform=g,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,n){var r=0!==t.length||e||0!==f||p;return p=e,h=_(t,n,0),f=t.length,r},this.beginShadows=function(){d=!0,_(null)},this.endShadows=function(){d=!1,y()},this.setState=function(t,e,n,r,i,o){if(!p||null===t||0===t.length||d&&!n)d?_(null):y();else{var a=d?0:f,s=4*a,l=i.clippingState||null;g.value=l,l=_(t,r,s,o);for(var u=0;u!==s;++u)l[u]=h[u];i.clippingState=l,this.numIntersection=e?this.numPlanes:0,this.numPlanes+=a}}},U=!1,F=!1,z=new xr,Y=new un,G=new ln,B=new un,k=new un,V={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},W={calls:0,vertices:0,faces:0,points:0};this.info={render:W,memory:{geometries:0,textures:0},programs:null};try{var X={alpha:n,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l};if(null===(M=e||r.getContext("webgl",X)||r.getContext("experimental-webgl",X)))throw null!==r.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===M.getShaderPrecisionFormat&&(M.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),r.addEventListener("webglcontextlost",yt,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var q=new function(n){var r={};return{get:function(t){if(void 0!==r[t])return r[t];var e;switch(t){case"WEBGL_depth_texture":e=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":e=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":e=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":e=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":e=n.getExtension("WEBGL_compressed_texture_etc1");break;default:e=n.getExtension(t)}return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),r[t]=e}}}(M);q.get("WEBGL_depth_texture"),q.get("OES_texture_float"),q.get("OES_texture_float_linear"),q.get("OES_texture_half_float"),q.get("OES_texture_half_float_linear"),q.get("OES_standard_derivatives"),q.get("ANGLE_instanced_arrays"),q.get("OES_element_index_uint")&&(Gi.MaxIndex=4294967296);var K=new function(e,n,t){var r;function i(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision?"mediump":"lowp"}var o=void 0!==t.precision?t.precision:"highp",a=i(o);a!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",a,"instead."),o=a);var s=!0===t.logarithmicDepthBuffer&&!!n.get("EXT_frag_depth"),l=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),u=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),c=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),f=e.getParameter(e.MAX_VERTEX_ATTRIBS),p=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),d=e.getParameter(e.MAX_VARYING_VECTORS),v=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),m=0<u,g=!!n.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==r)return r;var t=n.get("EXT_texture_filter_anisotropic");return r=null!==t?e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:s,maxTextures:l,maxVertexTextures:u,maxTextureSize:c,maxCubemapSize:h,maxAttributes:f,maxVertexUniforms:p,maxVaryings:d,maxFragmentUniforms:v,vertexTextures:m,floatFragmentTextures:g,floatVertexTextures:m&&g}}(M,q,t),Z=new function(c,n,l){var e=new function(){var e=!1,o=new sn,n=null,a=new sn;return{setMask:function(t){n===t||e||(c.colorMask(t,t,t,t),n=t)},setLocked:function(t){e=t},setClear:function(t,e,n,r,i){!0===i&&(t*=r,e*=r,n*=r),o.set(t,e,n,r),!1===a.equals(o)&&(c.clearColor(t,e,n,r),a.copy(o))},reset:function(){e=!1,n=null,a.set(0,0,0,1)}}},r=new function(){var e=!1,n=null,r=null,i=null;return{setTest:function(t){t?N(c.DEPTH_TEST):$(c.DEPTH_TEST)},setMask:function(t){n===t||e||(c.depthMask(t),n=t)},setFunc:function(t){if(r!==t){if(t)switch(t){case ce:c.depthFunc(c.NEVER);break;case he:c.depthFunc(c.ALWAYS);break;case fe:c.depthFunc(c.LESS);break;case pe:c.depthFunc(c.LEQUAL);break;case de:c.depthFunc(c.EQUAL);break;case ve:c.depthFunc(c.GEQUAL);break;case me:c.depthFunc(c.GREATER);break;case ge:c.depthFunc(c.NOTEQUAL);break;default:c.depthFunc(c.LEQUAL)}else c.depthFunc(c.LEQUAL);r=t}},setLocked:function(t){e=t},setClear:function(t){i!==t&&(c.clearDepth(t),i=t)},reset:function(){e=!1,i=r=n=null}}},i=new function(){var e=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,u=null;return{setTest:function(t){t?N(c.STENCIL_TEST):$(c.STENCIL_TEST)},setMask:function(t){n===t||e||(c.stencilMask(t),n=t)},setFunc:function(t,e,n){r===t&&i===e&&o===n||(c.stencilFunc(t,e,n),r=t,i=e,o=n)},setOp:function(t,e,n){a===t&&s===e&&l===n||(c.stencilOp(t,e,n),a=t,s=e,l=n)},setLocked:function(t){e=t},setClear:function(t){u!==t&&(c.clearStencil(t),u=t)},reset:function(){e=!1,u=l=s=a=o=i=r=n=null}}},t=c.getParameter(c.MAX_VERTEX_ATTRIBS),o=new Uint8Array(t),a=new Uint8Array(t),s=new Uint8Array(t),u={},h=null,f=null,p=null,d=null,v=null,m=null,g=null,y=null,_=!1,b=null,w=null,E=null,x=null,A=null,S=null,T=c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS),L=parseFloat(/^WebGL\ ([0-9])/.exec(c.getParameter(c.VERSION))[1]),I=1<=parseFloat(L),P=null,M={},C=new sn,j=new sn;function R(t,e,n){var r=new Uint8Array(4),i=c.createTexture();c.bindTexture(t,i),c.texParameteri(t,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(t,c.TEXTURE_MAG_FILTER,c.NEAREST);for(var o=0;o<n;o++)c.texImage2D(e+o,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,r);return i}var O={};function N(t){!0!==u[t]&&(c.enable(t),u[t]=!0)}function $(t){!1!==u[t]&&(c.disable(t),u[t]=!1)}function D(t,e,n,r,i,o,a,s){t!==Yt?N(c.BLEND):$(c.BLEND),t===f&&s===_||(t===Bt?s?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):(c.blendEquation(c.FUNC_ADD),c.blendFunc(c.SRC_ALPHA,c.ONE)):t===kt?s?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ZERO,c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ONE_MINUS_SRC_ALPHA)):(c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ZERO,c.ONE_MINUS_SRC_COLOR)):t===Vt?s?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ZERO,c.SRC_COLOR,c.ZERO,c.SRC_ALPHA)):(c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ZERO,c.SRC_COLOR)):s?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA)):(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA)),f=t,_=s),t===Wt?(i=i||e,o=o||n,a=a||r,e===p&&i===m||(c.blendEquationSeparate(l(e),l(i)),p=e,m=i),n===d&&r===v&&o===g&&a===y||(c.blendFuncSeparate(l(n),l(r),l(o),l(a)),d=n,v=r,g=o,y=a)):y=g=m=v=d=p=null}function H(t){r.setFunc(t)}function U(t){b!==t&&(t?c.frontFace(c.CW):c.frontFace(c.CCW),b=t)}function F(t){t!==Ot?(N(c.CULL_FACE),t!==w&&(t===Nt?c.cullFace(c.BACK):t===$t?c.cullFace(c.FRONT):c.cullFace(c.FRONT_AND_BACK))):$(c.CULL_FACE),w=t}function z(t){void 0===t&&(t=c.TEXTURE0+T-1),P!==t&&(c.activeTexture(t),P=t)}return O[c.TEXTURE_2D]=R(c.TEXTURE_2D,c.TEXTURE_2D,1),O[c.TEXTURE_CUBE_MAP]=R(c.TEXTURE_CUBE_MAP,c.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:e,depth:r,stencil:i},init:function(){e.setClear(0,0,0,1),r.setClear(1),i.setClear(0),N(c.DEPTH_TEST),H(pe),U(!1),F(Nt),N(c.CULL_FACE),N(c.BLEND),D(Gt)},initAttributes:function(){for(var t=0,e=o.length;t<e;t++)o[t]=0},enableAttribute:function(t){o[t]=1,0===a[t]&&(c.enableVertexAttribArray(t),a[t]=1),0!==s[t]&&(n.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(t,0),s[t]=0)},enableAttributeAndDivisor:function(t,e,n){o[t]=1,0===a[t]&&(c.enableVertexAttribArray(t),a[t]=1),s[t]!==e&&(n.vertexAttribDivisorANGLE(t,e),s[t]=e)},disableUnusedAttributes:function(){for(var t=0,e=a.length;t!==e;++t)a[t]!==o[t]&&(c.disableVertexAttribArray(t),a[t]=0)},enable:N,disable:$,getCompressedTextureFormats:function(){if(null===h&&(h=[],n.get("WEBGL_compressed_texture_pvrtc")||n.get("WEBGL_compressed_texture_s3tc")||n.get("WEBGL_compressed_texture_etc1")))for(var t=c.getParameter(c.COMPRESSED_TEXTURE_FORMATS),e=0;e<t.length;e++)h.push(t[e]);return h},setBlending:D,setColorWrite:function(t){e.setMask(t)},setDepthTest:function(t){r.setTest(t)},setDepthWrite:function(t){r.setMask(t)},setDepthFunc:H,setStencilTest:function(t){i.setTest(t)},setStencilWrite:function(t){i.setMask(t)},setStencilFunc:function(t,e,n){i.setFunc(t,e,n)},setStencilOp:function(t,e,n){i.setOp(t,e,n)},setFlipSided:U,setCullFace:F,setLineWidth:function(t){t!==E&&(I&&c.lineWidth(t),E=t)},setPolygonOffset:function(t,e,n){t?(N(c.POLYGON_OFFSET_FILL),x===e&&A===n||(c.polygonOffset(e,n),x=e,A=n)):$(c.POLYGON_OFFSET_FILL)},getScissorTest:function(){return S},setScissorTest:function(t){(S=t)?N(c.SCISSOR_TEST):$(c.SCISSOR_TEST)},activeTexture:z,bindTexture:function(t,e){null===P&&z();var n=M[P];void 0===n&&(n={type:void 0,texture:void 0},M[P]=n),n.type===t&&n.texture===e||(c.bindTexture(t,e||O[t]),n.type=t,n.texture=e)},compressedTexImage2D:function(){try{c.compressedTexImage2D.apply(c,arguments)}catch(t){console.error(t)}},texImage2D:function(){try{c.texImage2D.apply(c,arguments)}catch(t){console.error(t)}},scissor:function(t){!1===C.equals(t)&&(c.scissor(t.x,t.y,t.z,t.w),C.copy(t))},viewport:function(t){!1===j.equals(t)&&(c.viewport(t.x,t.y,t.z,t.w),j.copy(t))},reset:function(){for(var t=0;t<a.length;t++)1===a[t]&&(c.disableVertexAttribArray(t),a[t]=0);u={},M={},w=b=f=P=h=null,e.reset(),r.reset(),i.reset()}}}(M,q,jt),Q=new function(){var r={};return{get:function(t){var e=t.uuid,n=r[e];return void 0===n&&(n={},r[e]=n),n},delete:function(t){delete r[t.uuid]},clear:function(){r={}}}},J=new Eo(M,q,Z,Q,K,jt,this.info),tt=new wo(M,Q,this.info),et=new _o(this,K),nt=new function(){var n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];var e;switch(t.type){case"DirectionalLight":e={direction:new ln,color:new jn,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new an};break;case"SpotLight":e={position:new ln,direction:new ln,color:new jn,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new an};break;case"PointLight":e={position:new ln,color:new jn,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new an};break;case"HemisphereLight":e={direction:new ln,skyColor:new jn,groundColor:new jn};break;case"RectAreaLight":e={color:new jn,position:new ln,halfWidth:new ln,halfHeight:new ln}}return n[t.id]=e}}};this.info.programs=et.programs;var rt,it,ot,at,st=new function(i,o,a){var s;return{setMode:function(t){s=t},render:function(t,e){i.drawArrays(s,t,e),a.calls++,a.vertices+=e,s===i.TRIANGLES&&(a.faces+=e/3)},renderInstances:function(t){var e=o.get("ANGLE_instanced_arrays");if(null!==e){var n=t.attributes.position,r=0;r=n.isInterleavedBufferAttribute?n.data.count:n.count,e.drawArraysInstancedANGLE(s,0,r,t.maxInstancedCount),a.calls++,a.vertices+=r*t.maxInstancedCount,s===i.TRIANGLES&&(a.faces+=t.maxInstancedCount*r/3)}else console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}}(M,q,W),lt=new function(i,o,a){var s,l,u;return{setMode:function(t){s=t},setIndex:function(t){t.array instanceof Uint32Array&&o.get("OES_element_index_uint")?(l=i.UNSIGNED_INT,u=4):t.array instanceof Uint16Array?(l=i.UNSIGNED_SHORT,u=2):(l=i.UNSIGNED_BYTE,u=1)},render:function(t,e){i.drawElements(s,e,l,t*u),a.calls++,a.vertices+=e,s===i.TRIANGLES&&(a.faces+=e/3)},renderInstances:function(t,e,n){var r=o.get("ANGLE_instanced_arrays");null!==r?(r.drawElementsInstancedANGLE(s,n,l,e*u,t.maxInstancedCount),a.calls++,a.vertices+=n*t.maxInstancedCount,s===i.TRIANGLES&&(a.faces+=t.maxInstancedCount*n/3)):console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}}(M,q,W);function ut(){return null===p?N:1}function ct(){Z.init(),Z.scissor(y.copy(A).multiplyScalar(N)),Z.viewport(b.copy($).multiplyScalar(N)),Z.buffers.color.setClear(w.r,w.g,w.b,E,s)}function ht(){j=L=null,C="",I=-1,Z.reset()}ct(),this.context=M,this.capabilities=K,this.extensions=q,this.properties=Q,this.state=Z;var ft=new Lr(this,V,tt,K);this.shadowMap=ft;var pt,dt,vt,mt=new zn(this,v),gt=new Fn(this,m);function yt(t){t.preventDefault(),ht(),ct(),Q.clear()}function _t(t){var e,n=t.target;n.removeEventListener("dispose",_t),bt(e=n),Q.delete(e)}function bt(t){var e=Q.get(t).program;(t.program=void 0)!==e&&et.releaseProgram(e)}function wt(t,e){return Math.abs(e[0])-Math.abs(t[0])}function Et(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.program&&e.material.program&&t.material.program!==e.material.program?t.material.program.id-e.material.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function xt(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function At(t,e,n,r,i){var o,a;n.transparent?(o=h,a=++f):(o=u,a=++c);var s=o[a];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=n,s.z=G.z,s.group=i):(s={id:t.id,object:t,geometry:e,material:n,z:G.z,group:i},o.push(s))}function St(t){if(!D.intersectsSphere(t))return!1;var e=H.numPlanes;if(0===e)return!0;var n=T.clippingPlanes,r=t.center,i=-t.radius,o=0;do{if(n[o].distanceToPoint(r)<i)return!1}while(++o!==e);return!0}function Tt(t,e,n,r){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,l=a.geometry,u=void 0===r?a.material:r,c=a.group;if(s.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s.onBeforeRender(T,e,n,l,u,c),s.isImmediateRenderObject){Lt(u);var h=It(n,e.fog,u,s);C="",s.render(function(t){T.renderBufferImmediate(t,h,u)})}else T.renderBufferDirect(n,e.fog,l,u,s,c);s.onAfterRender(T,e,n,l,u,c)}}function Lt(t){t.side===Ut?Z.disable(M.CULL_FACE):Z.enable(M.CULL_FACE),Z.setFlipSided(t.side===Ht),!0===t.transparent?Z.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):Z.setBlending(Yt),Z.setDepthFunc(t.depthFunc),Z.setDepthTest(t.depthTest),Z.setDepthWrite(t.depthWrite),Z.setColorWrite(t.colorWrite),Z.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function It(t,e,n,r){R=0;var i=Q.get(n);if(U&&(F||t!==j)){var o=t===j&&n.id===I;H.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,i,o)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==e?n.needsUpdate=!0:n.lights&&i.lightsHash!==V.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===H.numPlanes&&i.numIntersection===H.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(!function(t,e,n){var r=Q.get(t),i=et.getParameters(t,V,e,H.numPlanes,H.numIntersection,n),o=et.getProgramCode(t,i),a=r.program,s=!0;if(void 0===a)t.addEventListener("dispose",_t);else if(a.code!==o)bt(t);else{if(void 0!==i.shaderID)return;s=!1}if(s){if(i.shaderID){var l=Hn[i.shaderID];r.__webglShader={name:t.type,uniforms:Mn.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else r.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=r.__webglShader,a=et.acquireProgram(t,i,o),r.program=a,t.program=a}var u=a.getAttributes();if(t.morphTargets)for(var c=t.numSupportedMorphTargets=0;c<T.maxMorphTargets;c++)0<=u["morphTarget"+c]&&t.numSupportedMorphTargets++;if(t.morphNormals)for(c=t.numSupportedMorphNormals=0;c<T.maxMorphNormals;c++)0<=u["morphNormal"+c]&&t.numSupportedMorphNormals++;var h=r.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=H.numPlanes,r.numIntersection=H.numIntersection,h.clippingPlanes=H.uniform),r.fog=e,r.lightsHash=V.hash,t.lights&&(h.ambientLightColor.value=V.ambient,h.directionalLights.value=V.directional,h.spotLights.value=V.spot,h.rectAreaLights.value=V.rectArea,h.pointLights.value=V.point,h.hemisphereLights.value=V.hemi,h.directionalShadowMap.value=V.directionalShadowMap,h.directionalShadowMatrix.value=V.directionalShadowMatrix,h.spotShadowMap.value=V.spotShadowMap,h.spotShadowMatrix.value=V.spotShadowMatrix,h.pointShadowMap.value=V.pointShadowMap,h.pointShadowMatrix.value=V.pointShadowMatrix);var f=r.program.getUniforms(),p=Pn.seqWithValue(f.seq,h);r.uniformsList=p}(n,e,r),n.needsUpdate=!1);var a,s,l,u,c,h,f,p,d,v,m,g,y=!1,_=!1,b=!1,w=i.program,E=w.getUniforms(),x=i.__webglShader.uniforms;if(w.id!==L&&(M.useProgram(w.program),L=w.id,b=_=y=!0),n.id!==I&&(I=n.id,_=!0),y||t!==j){if(E.set(M,t,"projectionMatrix"),K.logarithmicDepthBuffer&&E.setValue(M,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),t!==j&&(j=t,b=_=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var A=E.map.cameraPosition;void 0!==A&&A.setValue(M,G.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&E.setValue(M,"viewMatrix",t.matrixWorldInverse),E.set(M,T,"toneMappingExposure"),E.set(M,T,"toneMappingWhitePoint")}if(n.skinning){E.setOptional(M,r,"bindMatrix"),E.setOptional(M,r,"bindMatrixInverse");var S=r.skeleton;S&&(K.floatVertexTextures&&S.useVertexTexture?(E.set(M,S,"boneTexture"),E.set(M,S,"boneTextureWidth"),E.set(M,S,"boneTextureHeight")):E.setOptional(M,S,"boneMatrices"))}return _&&(n.lights&&(g=b,(m=x).ambientLightColor.needsUpdate=g,m.directionalLights.needsUpdate=g,m.pointLights.needsUpdate=g,m.spotLights.needsUpdate=g,m.rectAreaLights.needsUpdate=g,m.hemisphereLights.needsUpdate=g),e&&n.fog&&(v=e,(d=x).fogColor.value=v.color,v.isFog?(d.fogNear.value=v.near,d.fogFar.value=v.far):v.isFogExp2&&(d.fogDensity.value=v.density)),(n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshNormalMaterial||n.isMeshDepthMaterial)&&function(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity);t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity);e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap);if(void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}(x,n),n.isLineBasicMaterial?Pt(x,n):n.isLineDashedMaterial?(Pt(x,n),p=n,(f=x).dashSize.value=p.dashSize,f.totalSize.value=p.dashSize+p.gapSize,f.scale.value=p.scale):n.isPointsMaterial?function(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*N,t.scale.value=.5*O,t.map.value=e.map,null!==e.map){var n=e.map.offset,r=e.map.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}(x,n):n.isMeshLambertMaterial?(c=x,(h=n).emissiveMap&&(c.emissiveMap.value=h.emissiveMap)):n.isMeshToonMaterial?(Mt(l=x,u=n),u.gradientMap&&(l.gradientMap.value=u.gradientMap)):n.isMeshPhongMaterial?Mt(x,n):n.isMeshPhysicalMaterial?(s=n,(a=x).clearCoat.value=s.clearCoat,a.clearCoatRoughness.value=s.clearCoatRoughness,Ct(a,s)):n.isMeshStandardMaterial?Ct(x,n):n.isMeshDepthMaterial?n.displacementMap&&(x.displacementMap.value=n.displacementMap,x.displacementScale.value=n.displacementScale,x.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale);e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale));e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(x,n),void 0!==x.ltcMat&&(x.ltcMat.value=THREE.UniformsLib.LTC_MAT_TEXTURE),void 0!==x.ltcMag&&(x.ltcMag.value=THREE.UniformsLib.LTC_MAG_TEXTURE),Pn.upload(M,i.uniformsList,x,T)),E.set(M,r,"modelViewMatrix"),E.set(M,r,"normalMatrix"),E.setValue(M,"modelMatrix",r.matrixWorld),w}function Pt(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function Mt(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Ct(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function jt(t){var e;if(t===_e)return M.REPEAT;if(t===be)return M.CLAMP_TO_EDGE;if(t===we)return M.MIRRORED_REPEAT;if(t===Ee)return M.NEAREST;if(t===xe)return M.NEAREST_MIPMAP_NEAREST;if(t===Ae)return M.NEAREST_MIPMAP_LINEAR;if(t===Se)return M.LINEAR;if(t===Te)return M.LINEAR_MIPMAP_NEAREST;if(t===Le)return M.LINEAR_MIPMAP_LINEAR;if(t===Ie)return M.UNSIGNED_BYTE;if(t===$e)return M.UNSIGNED_SHORT_4_4_4_4;if(t===De)return M.UNSIGNED_SHORT_5_5_5_1;if(t===He)return M.UNSIGNED_SHORT_5_6_5;if(t===Pe)return M.BYTE;if(t===Me)return M.SHORT;if(t===Ce)return M.UNSIGNED_SHORT;if(t===je)return M.INT;if(t===Re)return M.UNSIGNED_INT;if(t===Oe)return M.FLOAT;if(t===Ne&&null!==(e=q.get("OES_texture_half_float")))return e.HALF_FLOAT_OES;if(t===Fe)return M.ALPHA;if(t===ze)return M.RGB;if(t===Ye)return M.RGBA;if(t===Ge)return M.LUMINANCE;if(t===Be)return M.LUMINANCE_ALPHA;if(t===ke)return M.DEPTH_COMPONENT;if(t===Ve)return M.DEPTH_STENCIL;if(t===Xt)return M.FUNC_ADD;if(t===qt)return M.FUNC_SUBTRACT;if(t===Kt)return M.FUNC_REVERSE_SUBTRACT;if(t===Jt)return M.ZERO;if(t===te)return M.ONE;if(t===ee)return M.SRC_COLOR;if(t===ne)return M.ONE_MINUS_SRC_COLOR;if(t===re)return M.SRC_ALPHA;if(t===ie)return M.ONE_MINUS_SRC_ALPHA;if(t===oe)return M.DST_ALPHA;if(t===ae)return M.ONE_MINUS_DST_ALPHA;if(t===se)return M.DST_COLOR;if(t===le)return M.ONE_MINUS_DST_COLOR;if(t===ue)return M.SRC_ALPHA_SATURATE;if((t===We||t===Xe||t===qe||t===Ke)&&null!==(e=q.get("WEBGL_compressed_texture_s3tc"))){if(t===We)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Xe)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===qe)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Ke)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===Ze||t===Qe||t===Je||t===tn)&&null!==(e=q.get("WEBGL_compressed_texture_pvrtc"))){if(t===Ze)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===Qe)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Je)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===tn)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===en&&null!==(e=q.get("WEBGL_compressed_texture_etc1")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===Zt||t===Qt)&&null!==(e=q.get("EXT_blend_minmax"))){if(t===Zt)return e.MIN_EXT;if(t===Qt)return e.MAX_EXT}return t===Ue&&null!==(e=q.get("WEBGL_depth_texture"))?e.UNSIGNED_INT_24_8_WEBGL:0}this.getContext=function(){return M},this.getContextAttributes=function(){return M.getContextAttributes()},this.forceContextLoss=function(){q.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){return K.getMaxAnisotropy()},this.getPrecision=function(){return K.precision},this.getPixelRatio=function(){return N},this.setPixelRatio=function(t){void 0!==t&&(N=t,this.setSize($.z,$.w,!1))},this.getSize=function(){return{width:x,height:O}},this.setSize=function(t,e,n){x=t,O=e,r.width=t*N,r.height=e*N,!1!==n&&(r.style.width=t+"px",r.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,n,r){Z.viewport($.set(t,e,n,r))},this.setScissor=function(t,e,n,r){Z.scissor(A.set(t,e,n,r))},this.setScissorTest=function(t){Z.setScissorTest(S=t)},this.getClearColor=function(){return w},this.setClearColor=function(t,e){w.set(t),E=void 0!==e?e:1,Z.buffers.color.setClear(w.r,w.g,w.b,E,s)},this.getClearAlpha=function(){return E},this.setClearAlpha=function(t){E=t,Z.buffers.color.setClear(w.r,w.g,w.b,E,s)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=M.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=M.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=M.STENCIL_BUFFER_BIT),M.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.resetGLState=ht,this.dispose=function(){h=[],u=[],c=f=-1,r.removeEventListener("webglcontextlost",yt,!1)},this.renderBufferImmediate=function(t,e,n){Z.initAttributes();var r=Q.get(t);t.hasPositions&&!r.position&&(r.position=M.createBuffer()),t.hasNormals&&!r.normal&&(r.normal=M.createBuffer()),t.hasUvs&&!r.uv&&(r.uv=M.createBuffer()),t.hasColors&&!r.color&&(r.color=M.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(M.bindBuffer(M.ARRAY_BUFFER,r.position),M.bufferData(M.ARRAY_BUFFER,t.positionArray,M.DYNAMIC_DRAW),Z.enableAttribute(i.position),M.vertexAttribPointer(i.position,3,M.FLOAT,!1,0,0)),t.hasNormals){if(M.bindBuffer(M.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.shading===Ft)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,l=(s[o+0]+s[o+3]+s[o+6])/3,u=(s[o+1]+s[o+4]+s[o+7])/3,c=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=l,s[o+1]=u,s[o+2]=c,s[o+3]=l,s[o+4]=u,s[o+5]=c,s[o+6]=l,s[o+7]=u,s[o+8]=c}M.bufferData(M.ARRAY_BUFFER,t.normalArray,M.DYNAMIC_DRAW),Z.enableAttribute(i.normal),M.vertexAttribPointer(i.normal,3,M.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(M.bindBuffer(M.ARRAY_BUFFER,r.uv),M.bufferData(M.ARRAY_BUFFER,t.uvArray,M.DYNAMIC_DRAW),Z.enableAttribute(i.uv),M.vertexAttribPointer(i.uv,2,M.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==zt&&(M.bindBuffer(M.ARRAY_BUFFER,r.color),M.bufferData(M.ARRAY_BUFFER,t.colorArray,M.DYNAMIC_DRAW),Z.enableAttribute(i.color),M.vertexAttribPointer(i.color,3,M.FLOAT,!1,0,0)),Z.disableUnusedAttributes(),M.drawArrays(M.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,r,i,o){Lt(r);var a=It(t,e,r,i),s=!1,l=n.id+"_"+a.id+"_"+r.wireframe;l!==C&&(C=l,s=!0);var u=i.morphTargetInfluences;if(void 0!==u){for(var c=[],h=0,f=u.length;h<f;h++){var p=u[h];c.push([p,h])}c.sort(wt),8<c.length&&(c.length=8);var d=n.morphAttributes;for(h=0,f=c.length;h<f;h++){p=c[h];if(P[h]=p[0],0!==p[0]){var v=p[1];!0===r.morphTargets&&d.position&&n.addAttribute("morphTarget"+h,d.position[v]),!0===r.morphNormals&&d.normal&&n.addAttribute("morphNormal"+h,d.normal[v])}else!0===r.morphTargets&&n.removeAttribute("morphTarget"+h),!0===r.morphNormals&&n.removeAttribute("morphNormal"+h)}h=c.length;for(var m=P.length;h<m;h++)P[h]=0;a.getUniforms().setValue(M,"morphTargetInfluences",P),s=!0}v=n.index;var g,y=n.attributes.position,_=1;!0===r.wireframe&&(v=tt.getWireframeAttribute(n),_=2),null!==v?(g=lt).setIndex(v):g=st,s&&(!function(t,e,n,r){var i;if(n&&n.isInstancedBufferGeometry&&null===(i=q.get("ANGLE_instanced_arrays")))return console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===r&&(r=0);Z.initAttributes();var o=n.attributes,a=e.getAttributes(),s=t.defaultAttributeValues;for(var l in a){var u=a[l];if(0<=u){var c=o[l];if(void 0!==c){var h=c.normalized,f=c.itemSize,p=tt.getAttributeProperties(c),d=p.__webglBuffer,v=p.type,m=p.bytesPerElement;if(c.isInterleavedBufferAttribute){var g=c.data,y=g.stride,_=c.offset;g&&g.isInstancedInterleavedBuffer?(Z.enableAttributeAndDivisor(u,g.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):Z.enableAttribute(u),M.bindBuffer(M.ARRAY_BUFFER,d),M.vertexAttribPointer(u,f,v,h,y*m,(r*y+_)*m)}else c.isInstancedBufferAttribute?(Z.enableAttributeAndDivisor(u,c.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):Z.enableAttribute(u),M.bindBuffer(M.ARRAY_BUFFER,d),M.vertexAttribPointer(u,f,v,h,0,r*f*m)}else if(void 0!==s){var b=s[l];if(void 0!==b)switch(b.length){case 2:M.vertexAttrib2fv(u,b);break;case 3:M.vertexAttrib3fv(u,b);break;case 4:M.vertexAttrib4fv(u,b);break;default:M.vertexAttrib1fv(u,b)}}}}Z.disableUnusedAttributes()}(r,a,n),null!==v&&M.bindBuffer(M.ELEMENT_ARRAY_BUFFER,tt.getAttributeBuffer(v)));var b=0;null!==v?b=v.count:void 0!==y&&(b=y.count);var w=n.drawRange.start*_,E=n.drawRange.count*_,x=null!==o?o.start*_:0,A=null!==o?o.count*_:1/0,S=Math.max(w,x),T=Math.min(b,w+E,x+A)-1,L=Math.max(0,T-S+1);if(0!==L){if(i.isMesh)if(!0===r.wireframe)Z.setLineWidth(r.wireframeLinewidth*ut()),g.setMode(M.LINES);else switch(i.drawMode){case nn:g.setMode(M.TRIANGLES);break;case rn:g.setMode(M.TRIANGLE_STRIP);break;case on:g.setMode(M.TRIANGLE_FAN)}else if(i.isLine){var I=r.linewidth;void 0===I&&(I=1),Z.setLineWidth(I*ut()),i.isLineSegments?g.setMode(M.LINES):g.setMode(M.LINE_STRIP)}else i.isPoints&&g.setMode(M.POINTS);n&&n.isInstancedBufferGeometry?0<n.maxInstancedCount&&g.renderInstances(n,S,L):g.render(S,L)}},this.render=function(t,e,n,r){if(void 0===e||!0===e.isCamera){C="",I=-1,j=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),Y.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),D.setFromMatrix(Y),d.length=0,f=c=-1,v.length=0,m.length=0,F=this.localClippingEnabled,U=H.init(this.clippingPlanes,F,e),function t(e,n){if(!1===e.visible)return;var r=0!=(e.layers.mask&n.layers.mask);if(r)if(e.isLight)d.push(e);else if(e.isSprite)!1!==e.frustumCulled&&!0!==(f=e,z.center.set(0,0,0),z.radius=.7071067811865476,z.applyMatrix4(f.matrixWorld),St(z))||v.push(e);else if(e.isLensFlare)m.push(e);else if(e.isImmediateRenderObject)!0===T.sortObjects&&(G.setFromMatrixPosition(e.matrixWorld),G.applyMatrix4(Y)),At(e,null,e.material,G.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!1===e.frustumCulled||!0===function(t){var e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere();return z.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),St(z)}(e))){var i=e.material;if(!0===i.visible){!0===T.sortObjects&&(G.setFromMatrixPosition(e.matrixWorld),G.applyMatrix4(Y));var o=tt.update(e);if(i.isMultiMaterial)for(var a=o.groups,s=i.materials,l=0,u=a.length;l<u;l++){var c=a[l],h=s[c.materialIndex];!0===h.visible&&At(e,o,h,G.z,c)}else At(e,o,i,G.z,null)}}var f;var p=e.children;for(var l=0,u=p.length;l<u;l++)t(p[l],n)}(t,e),u.length=c+1,h.length=f+1,!0===T.sortObjects&&(u.sort(Et),h.sort(xt)),U&&H.beginShadows(),function(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];i.castShadow&&(V.shadows[e++]=i)}V.shadows.length=e}(d),ft.render(t,e),function(t,e){var n,r,i,o,a,s,l,u=0,c=0,h=0,f=e.matrixWorldInverse,p=0,d=0,v=0,m=0,g=0;for(n=0,r=t.length;n<r;n++)if(i=t[n],o=i.color,a=i.intensity,s=i.distance,l=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i.isAmbientLight)u+=o.r*a,c+=o.g*a,h+=o.b*a;else if(i.isDirectionalLight){var y=nt.get(i);y.color.copy(i.color).multiplyScalar(i.intensity),y.direction.setFromMatrixPosition(i.matrixWorld),G.setFromMatrixPosition(i.target.matrixWorld),y.direction.sub(G),y.direction.transformDirection(f),y.shadow=i.castShadow,i.castShadow&&(y.shadowBias=i.shadow.bias,y.shadowRadius=i.shadow.radius,y.shadowMapSize=i.shadow.mapSize),V.directionalShadowMap[p]=l,V.directionalShadowMatrix[p]=i.shadow.matrix,V.directional[p++]=y}else if(i.isSpotLight){var y=nt.get(i);y.position.setFromMatrixPosition(i.matrixWorld),y.position.applyMatrix4(f),y.color.copy(o).multiplyScalar(a),y.distance=s,y.direction.setFromMatrixPosition(i.matrixWorld),G.setFromMatrixPosition(i.target.matrixWorld),y.direction.sub(G),y.direction.transformDirection(f),y.coneCos=Math.cos(i.angle),y.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),y.decay=0===i.distance?0:i.decay,y.shadow=i.castShadow,i.castShadow&&(y.shadowBias=i.shadow.bias,y.shadowRadius=i.shadow.radius,y.shadowMapSize=i.shadow.mapSize),V.spotShadowMap[v]=l,V.spotShadowMatrix[v]=i.shadow.matrix,V.spot[v++]=y}else if(i.isRectAreaLight){var y=nt.get(i);y.color.copy(o).multiplyScalar(a/(i.width*i.height)),y.position.setFromMatrixPosition(i.matrixWorld),y.position.applyMatrix4(f),k.identity(),B.copy(i.matrixWorld),B.premultiply(f),k.extractRotation(B),y.halfWidth.set(.5*i.width,0,0),y.halfHeight.set(0,.5*i.height,0),y.halfWidth.applyMatrix4(k),y.halfHeight.applyMatrix4(k),V.rectArea[m++]=y}else if(i.isPointLight){var y=nt.get(i);y.position.setFromMatrixPosition(i.matrixWorld),y.position.applyMatrix4(f),y.color.copy(i.color).multiplyScalar(i.intensity),y.distance=i.distance,y.decay=0===i.distance?0:i.decay,y.shadow=i.castShadow,i.castShadow&&(y.shadowBias=i.shadow.bias,y.shadowRadius=i.shadow.radius,y.shadowMapSize=i.shadow.mapSize),V.pointShadowMap[d]=l,void 0===V.pointShadowMatrix[d]&&(V.pointShadowMatrix[d]=new un),G.setFromMatrixPosition(i.matrixWorld).negate(),V.pointShadowMatrix[d].identity().setPosition(G),V.point[d++]=y}else if(i.isHemisphereLight){var y=nt.get(i);y.direction.setFromMatrixPosition(i.matrixWorld),y.direction.transformDirection(f),y.direction.normalize(),y.skyColor.copy(i.color).multiplyScalar(a),y.groundColor.copy(i.groundColor).multiplyScalar(a),V.hemi[g++]=y}V.ambient[0]=u,V.ambient[1]=c,V.ambient[2]=h,V.directional.length=p,V.spot.length=v,V.rectArea.length=m,V.point.length=d,V.hemi.length=g,V.hash=p+","+d+","+v+","+m+","+g+","+V.shadows.length}(d,e),U&&H.endShadows(),W.calls=0,W.vertices=0,W.faces=0,void(W.points=0)===n&&(n=null),this.setRenderTarget(n);var i=t.background;if(null===i?Z.buffers.color.setClear(w.r,w.g,w.b,E,s):i&&i.isColor&&(Z.buffers.color.setClear(i.r,i.g,i.b,1,s),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),i&&i.isCubeTexture?(void 0===ot&&(ot=new Ki,at=new Bi(new Vi(5,5,5),new br({uniforms:Hn.cube.uniforms,vertexShader:Hn.cube.vertexShader,fragmentShader:Hn.cube.fragmentShader,side:Ht,depthTest:!1,depthWrite:!1,fog:!1}))),ot.projectionMatrix.copy(e.projectionMatrix),ot.matrixWorld.extractRotation(e.matrixWorld),ot.matrixWorldInverse.getInverse(ot.matrixWorld),at.material.uniforms.tCube.value=i,at.modelViewMatrix.multiplyMatrices(ot.matrixWorldInverse,at.matrixWorld),tt.update(at),T.renderBufferDirect(ot,null,at.geometry,at.material,at,null)):i&&i.isTexture&&(void 0===rt&&(rt=new Zi(-1,1,1,-1,0,1),it=new Bi(new Xi(2,2),new hi({depthTest:!1,depthWrite:!1,fog:!1}))),it.material.map=i,tt.update(it),T.renderBufferDirect(rt,null,it.geometry,it.material,it,null)),t.overrideMaterial){var o=t.overrideMaterial;Tt(u,t,e,o),Tt(h,t,e,o)}else Z.setBlending(Yt),Tt(u,t,e),Tt(h,t,e);mt.render(t,e),gt.render(t,e,b),n&&J.updateRenderTargetMipmap(n),Z.setDepthTest(!0),Z.setDepthWrite(!0),Z.setColorWrite(!0)}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFaceCulling=function(t,e){Z.setCullFace(t),Z.setFlipSided(e===Dt)},this.allocTextureUnit=function(){var t=R;return t>=K.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+K.maxTextures),R+=1,t},this.setTexture2D=(pt=!1,function(t,e){t&&t.isWebGLRenderTarget&&(pt||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),pt=!0),t=t.texture),J.setTexture2D(t,e)}),this.setTexture=(dt=!1,function(t,e){dt||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),dt=!0),J.setTexture2D(t,e)}),this.setTextureCube=(vt=!1,function(t,e){t&&t.isWebGLRenderTargetCube&&(vt||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),vt=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?J.setTextureCube(t,e):J.setTextureCubeDynamic(t,e)}),this.getCurrentRenderTarget=function(){return p},this.setRenderTarget=function(t){(p=t)&&void 0===Q.get(t).__webglFramebuffer&&J.setupRenderTarget(t);var e,n=t&&t.isWebGLRenderTargetCube;if(t){var r=Q.get(t);e=n?r.__webglFramebuffer[t.activeCubeFace]:r.__webglFramebuffer,y.copy(t.scissor),_=t.scissorTest,b.copy(t.viewport)}else e=null,y.copy(A).multiplyScalar(N),_=S,b.copy($).multiplyScalar(N);if(g!==e&&(M.bindFramebuffer(M.FRAMEBUFFER,e),g=e),Z.scissor(y),Z.setScissorTest(_),Z.viewport(b),n){var i=Q.get(t.texture);M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,o){if(!1!==(t&&t.isWebGLRenderTarget)){var a=Q.get(t).__webglFramebuffer;if(a){var s=!1;a!==g&&(M.bindFramebuffer(M.FRAMEBUFFER,a),s=!0);try{var l=t.texture,u=l.format,c=l.type;if(u!==Ye&&jt(u)!==M.getParameter(M.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(c===Ie||jt(c)===M.getParameter(M.IMPLEMENTATION_COLOR_READ_TYPE)||c===Oe&&(q.get("OES_texture_float")||q.get("WEBGL_color_buffer_float"))||c===Ne&&q.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");M.checkFramebufferStatus(M.FRAMEBUFFER)===M.FRAMEBUFFER_COMPLETE?0<=e&&e<=t.width-r&&0<=n&&n<=t.height-i&&M.readPixels(e,n,r,i,jt(u),jt(c),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&M.bindFramebuffer(M.FRAMEBUFFER,g)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")}}function Ao(t,e){this.name="",this.color=new jn(t),this.density=void 0!==e?e:25e-5}function So(t,e,n){this.name="",this.color=new jn(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function To(){si.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Lo(t,e,n,r,i){si.call(this),this.lensFlares=[],this.positionScreen=new ln,(this.customUpdateCallback=void 0)!==t&&this.add(t,e,n,r,i)}function Io(t){_r.call(this),this.type="SpriteMaterial",this.color=new jn(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Po(t){si.call(this),this.type="Sprite",this.material=void 0!==t?t:new Io}function Mo(){si.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Co(t,e,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new un,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var r=Math.sqrt(4*this.bones.length);r=I.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4),this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new On(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,Ye,Oe)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new un)}}function jo(){si.call(this),this.type="Bone"}function Ro(t,e,n){Bi.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new un,this.bindMatrixInverse=new un;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,o,a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],i=new jo,r.push(i),i.name=o.name,i.position.fromArray(o.pos),i.quaternion.fromArray(o.rotq),void 0!==o.scl&&i.scale.fromArray(o.scl);for(a=0,s=this.geometry.bones.length;a<s;++a)-1!==(o=this.geometry.bones[a]).parent&&null!==o.parent&&void 0!==r[o.parent]?r[o.parent].add(r[a]):this.add(r[a])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new Co(r,void 0,n),this.matrixWorld)}function Oo(t){_r.call(this),this.type="LineBasicMaterial",this.color=new jn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function No(t,e,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new $o(t,e);si.call(this),this.type="Line",this.geometry=void 0!==t?t:new Gi,this.material=void 0!==e?e:new Oo({color:16777215*Math.random()})}function $o(t,e){No.call(this,t,e),this.type="LineSegments"}function Do(t){_r.call(this),this.type="PointsMaterial",this.color=new jn(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function Ho(t,e){si.call(this),this.type="Points",this.geometry=void 0!==t?t:new Gi,this.material=void 0!==e?e:new Do({color:16777215*Math.random()})}function Uo(){si.call(this),this.type="Group"}function Fo(e,t,n,r,i,o,a,s,l){ht.call(this,e,t,n,r,i,o,a,s,l),this.generateMipmaps=!1;var u=this;!function t(){requestAnimationFrame(t),e.readyState>=e.HAVE_CURRENT_DATA&&(u.needsUpdate=!0)}()}function zo(t,e,n,r,i,o,a,s,l,u,c,h){ht.call(this,null,o,a,s,l,u,r,i,c,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Yo(t,e,n,r,i,o,a,s,l){ht.call(this,t,e,n,r,i,o,a,s,l),this.needsUpdate=!0}function Go(t,e,n,r,i,o,a,s,l,u){if((u=void 0!==u?u:ke)!==ke&&u!==Ve)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===ke&&(n=Ce),void 0===n&&u===Ve&&(n=Ue),ht.call(this,null,r,i,o,a,s,u,n,l),this.image={width:t,height:e},this.magFilter=void 0!==a?a:Ee,this.minFilter=void 0!==s?s:Ee,this.flipY=!1,this.generateMipmaps=!1}function Bo(t){Gi.call(this),this.type="WireframeGeometry";var e,n,r,i,o,a,s,l,u=[],c=[0,0],h={},f=["a","b","c"];if(t&&t.isGeometry){var p=t.faces;for(e=0,r=p.length;e<r;e++){var d=p[e];for(n=0;n<3;n++)c[0]=d[f[n]],c[1]=d[f[(n+1)%3]],c.sort(w),void 0===h[s=c.toString()]&&(h[s]={index1:c[0],index2:c[1]})}for(s in h)a=h[s],l=t.vertices[a.index1],u.push(l.x,l.y,l.z),l=t.vertices[a.index2],u.push(l.x,l.y,l.z)}else if(t&&t.isBufferGeometry){var v,m,g,y,_,b;if(l=new ln,null!==t.index){for(v=t.attributes.position,m=t.index,0===(g=t.groups).length&&t.addGroup(0,m.count),i=0,o=g.length;i<o;++i)for(r=(e=(y=g[i]).start)+y.count;e<r;e+=3)for(n=0;n<3;n++)c[0]=m.getX(e+n),c[1]=m.getX(e+(n+1)%3),c.sort(w),void 0===h[s=c.toString()]&&(h[s]={index1:c[0],index2:c[1]});for(s in h)a=h[s],l.fromBufferAttribute(v,a.index1),u.push(l.x,l.y,l.z),l.fromBufferAttribute(v,a.index2),u.push(l.x,l.y,l.z)}else for(e=0,r=(v=t.attributes.position).count/3;e<r;e++)for(n=0;n<3;n++)_=3*e+n,l.fromBufferAttribute(v,_),u.push(l.x,l.y,l.z),b=3*e+(n+1)%3,l.fromBufferAttribute(v,b),u.push(l.x,l.y,l.z)}function w(t,e){return t-e}this.addAttribute("position",new bi(u,3))}function ko(t,e,n){Yi.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Vo(t,e,n)),this.mergeVertices()}function Vo(t,e,n){Gi.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var r,i,o=[],a=[],s=[],l=e+1;for(r=0;r<=n;r++){var u=r/n;for(i=0;i<=e;i++){var c=i/e,h=t(c,u);a.push(h.x,h.y,h.z),s.push(c,u)}}for(r=0;r<n;r++)for(i=0;i<e;i++){var f=r*l+i,p=r*l+i+1,d=(r+1)*l+i+1,v=(r+1)*l+i;o.push(f,p,v),o.push(p,d,v)}this.setIndex(o),this.addAttribute("position",new bi(a,3)),this.addAttribute("uv",new bi(s,2)),this.computeVertexNormals()}function Wo(t,e,n,r){Yi.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new Xo(t,e,n,r)),this.mergeVertices()}function Xo(r,o,t,e){Gi.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:r,indices:o,radius:t,detail:e},t=t||1;var c=[],h=[];function a(t,e,n,r){var i,o,a=Math.pow(2,r),s=[];for(i=0;i<=a;i++){s[i]=[];var l=t.clone().lerp(n,i/a),u=e.clone().lerp(n,i/a),c=a-i;for(o=0;o<=c;o++)s[i][o]=0===o&&i===a?l:l.clone().lerp(u,o/c)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var h=Math.floor(o/2);o%2==0?(f(s[i][h+1]),f(s[i+1][h]),f(s[i][h])):(f(s[i][h+1]),f(s[i+1][h+1]),f(s[i+1][h]))}}function f(t){c.push(t.x,t.y,t.z)}function s(t,e){var n=3*t;e.x=r[n+0],e.y=r[n+1],e.z=r[n+2]}function p(t,e,n,r){r<0&&1===t.x&&(h[e]=t.x-1),0===n.x&&0===n.z&&(h[e]=r/2/Math.PI+.5)}function d(t){return Math.atan2(t.z,-t.x)}!function(t){for(var e=new ln,n=new ln,r=new ln,i=0;i<o.length;i+=3)s(o[i+0],e),s(o[i+1],n),s(o[i+2],r),a(e,n,r,t)}(e=e||0),function(t){for(var e=new ln,n=0;n<c.length;n+=3)e.x=c[n+0],e.y=c[n+1],e.z=c[n+2],e.normalize().multiplyScalar(t),c[n+0]=e.x,c[n+1]=e.y,c[n+2]=e.z}(t),function(){for(var t=new ln,e=0;e<c.length;e+=3){t.x=c[e+0],t.y=c[e+1],t.z=c[e+2];var n=d(t)/2/Math.PI+.5,r=(i=t,Math.atan2(-i.y,Math.sqrt(i.x*i.x+i.z*i.z))/Math.PI+.5);h.push(n,1-r)}var i;(function(){for(var t=new ln,e=new ln,n=new ln,r=new ln,i=new an,o=new an,a=new an,s=0,l=0;s<c.length;s+=9,l+=6){t.set(c[s+0],c[s+1],c[s+2]),e.set(c[s+3],c[s+4],c[s+5]),n.set(c[s+6],c[s+7],c[s+8]),i.set(h[l+0],h[l+1]),o.set(h[l+2],h[l+3]),a.set(h[l+4],h[l+5]),r.copy(t).add(e).add(n).divideScalar(3);var u=d(r);p(i,l+0,t,u),p(o,l+2,e,u),p(a,l+4,n,u)}})(),function(){for(var t=0;t<h.length;t+=6){var e=h[t+0],n=h[t+2],r=h[t+4],i=Math.max(e,n,r),o=Math.min(e,n,r);.9<i&&o<.1&&(e<.2&&(h[t+0]+=1),n<.2&&(h[t+2]+=1),r<.2&&(h[t+4]+=1))}}()}(),this.addAttribute("position",new bi(c,3)),this.addAttribute("normal",new bi(c.slice(),3)),this.addAttribute("uv",new bi(h,2)),this.normalizeNormals()}function qo(t,e){Yi.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ko(t,e)),this.mergeVertices()}function Ko(t,e){Xo.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Zo(t,e){Yi.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Qo(t,e)),this.mergeVertices()}function Qo(t,e){Xo.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Jo(t,e){Yi.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ta(t,e)),this.mergeVertices()}function ta(t,e){var n=(1+Math.sqrt(5))/2;Xo.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ea(t,e){Yi.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new na(t,e)),this.mergeVertices()}function na(t,e){var n=(1+Math.sqrt(5))/2,r=1/n;Xo.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ra(t,e,n,r,i,o){Yi.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new ia(t,e,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function ia(s,l,u,c,t){Gi.call(this),this.type="TubeBufferGeometry",this.parameters={path:s,tubularSegments:l,radius:u,radialSegments:c,closed:t},l=l||64,u=u||1,c=c||8,t=t||!1;var h=s.computeFrenetFrames(l,t);this.tangents=h.tangents,this.normals=h.normals,this.binormals=h.binormals;var i,f,p=new ln,d=new ln,e=new an,v=[],m=[],n=[],o=[];function r(t){var e=s.getPointAt(t/l),n=h.normals[t],r=h.binormals[t];for(f=0;f<=c;f++){var i=f/c*Math.PI*2,o=Math.sin(i),a=-Math.cos(i);d.x=a*n.x+o*r.x,d.y=a*n.y+o*r.y,d.z=a*n.z+o*r.z,d.normalize(),m.push(d.x,d.y,d.z),p.x=e.x+u*d.x,p.y=e.y+u*d.y,p.z=e.z+u*d.z,v.push(p.x,p.y,p.z)}}!function(){for(i=0;i<l;i++)r(i);r(!1===t?l:0),function(){for(i=0;i<=l;i++)for(f=0;f<=c;f++)e.x=i/l,e.y=f/c,n.push(e.x,e.y)}(),function(){for(f=1;f<=l;f++)for(i=1;i<=c;i++){var t=(c+1)*(f-1)+(i-1),e=(c+1)*f+(i-1),n=(c+1)*f+i,r=(c+1)*(f-1)+i;o.push(t,e,r),o.push(e,n,r)}}()}(),this.setIndex(o),this.addAttribute("position",new bi(v,3)),this.addAttribute("normal",new bi(m,3)),this.addAttribute("uv",new bi(n,2))}function oa(t,e,n,r,i,o,a){Yi.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new aa(t,e,n,r,i,o)),this.mergeVertices()}function aa(t,e,n,r,i,o){Gi.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},t=t||100,e=e||40,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var a,s,l=[],u=[],c=[],h=[],f=new ln,p=new ln,d=(new an,new ln),v=new ln,m=new ln,g=new ln,y=new ln;for(a=0;a<=n;++a){var _=a/n*i*Math.PI*2;for(L(_,i,o,t,d),L(_+.01,i,o,t,v),g.subVectors(v,d),y.addVectors(v,d),m.crossVectors(g,y),y.crossVectors(m,g),m.normalize(),y.normalize(),s=0;s<=r;++s){var b=s/r*Math.PI*2,w=-e*Math.cos(b),E=e*Math.sin(b);f.x=d.x+(w*y.x+E*m.x),f.y=d.y+(w*y.y+E*m.y),f.z=d.z+(w*y.z+E*m.z),u.push(f.x,f.y,f.z),p.subVectors(f,d).normalize(),c.push(p.x,p.y,p.z),h.push(a/n),h.push(s/r)}}for(s=1;s<=n;s++)for(a=1;a<=r;a++){var x=(r+1)*(s-1)+(a-1),A=(r+1)*s+(a-1),S=(r+1)*s+a,T=(r+1)*(s-1)+a;l.push(x,A,T),l.push(A,S,T)}function L(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t),s=n/e*t,l=Math.cos(s);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(l),this.addAttribute("position",new bi(u,3)),this.addAttribute("normal",new bi(c,3)),this.addAttribute("uv",new bi(h,2))}function sa(t,e,n,r,i){Yi.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new la(t,e,n,r,i))}function la(t,e,n,r,i){Gi.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||100,e=e||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],l=[],u=[],c=[],h=new ln,f=new ln,p=new ln;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var d=a/r*i,v=o/n*Math.PI*2;f.x=(t+e*Math.cos(v))*Math.cos(d),f.y=(t+e*Math.cos(v))*Math.sin(d),f.z=e*Math.sin(v),l.push(f.x,f.y,f.z),h.x=t*Math.cos(d),h.y=t*Math.sin(d),p.subVectors(f,h).normalize(),u.push(p.x,p.y,p.z),c.push(a/r),c.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var m=(r+1)*o+a-1,g=(r+1)*(o-1)+a-1,y=(r+1)*(o-1)+a,_=(r+1)*o+a;s.push(m,g,_),s.push(g,y,_)}this.setIndex(s),this.addAttribute("position",new bi(l,3)),this.addAttribute("normal",new bi(u,3)),this.addAttribute("uv",new bi(c,2))}Ao.prototype.isFogExp2=!0,Ao.prototype.clone=function(){return new Ao(this.color.getHex(),this.density)},Ao.prototype.toJSON=function(t){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},So.prototype.isFog=!0,So.prototype.clone=function(){return new So(this.color.getHex(),this.near,this.far)},So.prototype.toJSON=function(t){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},((To.prototype=Object.create(si.prototype)).constructor=To).prototype.copy=function(t,e){return si.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},To.prototype.toJSON=function(t){var e=si.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},Lo.prototype=Object.assign(Object.create(si.prototype),{constructor:Lo,isLensFlare:!0,copy:function(t){si.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,r,i,o){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new jn(16777215)),void 0===r&&(r=Gt),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var t,e,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<n;t++)(e=this.lensFlares[t]).x=this.positionScreen.x+r*e.distance,e.y=this.positionScreen.y+i*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),((Io.prototype=Object.create(_r.prototype)).constructor=Io).prototype.copy=function(t){return _r.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},Po.prototype=Object.assign(Object.create(si.prototype),{constructor:Po,isSprite:!0,raycast:(Ji=new ln,function(t,e){Ji.setFromMatrixPosition(this.matrixWorld);var n=t.ray.distanceSqToPoint(Ji);this.scale.x*this.scale.y/4<n||e.push({distance:Math.sqrt(n),point:this.position,face:null,object:this})}),clone:function(){return new this.constructor(this.material).copy(this)}}),Mo.prototype=Object.assign(Object.create(si.prototype),{constructor:Mo,copy:function(t){si.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:(no=new ln,function(t,e){no.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(no);this.getObjectForDistance(n).raycast(t,e)}),update:(to=new ln,eo=new ln,function(t){var e=this.levels;if(1<e.length){to.setFromMatrixPosition(t.matrixWorld),eo.setFromMatrixPosition(this.matrixWorld);var n=to.distanceTo(eo);e[0].object.visible=!0;for(var r=1,i=e.length;r<i&&n>=e[r].distance;r++)e[r-1].object.visible=!1,e[r].object.visible=!0;for(;r<i;r++)e[r].object.visible=!1}}),toJSON:function(t){var e=si.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(Co.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new un;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var t,e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(ro=new un,function(){for(var t=0,e=this.bones.length;t<e;t++){var n=this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix;ro.multiplyMatrices(n,this.boneInverses[t]),ro.toArray(this.boneMatrices,16*t)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}),clone:function(){return new Co(this.bones,this.boneInverses,this.useVertexTexture)}}),jo.prototype=Object.assign(Object.create(si.prototype),{constructor:jo,isBone:!0}),Ro.prototype=Object.assign(Object.create(Bi.prototype),{constructor:Ro,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t];(i=1/e.lengthManhattan())!==1/0?e.multiplyScalar(i):e.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var n=new sn,r=this.geometry.attributes.skinWeight;for(t=0;t<r.count;t++){var i;n.x=r.getX(t),n.y=r.getY(t),n.z=r.getZ(t),n.w=r.getW(t),(i=1/n.lengthManhattan())!==1/0?n.multiplyScalar(i):n.set(1,0,0,0),r.setXYZW(t,n.x,n.y,n.z,n.w)}}},updateMatrixWorld:function(t){Bi.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),((Oo.prototype=Object.create(_r.prototype)).constructor=Oo).prototype.isLineBasicMaterial=!0,Oo.prototype.copy=function(t){return _r.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},No.prototype=Object.assign(Object.create(si.prototype),{constructor:No,isLine:!0,raycast:(io=new un,oo=new Ir,ao=new xr,function(t,e){var n=t.linePrecision,r=n*n,i=this.geometry,o=this.matrixWorld;if(null===i.boundingSphere&&i.computeBoundingSphere(),ao.copy(i.boundingSphere),ao.applyMatrix4(o),!1!==t.ray.intersectsSphere(ao)){io.getInverse(o),oo.copy(t.ray).applyMatrix4(io);var a=new ln,s=new ln,l=new ln,u=new ln,c=this&&this.isLineSegments?2:1;if(i.isBufferGeometry){var h=i.index,f=i.attributes.position.array;if(null!==h)for(var p=h.array,d=0,v=p.length-1;d<v;d+=c){var m=p[d],g=p[d+1];a.fromArray(f,3*m),s.fromArray(f,3*g),r<oo.distanceSqToSegment(a,s,u,l)||(u.applyMatrix4(this.matrixWorld),(b=t.ray.origin.distanceTo(u))<t.near||b>t.far||e.push({distance:b,point:l.clone().applyMatrix4(this.matrixWorld),index:d,face:null,faceIndex:null,object:this}))}else for(d=0,v=f.length/3-1;d<v;d+=c)a.fromArray(f,3*d),s.fromArray(f,3*d+3),r<oo.distanceSqToSegment(a,s,u,l)||(u.applyMatrix4(this.matrixWorld),(b=t.ray.origin.distanceTo(u))<t.near||b>t.far||e.push({distance:b,point:l.clone().applyMatrix4(this.matrixWorld),index:d,face:null,faceIndex:null,object:this}))}else if(i.isGeometry){var y=i.vertices,_=y.length;for(d=0;d<_-1;d+=c){var b;r<oo.distanceSqToSegment(y[d],y[d+1],u,l)||(u.applyMatrix4(this.matrixWorld),(b=t.ray.origin.distanceTo(u))<t.near||b>t.far||e.push({distance:b,point:l.clone().applyMatrix4(this.matrixWorld),index:d,face:null,faceIndex:null,object:this}))}}}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),$o.prototype=Object.assign(Object.create(No.prototype),{constructor:$o,isLineSegments:!0}),((Do.prototype=Object.create(_r.prototype)).constructor=Do).prototype.isPointsMaterial=!0,Do.prototype.copy=function(t){return _r.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Ho.prototype=Object.assign(Object.create(si.prototype),{constructor:Ho,isPoints:!0,raycast:(so=new un,lo=new Ir,uo=new xr,function(o,a){var s=this,t=this.geometry,l=this.matrixWorld,e=o.params.Points.threshold;if(null===t.boundingSphere&&t.computeBoundingSphere(),uo.copy(t.boundingSphere),uo.applyMatrix4(l),!1!==o.ray.intersectsSphere(uo)){so.getInverse(l),lo.copy(o.ray).applyMatrix4(so);var n=e/((this.scale.x+this.scale.y+this.scale.z)/3),u=n*n,r=new ln;if(t.isBufferGeometry){var i=t.index,c=t.attributes.position.array;if(null!==i)for(var h=i.array,f=0,p=h.length;f<p;f++){var d=h[f];r.fromArray(c,3*d),g(r,d)}else{f=0;for(var v=c.length/3;f<v;f++)r.fromArray(c,3*f),g(r,f)}}else{var m=t.vertices;for(f=0,v=m.length;f<v;f++)g(m[f],f)}}function g(t,e){var n=lo.distanceSqToPoint(t);if(n<u){var r=lo.closestPointToPoint(t);r.applyMatrix4(l);var i=o.ray.origin.distanceTo(r);if(i<o.near||i>o.far)return;a.push({distance:i,distanceToRay:Math.sqrt(n),point:r.clone(),index:e,face:null,object:s})}}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Uo.prototype=Object.assign(Object.create(si.prototype),{constructor:Uo}),(Fo.prototype=Object.create(ht.prototype)).constructor=Fo,((zo.prototype=Object.create(ht.prototype)).constructor=zo).prototype.isCompressedTexture=!0,(Yo.prototype=Object.create(ht.prototype)).constructor=Yo,((Go.prototype=Object.create(ht.prototype)).constructor=Go).prototype.isDepthTexture=!0,(Bo.prototype=Object.create(Gi.prototype)).constructor=Bo,(ko.prototype=Object.create(Yi.prototype)).constructor=ko,(Vo.prototype=Object.create(Gi.prototype)).constructor=Vo,(Wo.prototype=Object.create(Yi.prototype)).constructor=Wo,(Xo.prototype=Object.create(Gi.prototype)).constructor=Xo,(qo.prototype=Object.create(Yi.prototype)).constructor=qo,(Ko.prototype=Object.create(Xo.prototype)).constructor=Ko,(Zo.prototype=Object.create(Yi.prototype)).constructor=Zo,(Qo.prototype=Object.create(Xo.prototype)).constructor=Qo,(Jo.prototype=Object.create(Yi.prototype)).constructor=Jo,(ta.prototype=Object.create(Xo.prototype)).constructor=ta,(ea.prototype=Object.create(Yi.prototype)).constructor=ea,(na.prototype=Object.create(Xo.prototype)).constructor=na,(ra.prototype=Object.create(Yi.prototype)).constructor=ra,(ia.prototype=Object.create(Gi.prototype)).constructor=ia,(oa.prototype=Object.create(Yi.prototype)).constructor=oa,(aa.prototype=Object.create(Gi.prototype)).constructor=aa,(sa.prototype=Object.create(Yi.prototype)).constructor=sa,(la.prototype=Object.create(Gi.prototype)).constructor=la;var ua={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},triangulate:function(){function m(t,e,n,r,i,o){var a,s,l,u,c,h,f,p,d,v,m,g,y,_,b,w,E;if(s=t[o[e]].x,l=t[o[e]].y,u=t[o[n]].x,c=t[o[n]].y,h=t[o[r]].x,(u-s)*((f=t[o[r]].y)-l)-(c-l)*(h-s)<=0)return!1;for(v=h-u,m=f-c,g=s-h,y=l-f,_=u-s,b=c-l,a=0;a<i;a++)if(p=t[o[a]].x,d=t[o[a]].y,!(p===s&&d===l||p===u&&d===c||p===h&&d===f)&&(w=_*(d-l)-b*(p-s),E=g*(d-f)-y*(p-h),v*(d-c)-m*(p-u)>=-Number.EPSILON&&E>=-Number.EPSILON&&w>=-Number.EPSILON))return!1;return!0}return function(t,e){var n=t.length;if(n<3)return null;var r,i,o,a=[],s=[],l=[];if(0<ua.area(t))for(i=0;i<n;i++)s[i]=i;else for(i=0;i<n;i++)s[i]=n-1-i;var u=n,c=2*u;for(i=u-1;2<u;){if(c--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),e?l:a;if(u<=(r=i)&&(r=0),u<=(i=r+1)&&(i=0),u<=(o=i+1)&&(o=0),m(t,r,i,o,u,s)){var h,f,p,d,v;for(h=s[r],f=s[i],p=s[o],a.push([t[h],t[f],t[p]]),l.push([s[r],s[i],s[o]]),v=(d=i)+1;v<u;d++,v++)s[d]=s[v];c=2*--u}}return e?l:a}}(),triangulateShape:function(t,e){function n(t){var e=t.length;2<e&&t[e-1].equals(t[0])&&t.pop()}function S(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function A(t,e,n,r,i){var o=e.x-t.x,a=e.y-t.y,s=r.x-n.x,l=r.y-n.y,u=t.x-n.x,c=t.y-n.y,h=a*s-o*l,f=a*u-o*c;if(Math.abs(h)>Number.EPSILON){var p;if(0<h){if(f<0||h<f)return[];if((p=l*u-s*c)<0||h<p)return[]}else{if(0<f||f<h)return[];if(0<(p=l*u-s*c)||p<h)return[]}if(0===p)return!i||0!==f&&f!==h?[t]:[];if(p===h)return!i||0!==f&&f!==h?[e]:[];if(0===f)return[n];if(f===h)return[r];var d=p/h;return[{x:t.x+d*o,y:t.y+d*a}]}if(0!==f||l*u!=s*c)return[];var v,m,g,y,_,b,w,E,x=0===o&&0===a,A=0===s&&0===l;return x&&A?t.x!==n.x||t.y!==n.y?[]:[t]:x?S(n,r,t)?[t]:[]:A?S(t,e,n)?[n]:[]:(0!==o?(t.x<e.x?(g=(v=t).x,y=(m=e).x):(g=(v=e).x,y=(m=t).x),n.x<r.x?(w=(_=n).x,E=(b=r).x):(w=(_=r).x,E=(b=n).x)):(t.y<e.y?(g=(v=t).y,y=(m=e).y):(g=(v=e).y,y=(m=t).y),n.y<r.y?(w=(_=n).y,E=(b=r).y):(w=(_=r).y,E=(b=n).y)),g<=w?y<w?[]:y===w?i?[]:[_]:y<=E?[_,m]:[_,b]:E<g?[]:g===E?i?[]:[v]:y<=E?[v,m]:[v,b])}function T(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=n.x-t.x,s=n.y-t.y,l=r.x-t.x,u=r.y-t.y,c=i*s-o*a,h=i*u-o*l;if(Math.abs(c)>Number.EPSILON){var f=l*s-u*a;return 0<c?0<=h&&0<=f:0<=h||0<=f}return 0<h}n(t),e.forEach(n);for(var r,i,o,a,s,l,u={},c=t.concat(),h=0,f=e.length;h<f;h++)Array.prototype.push.apply(c,e[h]);for(r=0,i=c.length;r<i;r++)void 0!==u[s=c[r].x+":"+c[r].y]&&console.warn("THREE.ShapeUtils: Duplicate point",s,r),u[s]=r;var p=function(t,a){var u,c=t.concat();function e(t,e){var n=c.length-1,r=t-1;r<0&&(r=n);var i=t+1;n<i&&(i=0);var o=T(c[t],c[r],c[i],u[e]);if(!o)return!1;var a=u.length-1,s=e-1;s<0&&(s=a);var l=e+1;return a<l&&(l=0),!!(o=T(u[e],u[s],u[l],c[t]))}function n(t,e){var n,r;for(n=0;n<c.length;n++)if(r=n+1,r%=c.length,0<A(t,e,c[n],c[r],!0).length)return!0;return!1}var s=[];function r(t,e){var n,r,i,o;for(n=0;n<s.length;n++)for(r=a[s[n]],i=0;i<r.length;i++)if(o=i+1,o%=r.length,0<A(t,e,r[i],r[o],!0).length)return!0;return!1}for(var i,o,l,h,f,p,d,v,m,g,y=[],_=0,b=a.length;_<b;_++)s.push(_);for(var w=0,E=2*s.length;0<s.length;){if(--E<0){console.log("Infinite Loop! Holes left:"+s.length+", Probably Hole outside Shape!");break}for(o=w;o<c.length;o++){for(l=c[o],i=-1,_=0;_<s.length;_++)if(f=s[_],void 0===y[p=l.x+":"+l.y+":"+f]){u=a[f];for(var x=0;x<u.length;x++)if(h=u[x],e(o,x)&&!n(l,h)&&!r(l,h)){i=x,s.splice(_,1),d=c.slice(0,o+1),v=c.slice(o),m=u.slice(i),g=u.slice(0,i+1),c=d.concat(m).concat(g).concat(v),w=o;break}if(0<=i)break;y[p]=!0}if(0<=i)break}}return c}(t,e),d=ua.triangulate(p,!1);for(r=0,i=d.length;r<i;r++)for(a=d[r],o=0;o<3;o++)void 0!==(l=u[s=a[o].x+":"+a[o].y])&&(a[o]=l);return d.concat()},isClockWise:function(t){return ua.area(t)<0}};function ca(t,e){void 0!==t?(Yi.call(this),this.type="ExtrudeGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeFaceNormals()):t=[]}function ha(t,e){var n=(e=e||{}).font;if(!1===(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Yi;var r=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),ca.call(this,r,e),this.type="TextGeometry"}function fa(t,e,n,r,i,o,a){Yi.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new pa(t,e,n,r,i,o,a))}function pa(t,e,n,r,i,o,a){Gi.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var s,l,u=(o=void 0!==o?o:0)+(a=void 0!==a?a:Math.PI),c=0,h=[],f=new ln,p=new ln,d=[],v=[],m=[],g=[];for(l=0;l<=n;l++){var y=[],_=l/n;for(s=0;s<=e;s++){var b=s/e;f.x=-t*Math.cos(r+b*i)*Math.sin(o+_*a),f.y=t*Math.cos(o+_*a),f.z=t*Math.sin(r+b*i)*Math.sin(o+_*a),v.push(f.x,f.y,f.z),p.set(f.x,f.y,f.z).normalize(),m.push(p.x,p.y,p.z),g.push(b,1-_),y.push(c++)}h.push(y)}for(l=0;l<n;l++)for(s=0;s<e;s++){var w=h[l][s+1],E=h[l][s],x=h[l+1][s],A=h[l+1][s+1];(0!==l||0<o)&&d.push(w,E,A),(l!==n-1||u<Math.PI)&&d.push(E,x,A)}this.setIndex(d),this.addAttribute("position",new bi(v,3)),this.addAttribute("normal",new bi(m,3)),this.addAttribute("uv",new bi(g,2))}function da(t,e,n,r,i,o){Yi.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new va(t,e,n,r,i,o))}function va(t,e,n,r,i,o){Gi.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},t=t||20,e=e||50,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var a,s,l,u=[],c=[],h=[],f=[],p=t,d=(e-t)/(r=void 0!==r?Math.max(1,r):1),v=new ln,m=new an;for(s=0;s<=r;s++){for(l=0;l<=n;l++)a=i+l/n*o,v.x=p*Math.cos(a),v.y=p*Math.sin(a),c.push(v.x,v.y,v.z),h.push(0,0,1),m.x=(v.x/e+1)/2,m.y=(v.y/e+1)/2,f.push(m.x,m.y);p+=d}for(s=0;s<r;s++){var g=s*(n+1);for(l=0;l<n;l++){var y=a=l+g,_=a+n+1,b=a+n+2,w=a+1;u.push(y,_,w),u.push(_,b,w)}}this.setIndex(u),this.addAttribute("position",new bi(c,3)),this.addAttribute("normal",new bi(h,3)),this.addAttribute("uv",new bi(f,2))}function ma(t,e,n,r){Yi.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new ga(t,e,n,r)),this.mergeVertices()}function ga(t,e,n,r){Gi.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=I.clamp(r,0,2*Math.PI);var i,o,a,s=[],l=[],u=[],c=1/e,h=new ln,f=new an;for(o=0;o<=e;o++){var p=n+o*c*r,d=Math.sin(p),v=Math.cos(p);for(a=0;a<=t.length-1;a++)h.x=t[a].x*d,h.y=t[a].y,h.z=t[a].x*v,l.push(h.x,h.y,h.z),f.x=o/e,f.y=a/(t.length-1),u.push(f.x,f.y)}for(o=0;o<e;o++)for(a=0;a<t.length-1;a++){var m=i=a+o*t.length,g=i+t.length,y=i+t.length+1,_=i+1;s.push(m,g,_),s.push(g,y,_)}if(this.setIndex(s),this.addAttribute("position",new bi(l,3)),this.addAttribute("uv",new bi(u,2)),this.computeVertexNormals(),r===2*Math.PI){var b=this.attributes.normal.array,w=new ln,E=new ln,x=new ln;for(i=e*t.length*3,a=o=0;o<t.length;o++,a+=3)w.x=b[a+0],w.y=b[a+1],w.z=b[a+2],E.x=b[i+a+0],E.y=b[i+a+1],E.z=b[i+a+2],x.addVectors(w,E).normalize(),b[a+0]=b[i+a+0]=x.x,b[a+1]=b[i+a+1]=x.y,b[a+2]=b[i+a+2]=x.z}}function ya(t,e){Yi.call(this),this.type="ShapeGeometry","object"===(void 0===e?"undefined":_typeof(e))&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new _a(t,e)),this.mergeVertices()}function _a(t,d){Gi.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:d},d=d||12;var v=[],m=[],g=[],y=[],e=0,_=0;if(!1===Array.isArray(t))r(t);else for(var n=0;n<t.length;n++)r(t[n]),this.addGroup(e,_,n),e+=_,_=0;function r(t){var e,n,r,i=m.length/3,o=t.extractPoints(d),a=o.shape,s=o.holes;if(!1===ua.isClockWise(a))for(a=a.reverse(),e=0,n=s.length;e<n;e++)r=s[e],!0===ua.isClockWise(r)&&(s[e]=r.reverse());var l=ua.triangulateShape(a,s);for(e=0,n=s.length;e<n;e++)r=s[e],a=a.concat(r);for(e=0,n=a.length;e<n;e++){var u=a[e];m.push(u.x,u.y,0),g.push(0,0,1),y.push(u.x,u.y)}for(e=0,n=l.length;e<n;e++){var c=l[e],h=c[0]+i,f=c[1]+i,p=c[2]+i;v.push(h,f,p),_+=3}}this.setIndex(v),this.addAttribute("position",new bi(m,3)),this.addAttribute("normal",new bi(g,3)),this.addAttribute("uv",new bi(y,2))}function ba(t,e){Gi.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n,r,i=[],o=Math.cos(I.DEG2RAD*e),a=[0,0],s={},l=["a","b","c"];t.isBufferGeometry?(r=new Yi).fromBufferGeometry(t):r=t.clone(),r.mergeVertices(),r.computeFaceNormals();for(var u=r.vertices,c=r.faces,h=0,f=c.length;h<f;h++)for(var p=c[h],d=0;d<3;d++)a[0]=p[l[d]],a[1]=p[l[(d+1)%3]],a.sort(g),void 0===s[n=a.toString()]?s[n]={index1:a[0],index2:a[1],face1:h,face2:void 0}:s[n].face2=h;for(n in s){var v=s[n];if(void 0===v.face2||c[v.face1].normal.dot(c[v.face2].normal)<=o){var m=u[v.index1];i.push(m.x,m.y,m.z),m=u[v.index2],i.push(m.x,m.y,m.z)}}function g(t,e){return t-e}this.addAttribute("position",new bi(i,3))}function wa(t,e,n,r,i,o,a,s){Yi.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Ea(t,e,n,r,i,o,a,s)),this.mergeVertices()}function Ea(g,y,_,b,w,t,E,x){Gi.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:g,radiusBottom:y,height:_,radialSegments:b,heightSegments:w,openEnded:t,thetaStart:E,thetaLength:x};var A=this;g=void 0!==g?g:20,y=void 0!==y?y:20,_=void 0!==_?_:100,b=Math.floor(b)||8,w=Math.floor(w)||1,t=void 0!==t&&t,E=void 0!==E?E:0,x=void 0!==x?x:2*Math.PI;var S=[],T=[],L=[],I=[],P=0,M=[],C=_/2,j=0;function e(t){var e,n,r,i=new an,o=new ln,a=0,s=!0===t?g:y,l=!0===t?1:-1;for(n=P,e=1;e<=b;e++)T.push(0,C*l,0),L.push(0,l,0),I.push(.5,.5),P++;for(r=P,e=0;e<=b;e++){var u=e/b*x+E,c=Math.cos(u),h=Math.sin(u);o.x=s*h,o.y=C*l,o.z=s*c,T.push(o.x,o.y,o.z),L.push(0,l,0),i.x=.5*c+.5,i.y=.5*h*l+.5,I.push(i.x,i.y),P++}for(e=0;e<b;e++){var f=n+e,p=r+e;!0===t?S.push(p,p+1,f):S.push(p+1,p,f),a+=3}A.addGroup(j,a,!0===t?1:2),j+=a}!function(){var t,e,n=new ln,r=new ln,i=0,o=(y-g)/_;for(e=0;e<=w;e++){var a=[],s=e/w,l=s*(y-g)+g;for(t=0;t<=b;t++){var u=t/b,c=u*x+E,h=Math.sin(c),f=Math.cos(c);r.x=l*h,r.y=-s*_+C,r.z=l*f,T.push(r.x,r.y,r.z),n.set(h,o,f).normalize(),L.push(n.x,n.y,n.z),I.push(u,1-s),a.push(P++)}M.push(a)}for(t=0;t<b;t++)for(e=0;e<w;e++){var p=M[e][t],d=M[e+1][t],v=M[e+1][t+1],m=M[e][t+1];S.push(p,d,m),S.push(d,v,m),i+=6}A.addGroup(j,i,0),j+=i}(),!1===t&&(0<g&&e(!0),0<y&&e(!1)),this.setIndex(S),this.addAttribute("position",new bi(T,3)),this.addAttribute("normal",new bi(L,3)),this.addAttribute("uv",new bi(I,2))}function xa(t,e,n,r,i,o,a){wa.call(this,0,t,e,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function Aa(t,e,n,r,i,o,a){Ea.call(this,0,t,e,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function Sa(t,e,n,r){Yi.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Ta(t,e,n,r))}function Ta(t,e,n,r){Gi.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||50,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,o,a=[],s=[],l=[],u=[],c=new ln,h=new an;for(s.push(0,0,0),l.push(0,0,1),u.push(.5,.5),o=0,i=3;o<=e;o++,i+=3){var f=n+o/e*r;c.x=t*Math.cos(f),c.y=t*Math.sin(f),s.push(c.x,c.y,c.z),l.push(0,0,1),h.x=(s[i]/t+1)/2,h.y=(s[i+1]/t+1)/2,u.push(h.x,h.y)}for(i=1;i<=e;i++)a.push(i,i+1,0);this.setIndex(a),this.addAttribute("position",new bi(s,3)),this.addAttribute("normal",new bi(l,3)),this.addAttribute("uv",new bi(u,2))}((ca.prototype=Object.create(Yi.prototype)).constructor=ca).prototype.addShapeList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];this.addShape(i,e)}},ca.prototype.addShape=function(t,e){var n,r,i,o,a,s,l,u,c=void 0!==e.amount?e.amount:100,h=void 0!==e.bevelThickness?e.bevelThickness:6,f=void 0!==e.bevelSize?e.bevelSize:h-2,p=void 0!==e.bevelSegments?e.bevelSegments:3,d=void 0===e.bevelEnabled||e.bevelEnabled,v=void 0!==e.curveSegments?e.curveSegments:12,m=void 0!==e.steps?e.steps:1,g=e.extrudePath,y=!1,_=void 0!==e.UVGenerator?e.UVGenerator:ca.WorldUVGenerator;g&&(n=g.getSpacedPoints(m),y=!0,d=!1,r=void 0!==e.frames?e.frames:g.computeFrenetFrames(m,!1),i=new ln,o=new ln,a=new ln),d||(f=h=p=0);var b=this,w=this.vertices.length,E=t.extractPoints(v),x=E.shape,A=E.holes,S=!ua.isClockWise(x);if(S){for(x=x.reverse(),l=0,u=A.length;l<u;l++)s=A[l],ua.isClockWise(s)&&(A[l]=s.reverse());S=!1}var T=ua.triangulateShape(x,A),L=x;for(l=0,u=A.length;l<u;l++)s=A[l],x=x.concat(s);function I(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}var P,M,C,j,R,O,N=x.length,$=T.length;function D(t,e,n){var r,i,o=1,a=t.x-e.x,s=t.y-e.y,l=n.x-t.x,u=n.y-t.y,c=a*a+s*s,h=a*u-s*l;if(Math.abs(h)>Number.EPSILON){var f=Math.sqrt(c),p=Math.sqrt(l*l+u*u),d=e.x-s/f,v=e.y+a/f,m=((n.x-u/p-d)*u-(n.y+l/p-v)*l)/(a*u-s*l),g=(r=d+a*m-t.x)*r+(i=v+s*m-t.y)*i;if(g<=2)return new an(r,i);o=Math.sqrt(g/2)}else{var y=!1;a>Number.EPSILON?l>Number.EPSILON&&(y=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(r=-s,i=a,o=Math.sqrt(c)):(r=a,i=s,o=Math.sqrt(c/2))}return new an(r/o,i/o)}for(var H=[],U=0,F=L.length,z=F-1,Y=U+1;U<F;U++,z++,Y++)z===F&&(z=0),Y===F&&(Y=0),H[U]=D(L[U],L[z],L[Y]);var G,B,k=[],V=H.concat();for(l=0,u=A.length;l<u;l++){for(s=A[l],G=[],U=0,z=(F=s.length)-1,Y=U+1;U<F;U++,z++,Y++)z===F&&(z=0),Y===F&&(Y=0),G[U]=D(s[U],s[z],s[Y]);k.push(G),V=V.concat(G)}for(P=0;P<p;P++){for(C=P/p,j=h*Math.cos(C*Math.PI/2),M=f*Math.sin(C*Math.PI/2),U=0,F=L.length;U<F;U++)X((R=I(L[U],H[U],M)).x,R.y,-j);for(l=0,u=A.length;l<u;l++)for(s=A[l],G=k[l],U=0,F=s.length;U<F;U++)X((R=I(s[U],G[U],M)).x,R.y,-j)}for(M=f,U=0;U<N;U++)R=d?I(x[U],V[U],M):x[U],y?(o.copy(r.normals[0]).multiplyScalar(R.x),i.copy(r.binormals[0]).multiplyScalar(R.y),a.copy(n[0]).add(o).add(i),X(a.x,a.y,a.z)):X(R.x,R.y,0);for(B=1;B<=m;B++)for(U=0;U<N;U++)R=d?I(x[U],V[U],M):x[U],y?(o.copy(r.normals[B]).multiplyScalar(R.x),i.copy(r.binormals[B]).multiplyScalar(R.y),a.copy(n[B]).add(o).add(i),X(a.x,a.y,a.z)):X(R.x,R.y,c/m*B);for(P=p-1;0<=P;P--){for(C=P/p,j=h*Math.cos(C*Math.PI/2),M=f*Math.sin(C*Math.PI/2),U=0,F=L.length;U<F;U++)X((R=I(L[U],H[U],M)).x,R.y,c+j);for(l=0,u=A.length;l<u;l++)for(s=A[l],G=k[l],U=0,F=s.length;U<F;U++)R=I(s[U],G[U],M),y?X(R.x,R.y+n[m-1].y,n[m-1].x+j):X(R.x,R.y,c+j)}function W(t,e){var n,r;for(U=t.length;0<=--U;){(r=(n=U)-1)<0&&(r=t.length-1);var i=0,o=m+2*p;for(i=0;i<o;i++){var a=N*i,s=N*(i+1);K(e+n+a,e+r+a,e+r+s,e+n+s,t,i,o,n,r)}}}function X(t,e,n){b.vertices.push(new ln(t,e,n))}function q(t,e,n){t+=w,e+=w,n+=w,b.faces.push(new ci(t,e,n,null,null,0));var r=_.generateTopUV(b,t,e,n);b.faceVertexUvs[0].push(r)}function K(t,e,n,r,i,o,a,s,l){t+=w,e+=w,n+=w,r+=w,b.faces.push(new ci(t,e,r,null,null,1)),b.faces.push(new ci(e,n,r,null,null,1));var u=_.generateSideWallUV(b,t,e,n,r);b.faceVertexUvs[0].push([u[0],u[1],u[3]]),b.faceVertexUvs[0].push([u[1],u[2],u[3]])}!function(){if(d){var t=0,e=N*t;for(U=0;U<$;U++)q((O=T[U])[2]+e,O[1]+e,O[0]+e);for(e=N*(t=m+2*p),U=0;U<$;U++)q((O=T[U])[0]+e,O[1]+e,O[2]+e)}else{for(U=0;U<$;U++)q((O=T[U])[2],O[1],O[0]);for(U=0;U<$;U++)q((O=T[U])[0]+N*m,O[1]+N*m,O[2]+N*m)}}(),function(){var t=0;for(W(L,t),t+=L.length,l=0,u=A.length;l<u;l++)W(s=A[l],t),t+=s.length}()},ca.WorldUVGenerator={generateTopUV:function(t,e,n,r){var i=t.vertices,o=i[e],a=i[n],s=i[r];return[new an(o.x,o.y),new an(a.x,a.y),new an(s.x,s.y)]},generateSideWallUV:function(t,e,n,r,i){var o=t.vertices,a=o[e],s=o[n],l=o[r],u=o[i];return Math.abs(a.y-s.y)<.01?[new an(a.x,1-a.z),new an(s.x,1-s.z),new an(l.x,1-l.z),new an(u.x,1-u.z)]:[new an(a.y,1-a.z),new an(s.y,1-s.z),new an(l.y,1-l.z),new an(u.y,1-u.z)]}},(ha.prototype=Object.create(ca.prototype)).constructor=ha,(fa.prototype=Object.create(Yi.prototype)).constructor=fa,(pa.prototype=Object.create(Gi.prototype)).constructor=pa,(da.prototype=Object.create(Yi.prototype)).constructor=da,(va.prototype=Object.create(Gi.prototype)).constructor=va,(ma.prototype=Object.create(Yi.prototype)).constructor=ma,(ga.prototype=Object.create(Gi.prototype)).constructor=ga,(ya.prototype=Object.create(Yi.prototype)).constructor=ya,(_a.prototype=Object.create(Gi.prototype)).constructor=_a,(ba.prototype=Object.create(Gi.prototype)).constructor=ba,(wa.prototype=Object.create(Yi.prototype)).constructor=wa,(Ea.prototype=Object.create(Gi.prototype)).constructor=Ea,(xa.prototype=Object.create(wa.prototype)).constructor=xa,(Aa.prototype=Object.create(Ea.prototype)).constructor=Aa,(Sa.prototype=Object.create(Yi.prototype)).constructor=Sa,(Ta.prototype=Object.create(Gi.prototype)).constructor=Ta;var La=Object.freeze({WireframeGeometry:Bo,ParametricGeometry:ko,ParametricBufferGeometry:Vo,TetrahedronGeometry:qo,TetrahedronBufferGeometry:Ko,OctahedronGeometry:Zo,OctahedronBufferGeometry:Qo,IcosahedronGeometry:Jo,IcosahedronBufferGeometry:ta,DodecahedronGeometry:ea,DodecahedronBufferGeometry:na,PolyhedronGeometry:Wo,PolyhedronBufferGeometry:Xo,TubeGeometry:ra,TubeBufferGeometry:ia,TorusKnotGeometry:oa,TorusKnotBufferGeometry:aa,TorusGeometry:sa,TorusBufferGeometry:la,TextGeometry:ha,SphereGeometry:fa,SphereBufferGeometry:pa,RingGeometry:da,RingBufferGeometry:va,PlaneGeometry:Wi,PlaneBufferGeometry:Xi,LatheGeometry:ma,LatheBufferGeometry:ga,ShapeGeometry:ya,ShapeBufferGeometry:_a,ExtrudeGeometry:ca,EdgesGeometry:ba,ConeGeometry:xa,ConeBufferGeometry:Aa,CylinderGeometry:wa,CylinderBufferGeometry:Ea,CircleGeometry:Sa,CircleBufferGeometry:Ta,BoxGeometry:ki,BoxBufferGeometry:Vi});function Ia(){br.call(this,{uniforms:Mn.merge([Dn.lights,{opacity:{value:1}}]),vertexShader:Cn.shadow_vert,fragmentShader:Cn.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})}function Pa(t){br.call(this,t),this.type="RawShaderMaterial"}function Ma(t){this.uuid=I.generateUUID(),this.type="MultiMaterial",this.materials=Array.isArray(t)?t:[],this.visible=!0}function Ca(t){_r.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new jn(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new an(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ja(t){Ca.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function Ra(t){_r.call(this),this.type="MeshPhongMaterial",this.color=new jn(16777215),this.specular=new jn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new an(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=D,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Oa(t){Ra.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function Na(t){_r.call(this,t),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new an(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function $a(t){_r.call(this),this.type="MeshLambertMaterial",this.color=new jn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=D,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Da(t){_r.call(this),this.type="LineDashedMaterial",this.color=new jn(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}((Ia.prototype=Object.create(br.prototype)).constructor=Ia).prototype.isShadowMaterial=!0,Pa.prototype=Object.create(br.prototype),Ma.prototype={constructor:Ma,isMultiMaterial:(Pa.prototype.constructor=Pa).prototype.isRawShaderMaterial=!0,toJSON:function(t){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},n=this.materials,r=0,i=n.length;r<i;r++){var o=n[r].toJSON(t);delete o.metadata,e.materials.push(o)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},((Ca.prototype=Object.create(_r.prototype)).constructor=Ca).prototype.isMeshStandardMaterial=!0,Ca.prototype.copy=function(t){return _r.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((ja.prototype=Object.create(Ca.prototype)).constructor=ja).prototype.isMeshPhysicalMaterial=!0,ja.prototype.copy=function(t){return Ca.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},((Ra.prototype=Object.create(_r.prototype)).constructor=Ra).prototype.isMeshPhongMaterial=!0,Ra.prototype.copy=function(t){return _r.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((Oa.prototype=Object.create(Ra.prototype)).constructor=Oa).prototype.isMeshToonMaterial=!0,Oa.prototype.copy=function(t){return Ra.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},((Na.prototype=Object.create(_r.prototype)).constructor=Na).prototype.isMeshNormalMaterial=!0,Na.prototype.copy=function(t){return _r.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(($a.prototype=Object.create(_r.prototype)).constructor=$a).prototype.isMeshLambertMaterial=!0,$a.prototype.copy=function(t){return _r.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((Da.prototype=Object.create(_r.prototype)).constructor=Da).prototype.isLineDashedMaterial=!0,Da.prototype.copy=function(t){return _r.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Ha=Object.freeze({ShadowMaterial:Ia,SpriteMaterial:Io,RawShaderMaterial:Pa,ShaderMaterial:br,PointsMaterial:Do,MultiMaterial:Ma,MeshPhysicalMaterial:ja,MeshStandardMaterial:Ca,MeshPhongMaterial:Ra,MeshToonMaterial:Oa,MeshNormalMaterial:Na,MeshLambertMaterial:$a,MeshDepthMaterial:wr,MeshBasicMaterial:hi,LineDashedMaterial:Da,LineBasicMaterial:Oo,Material:_r}),Ua={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function Fa(t,e,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===i&&void 0!==r.onStart&&r.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)}}var za=new Fa;function Ya(t){this.manager=void 0!==t?t:za}function Ga(t){this.manager=void 0!==t?t:za,this._parser=null}function Ba(t){this.manager=void 0!==t?t:za,this._parser=null}function ka(t){this.manager=void 0!==t?t:za}function Va(t){this.manager=void 0!==t?t:za}function Wa(t){this.manager=void 0!==t?t:za}function Xa(t,e){si.call(this),this.type="Light",this.color=new jn(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function qa(t,e,n){Xa.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(si.DefaultUp),this.updateMatrix(),this.groundColor=new jn(e)}function Ka(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new an(512,512),this.map=null,this.matrix=new un}function Za(){Ka.call(this,new Ki(50,1,.5,500))}function Qa(t,e,n,r,i,o){Xa.call(this,t,e),this.type="SpotLight",this.position.copy(si.DefaultUp),this.updateMatrix(),this.target=new si,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Za}function Ja(t,e,n,r){Xa.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Ka(new Ki(90,1,.5,500))}function ts(){Ka.call(this,new Zi(-5,5,5,-5,.5,500))}function es(t,e){Xa.call(this,t,e),this.type="DirectionalLight",this.position.copy(si.DefaultUp),this.updateMatrix(),this.target=new si,this.shadow=new ts}function ns(t,e){Xa.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}Object.assign(Ya.prototype,{load:function(n,r,e,i){void 0===n&&(n=""),void 0!==this.path&&(n=this.path+n);var o=this,t=Ua.get(n);if(void 0!==t)return o.manager.itemStart(n),setTimeout(function(){r&&r(t),o.manager.itemEnd(n)},0),t;var a=n.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],l=!!a[2],u=a[3];u=window.decodeURIComponent(u),l&&(u=window.atob(u));try{var c,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":c=new ArrayBuffer(u.length);for(var f=new Uint8Array(c),p=0;p<u.length;p++)f[p]=u.charCodeAt(p);"blob"===h&&(c=new Blob([c],{type:s}));break;case"document":var d=new DOMParser;c=d.parseFromString(u,s);break;case"json":c=JSON.parse(u);break;default:c=u}window.setTimeout(function(){r&&r(c),o.manager.itemEnd(n)},0)}catch(t){window.setTimeout(function(){i&&i(t),o.manager.itemError(n)},0)}}else{var v=new XMLHttpRequest;v.open("GET",n,!0),v.addEventListener("load",function(t){var e=t.target.response;Ua.add(n,e),200===this.status?(r&&r(e),o.manager.itemEnd(n)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),r&&r(e),o.manager.itemEnd(n)):(i&&i(t),o.manager.itemError(n))},!1),void 0!==e&&v.addEventListener("progress",function(t){e(t)},!1),v.addEventListener("error",function(t){i&&i(t),o.manager.itemError(n)},!1),void 0!==this.responseType&&(v.responseType=this.responseType),void 0!==this.withCredentials&&(v.withCredentials=this.withCredentials),v.overrideMimeType&&v.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),v.send(null)}return o.manager.itemStart(n),v},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Object.assign(Ga.prototype,{load:function(t,o,e,r){var a=this,s=[],l=new zo;l.image=s;var i=new Ya(this.manager);function n(n){i.load(t[n],function(t){var e=a._parser(t,!0);s[n]={width:e.width,height:e.height,format:e.format,mipmaps:e.mipmaps},6===(u+=1)&&(1===e.mipmapCount&&(l.minFilter=Se),l.format=e.format,l.needsUpdate=!0,o&&o(l))},e,r)}if(i.setPath(this.path),i.setResponseType("arraybuffer"),Array.isArray(t))for(var u=0,c=0,h=t.length;c<h;++c)n(c);else i.load(t,function(t){var e=a._parser(t,!0);if(e.isCubemap)for(var n=e.mipmaps.length/e.mipmapCount,r=0;r<n;r++){s[r]={mipmaps:[]};for(var i=0;i<e.mipmapCount;i++)s[r].mipmaps.push(e.mipmaps[r*e.mipmapCount+i]),s[r].format=e.format,s[r].width=e.width,s[r].height=e.height}else l.image.width=e.width,l.image.height=e.height,l.mipmaps=e.mipmaps;1===e.mipmapCount&&(l.minFilter=Se),l.format=e.format,l.needsUpdate=!0,o&&o(l)},e,r);return l},setPath:function(t){return this.path=t,this}}),Object.assign(Ba.prototype,{load:function(t,n,e,r){var i=this,o=new On,a=new Ya(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var e=i._parser(t);e&&(void 0!==e.image?o.image=e.image:void 0!==e.data&&(o.image.width=e.width,o.image.height=e.height,o.image.data=e.data),o.wrapS=void 0!==e.wrapS?e.wrapS:be,o.wrapT=void 0!==e.wrapT?e.wrapT:be,o.magFilter=void 0!==e.magFilter?e.magFilter:Se,o.minFilter=void 0!==e.minFilter?e.minFilter:Le,o.anisotropy=void 0!==e.anisotropy?e.anisotropy:1,void 0!==e.format&&(o.format=e.format),void 0!==e.type&&(o.type=e.type),void 0!==e.mipmaps&&(o.mipmaps=e.mipmaps),1===e.mipmapCount&&(o.minFilter=Se),o.needsUpdate=!0,n&&n(o,e))},e,r),o}}),Object.assign(ka.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e);var i=this,o=Ua.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");return a.addEventListener("load",function(){Ua.add(e,this),t&&t(this),i.manager.itemEnd(e)},!1),a.addEventListener("error",function(t){r&&r(t),i.manager.itemError(e)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Va.prototype,{load:function(t,n,e,r){var i=new vt,o=new ka(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(e){o.load(t[e],function(t){i.images[e]=t,6===++a&&(i.needsUpdate=!0,n&&n(i))},void 0,r)}for(var l=0;l<t.length;++l)s(l);return i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Wa.prototype,{load:function(n,r,t,e){var i=new ht,o=new ka(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(n,function(t){var e=0<n.search(/\.(jpg|jpeg)$/)||0===n.search(/^data\:image\/jpeg/);i.format=e?ze:Ye,i.image=t,i.needsUpdate=!0,void 0!==r&&r(i)},t,e),i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Xa.prototype=Object.assign(Object.create(si.prototype),{constructor:Xa,isLight:!0,copy:function(t){return si.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=si.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),qa.prototype=Object.assign(Object.create(Xa.prototype),{constructor:qa,isHemisphereLight:!0,copy:function(t){return Xa.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Ka.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Za.prototype=Object.assign(Object.create(Ka.prototype),{constructor:Za,isSpotLightShadow:!0,update:function(t){var e=2*I.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,r=t.distance||500,i=this.camera;e===i.fov&&n===i.aspect&&r===i.far||(i.fov=e,i.aspect=n,i.far=r,i.updateProjectionMatrix())}}),Qa.prototype=Object.assign(Object.create(Xa.prototype),{constructor:Qa,isSpotLight:!0,copy:function(t){return Xa.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Ja.prototype=Object.assign(Object.create(Xa.prototype),{constructor:Ja,isPointLight:!0,copy:function(t){return Xa.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),ts.prototype=Object.assign(Object.create(Ka.prototype),{constructor:ts}),es.prototype=Object.assign(Object.create(Xa.prototype),{constructor:es,isDirectionalLight:!0,copy:function(t){return Xa.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),ns.prototype=Object.assign(Object.create(Xa.prototype),{constructor:ns,isAmbientLight:!0});var rs,is,os,as,ss,ls,us={arraySlice:function(t,e,n){return us.isTypedArray(t)?new t.constructor(t.subarray(e,n)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(n){for(var t=n.length,e=new Array(t),r=0;r!==t;++r)e[r]=r;return e.sort(function(t,e){return n[t]-n[e]}),e},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*e,l=0;l!==e;++l)i[a++]=t[s+l];return i},flattenJSON:function(t,e,n,r){for(var i=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))for(;void 0!==(a=o[r])&&(e.push(o.time),n.push.apply(n,a)),void 0!==(o=t[i++]););else if(void 0!==a.toArray)for(;void 0!==(a=o[r])&&(e.push(o.time),a.toArray(n,n.length)),void 0!==(o=t[i++]););else for(;void 0!==(a=o[r])&&(e.push(o.time),n.push(a)),void 0!==(o=t[i++]););}}};function cs(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function hs(t,e,n,r){cs.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function fs(t,e,n,r){cs.call(this,t,e,n,r)}function ps(t,e,n,r){cs.call(this,t,e,n,r)}function ds(t,e,n,r){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=us.convertArray(e,this.TimeBufferType),this.values=us.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function vs(t,e,n,r){ds.call(this,t,e,n,r)}function ms(t,e,n,r){cs.call(this,t,e,n,r)}function gs(t,e,n,r){ds.call(this,t,e,n,r)}function ys(t,e,n,r){ds.call(this,t,e,n,r)}function _s(t,e,n,r){ds.call(this,t,e,n,r)}function bs(t,e,n){ds.call(this,t,e,n)}function ws(t,e,n,r){ds.call(this,t,e,n,r)}function Es(t,e,n,r){ds.apply(this,arguments)}function xs(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=I.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function As(t){this.manager=void 0!==t?t:za,this.textures={}}function Ss(t){this.manager=void 0!==t?t:za}function Ts(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function Ls(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:za,this.withCredentials=!1}function Is(t){this.manager=void 0!==t?t:za,this.texturePath=""}function Ps(t,e,n,r,i){var o=.5*(r-e),a=.5*(i-n),s=t*t;return(2*n-2*r+o+a)*(t*s)+(-3*n+3*r-2*o-a)*s+o*t+n}function Ms(t,e,n,r){return(a=1-t)*a*e+2*(1-(o=t))*o*n+(i=t)*i*r;var i,o,a}function Cs(t,e,n,r,i){return(u=1-t)*u*u*e+3*(l=1-(s=t))*l*s*n+3*(1-(a=t))*a*a*r+(o=t)*o*o*i;var o,a,s,l,u}function js(){}function Rs(t,e){this.v1=t,this.v2=e}function Os(){this.curves=[],this.autoClose=!1}function Ns(t,e,n,r,i,o,a,s){this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}function $s(t){this.points=void 0===t?[]:t}function Ds(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function Hs(t,e,n){this.v0=t,this.v1=e,this.v2=n}cs.prototype={constructor:cs,evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var o;n:{r:if(!(t<r)){for(var a=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===a)break;if(i=r,t<(r=e[++n]))break e}o=e.length;break n}if(i<=t)break t;var s=e[1];t<s&&(n=2,i=s);for(a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===a)break;if(r=i,(i=e[--n-1])<=t)break e}o=n,n=0}for(;n<o;){var l=n+o>>>1;t<e[l]?o=l:n=l+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,o=0;o!==r;++o)e[o]=n[i+o];return e},interpolate_:function(t,e,n,r){throw new Error("call to abstract method")},intervalChanged_:function(t,e,n){}},Object.assign(cs.prototype,{beforeStart_:cs.prototype.copySampleValue_,afterEnd_:cs.prototype.copySampleValue_}),hs.prototype=Object.assign(Object.create(cs.prototype),{constructor:hs,DefaultSettings_:{endingStart:d,endingEnd:d},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case v:i=t,a=2*e-n;break;case m:a=e+r[i=r.length-2]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case v:o=t,s=2*n-e;break;case m:s=n+r[o=1]-r[0];break;default:o=t-1,s=e}var l=.5*(n-e),u=this.valueSize;this._weightPrev=l/(e-a),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=o*u},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,f=this._weightNext,p=(n-e)/(r-e),d=p*p,v=d*p,m=-h*v+2*h*d-h*p,g=(1+h)*v+(-1.5-2*h)*d+(-.5+h)*p+1,y=(-1-f)*v+(1.5+f)*d+.5*p,_=f*v-f*d,b=0;b!==a;++b)i[b]=m*o[u+b]+g*o[l+b]+y*o[s+b]+_*o[c+b];return i}}),fs.prototype=Object.assign(Object.create(cs.prototype),{constructor:fs,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,u=(n-e)/(r-e),c=1-u,h=0;h!==a;++h)i[h]=o[l+h]*c+o[s+h]*u;return i}}),ps.prototype=Object.assign(Object.create(cs.prototype),{constructor:ps,interpolate_:function(t,e,n,r){return this.copySampleValue_(t-1)}}),rs={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:f,InterpolantFactoryMethodDiscrete:function(t){return new ps(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new fs(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new hs(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case h:e=this.InterpolantFactoryMethodDiscrete;break;case f:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0!==e)this.createInterpolant=e;else{var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn(n)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return h;case this.InterpolantFactoryMethodLinear:return f;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){o<=i&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=us.arraySlice(n,i,o),this.values=us.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("invalid value size in track",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("track is empty",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("time is not a valid number",this,a,s),t=!1;break}if(null!==o&&s<o){console.error("out of order keys",this,a,s,o),t=!1;break}o=s}if(void 0!==r&&us.isTypedArray(r)){a=0;for(var l=r.length;a!==l;++a){var u=r[a];if(isNaN(u)){console.error("value is not a valid number",this,a,u),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,o=t.length-1,a=1;a<o;++a){var s=!1,l=t[a];if(l!==t[a+1]&&(1!==a||l!==l[0]))if(r)s=!0;else for(var u=a*n,c=u-n,h=u+n,f=0;f!==n;++f){var p=e[u+f];if(p!==e[c+f]||p!==e[h+f]){s=!0;break}}if(s){if(a!==i){t[i]=t[a];var d=a*n,v=i*n;for(f=0;f!==n;++f)e[v+f]=e[d+f]}++i}}if(0<o){t[i]=t[o];for(d=o*n,v=i*n,f=0;f!==n;++f)e[v+f]=e[d+f];++i}return i!==t.length&&(this.times=us.arraySlice(t,0,i),this.values=us.arraySlice(e,0,i*n)),this}},vs.prototype=Object.assign(Object.create(rs),{constructor:vs,ValueTypeName:"vector"}),ms.prototype=Object.assign(Object.create(cs.prototype),{constructor:ms,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=(n-e)/(r-e),u=s+a;s!==u;s+=4)dt.slerpFlat(i,0,o,s-a,o,s,l);return i}}),gs.prototype=Object.assign(Object.create(rs),{constructor:gs,ValueTypeName:"quaternion",DefaultInterpolation:f,InterpolantFactoryMethodLinear:function(t){return new ms(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),ys.prototype=Object.assign(Object.create(rs),{constructor:ys,ValueTypeName:"number"}),_s.prototype=Object.assign(Object.create(rs),{constructor:_s,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:h,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),bs.prototype=Object.assign(Object.create(rs),{constructor:bs,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:h,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ws.prototype=Object.assign(Object.create(rs),{constructor:ws,ValueTypeName:"color"}),(Es.prototype=rs).constructor=Es,Object.assign(Es,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=Es._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],r=[];us.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:us.convertArray(t.times,Array),values:us.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ys;case"vector":case"vector2":case"vector3":case"vector4":return vs;case"color":return ws;case"quaternion":return gs;case"bool":case"boolean":return bs;case"string":return _s}throw new Error("Unsupported typeName: "+t)}}),xs.prototype={constructor:xs,resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}this.duration=t},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign(xs,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,o=n.length;i!==o;++i)e.push(Es.parse(n[i]).scale(r));return new xs(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e},i=0,o=n.length;i!==o;++i)e.push(Es.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],l=[];s.push((a+i-1)%i,a,(a+1)%i),l.push(0,1,0);var u=us.getKeyframeOrder(s);s=us.sortedArray(s,1,u),l=us.sortedArray(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),o.push(new ys(".morphTargetInfluences["+e[a].name+"]",s,l).scale(1/n))}return new xs(t,-1,o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],l=s.name.match(i);if(l&&1<l.length){var u=r[h=l[1]];u||(r[h]=u=[]),u.push(s)}}var c=[];for(var h in r)c.push(xs.CreateFromMorphTargetSequence(h,r[h],e,n));return c},parseAnimation:function(t,e){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var o=[],a=[];us.flattenJSON(n,o,a,r),0!==o.length&&i.push(new t(e,o,a))}},r=[],i=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],l=0;l<s.length;l++){var u=s[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var c={},h=0;h<u.length;h++)if(u[h].morphTargets)for(var f=0;f<u[h].morphTargets.length;f++)c[u[h].morphTargets[f]]=-1;for(var p in c){var d=[],v=[];for(f=0;f!==u[h].morphTargets.length;++f){var m=u[h];d.push(m.time),v.push(m.morphTarget===p?1:0)}r.push(new ys(".morphTargetInfluence["+p+"]",d,v))}o=c.length*(a||1)}else{var g=".bones["+e[l].name+"]";n(vs,g+".position",u,"pos",r),n(gs,g+".quaternion",u,"rot",r),n(vs,g+".scale",u,"scl",r)}}return 0===r.length?null:new xs(i,o,r)}}),Object.assign(As.prototype,{load:function(t,e,n,r){var i=this;new Ya(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},setTextures:function(t){this.textures=t},parse:function(t){var e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var r=new Ha[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.shading&&(r.shading=t.shading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=n(t.map)),void 0!==t.alphaMap&&(r.alphaMap=n(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=n(t.normalMap)),void 0!==t.normalScale){var i=t.normalScale;!1===Array.isArray(i)&&(i=[i,i]),r.normalScale=(new an).fromArray(i)}if(void 0!==t.displacementMap&&(r.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=n(t.specularMap)),void 0!==t.envMap&&(r.envMap=n(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=n(t.gradientMap)),void 0!==t.materials)for(var o=0,a=t.materials.length;o<a;o++)r.materials.push(this.parse(t.materials[o]));return r}}),Object.assign(Ss.prototype,{load:function(t,e,n,r){var i=this;new Ya(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},parse:function(t){var e=new Gi,n=t.data.index,r={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==n){var i=new r[n.type](n.array);e.setIndex(new fi(i,1))}var o=t.data.attributes;for(var a in o){var s=o[a];i=new r[s.type](s.array);e.addAttribute(a,new fi(i,s.itemSize,s.normalized))}var l=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==l)for(var u=0,c=l.length;u!==c;++u){var h=l[u];e.addGroup(h.start,h.count,h.materialIndex)}var f=t.data.boundingSphere;if(void 0!==f){var p=new ln;void 0!==f.center&&p.fromArray(f.center),e.boundingSphere=new xr(p,f.radius)}return e}}),Ts.prototype={constructor:Ts,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:(ss={NoBlending:Yt,NormalBlending:Gt,AdditiveBlending:Bt,SubtractiveBlending:kt,MultiplyBlending:Vt,CustomBlending:Wt},function(t,u,c){void 0===is&&(is=new jn),void 0===os&&(os=new Wa),void 0===as&&(as=new As);var h={};function e(t,e,n,r,i){var o,a=u+t,s=Ts.Handlers.get(a);null!==s?o=s.load(a):(os.setCrossOrigin(c),o=os.load(a)),void 0!==e&&(o.repeat.fromArray(e),1!==e[0]&&(o.wrapS=_e),1!==e[1]&&(o.wrapT=_e)),void 0!==n&&o.offset.fromArray(n),void 0!==r&&("repeat"===r[0]&&(o.wrapS=_e),"mirror"===r[0]&&(o.wrapS=we),"repeat"===r[1]&&(o.wrapT=_e),"mirror"===r[1]&&(o.wrapT=we)),void 0!==i&&(o.anisotropy=i);var l=I.generateUUID();return h[l]=o,l}var n={uuid:I.generateUUID(),type:"MeshLambertMaterial"};for(var r in t){var i=t[r];switch(r){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":n.name=i;break;case"blending":n.blending=ss[i];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",r,"is no longer supported.");break;case"colorDiffuse":n.color=is.fromArray(i).getHex();break;case"colorSpecular":n.specular=is.fromArray(i).getHex();break;case"colorEmissive":n.emissive=is.fromArray(i).getHex();break;case"specularCoef":n.shininess=i;break;case"shading":"basic"===i.toLowerCase()&&(n.type="MeshBasicMaterial"),"phong"===i.toLowerCase()&&(n.type="MeshPhongMaterial"),"standard"===i.toLowerCase()&&(n.type="MeshStandardMaterial");break;case"mapDiffuse":n.map=e(i,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":n.emissiveMap=e(i,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":n.lightMap=e(i,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":n.aoMap=e(i,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":n.bumpMap=e(i,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":n.bumpScale=i;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":n.normalMap=e(i,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":n.normalScale=[i,i];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":n.specularMap=e(i,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":n.metalnessMap=e(i,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":n.roughnessMap=e(i,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":n.alphaMap=e(i,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":n.side=Ht;break;case"doubleSided":n.side=Ut;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),n.opacity=i;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":n[r]=i;break;case"vertexColors":!0===i&&(n.vertexColors=g),"face"===i&&(n.vertexColors=p);break;default:console.error("THREE.Loader.createMaterial: Unsupported",r,i)}}return"MeshBasicMaterial"===n.type&&delete n.emissive,"MeshPhongMaterial"!==n.type&&delete n.specular,n.opacity<1&&(n.transparent=!0),as.setTextures(h),as.parse(n)})},Ts.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],o=e[n+1];if(i.test(t))return o}return null}},Object.assign(Ls.prototype,{load:function(o,a,t,e){var s=this,l=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:Ts.prototype.extractUrlBase(o),n=new Ya(this.manager);n.setWithCredentials(this.withCredentials),n.load(o,function(t){var e=JSON.parse(t),n=e.metadata;if(void 0!==n){var r=n.type;if(void 0!==r){if("object"===r.toLowerCase())return void console.error("THREE.JSONLoader: "+o+" should be loaded with THREE.ObjectLoader instead.");if("scene"===r.toLowerCase())return void console.error("THREE.JSONLoader: "+o+" should be loaded with THREE.SceneLoader instead.")}}var i=s.parse(e,l);a(i.geometry,i.materials)},t,e)},setTexturePath:function(t){this.texturePath=t},parse:function(O,t){var N=new Yi,e=void 0!==O.scale?1/O.scale:1;if(function(t){function e(t,e){return t&1<<e}var n,r,i,o,a,s,l,u,c,h,f,p,d,v,m,g,y,_,b,w,E,x,A,S,T,L,I,P=O.faces,M=O.vertices,C=O.normals,j=O.colors,R=0;if(void 0!==O.uvs){for(n=0;n<O.uvs.length;n++)O.uvs[n].length&&R++;for(n=0;n<R;n++)N.faceVertexUvs[n]=[]}o=0,a=M.length;for(;o<a;)(_=new ln).x=M[o++]*t,_.y=M[o++]*t,_.z=M[o++]*t,N.vertices.push(_);o=0,a=P.length;for(;o<a;)if(h=P[o++],f=e(h,0),p=e(h,1),d=e(h,3),v=e(h,4),m=e(h,5),g=e(h,6),y=e(h,7),f){if((w=new ci).a=P[o],w.b=P[o+1],w.c=P[o+3],(E=new ci).a=P[o+1],E.b=P[o+2],E.c=P[o+3],o+=4,p&&(c=P[o++],w.materialIndex=c,E.materialIndex=c),i=N.faces.length,d)for(n=0;n<R;n++)for(S=O.uvs[n],N.faceVertexUvs[n][i]=[],N.faceVertexUvs[n][i+1]=[],r=0;r<4;r++)u=P[o++],L=S[2*u],I=S[2*u+1],T=new an(L,I),2!==r&&N.faceVertexUvs[n][i].push(T),0!==r&&N.faceVertexUvs[n][i+1].push(T);if(v&&(l=3*P[o++],w.normal.set(C[l++],C[l++],C[l]),E.normal.copy(w.normal)),m)for(n=0;n<4;n++)l=3*P[o++],A=new ln(C[l++],C[l++],C[l]),2!==n&&w.vertexNormals.push(A),0!==n&&E.vertexNormals.push(A);if(g&&(s=P[o++],x=j[s],w.color.setHex(x),E.color.setHex(x)),y)for(n=0;n<4;n++)s=P[o++],x=j[s],2!==n&&w.vertexColors.push(new jn(x)),0!==n&&E.vertexColors.push(new jn(x));N.faces.push(w),N.faces.push(E)}else{if((b=new ci).a=P[o++],b.b=P[o++],b.c=P[o++],p&&(c=P[o++],b.materialIndex=c),i=N.faces.length,d)for(n=0;n<R;n++)for(S=O.uvs[n],N.faceVertexUvs[n][i]=[],r=0;r<3;r++)u=P[o++],L=S[2*u],I=S[2*u+1],T=new an(L,I),N.faceVertexUvs[n][i].push(T);if(v&&(l=3*P[o++],b.normal.set(C[l++],C[l++],C[l])),m)for(n=0;n<3;n++)l=3*P[o++],A=new ln(C[l++],C[l++],C[l]),b.vertexNormals.push(A);if(g&&(s=P[o++],b.color.setHex(j[s])),y)for(n=0;n<3;n++)s=P[o++],b.vertexColors.push(new jn(j[s]));N.faces.push(b)}}(e),function(){var t=void 0!==O.influencesPerVertex?O.influencesPerVertex:2;if(O.skinWeights)for(var e=0,n=O.skinWeights.length;e<n;e+=t){var r=O.skinWeights[e],i=1<t?O.skinWeights[e+1]:0,o=2<t?O.skinWeights[e+2]:0,a=3<t?O.skinWeights[e+3]:0;N.skinWeights.push(new sn(r,i,o,a))}if(O.skinIndices)for(var e=0,n=O.skinIndices.length;e<n;e+=t){var s=O.skinIndices[e],l=1<t?O.skinIndices[e+1]:0,u=2<t?O.skinIndices[e+2]:0,c=3<t?O.skinIndices[e+3]:0;N.skinIndices.push(new sn(s,l,u,c))}N.bones=O.bones,N.bones&&0<N.bones.length&&(N.skinWeights.length!==N.skinIndices.length||N.skinIndices.length!==N.vertices.length)&&console.warn("When skinning, number of vertices ("+N.vertices.length+"), skinIndices ("+N.skinIndices.length+"), and skinWeights ("+N.skinWeights.length+") should match.")}(),function(t){if(void 0!==O.morphTargets)for(var e=0,n=O.morphTargets.length;e<n;e++){N.morphTargets[e]={},N.morphTargets[e].name=O.morphTargets[e].name,N.morphTargets[e].vertices=[];for(var r=N.morphTargets[e].vertices,i=O.morphTargets[e].vertices,o=0,a=i.length;o<a;o+=3){var s=new ln;s.x=i[o]*t,s.y=i[o+1]*t,s.z=i[o+2]*t,r.push(s)}}if(void 0!==O.morphColors&&0<O.morphColors.length){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var l=N.faces,u=O.morphColors[0].colors,e=0,n=l.length;e<n;e++)l[e].color.fromArray(u,3*e)}}(e),function(){var t=[],e=[];void 0!==O.animation&&e.push(O.animation);void 0!==O.animations&&(O.animations.length?e=e.concat(O.animations):e.push(O.animations));for(var n=0;n<e.length;n++){var r=xs.parseAnimation(e[n],N.bones);r&&t.push(r)}if(N.morphTargets){var i=xs.CreateClipsFromMorphTargetSequences(N.morphTargets,10);t=t.concat(i)}0<t.length&&(N.animations=t)}(),N.computeFaceNormals(),N.computeBoundingSphere(),void 0===O.materials||0===O.materials.length)return{geometry:N};var n=Ts.prototype.initMaterials(O.materials,t,this.crossOrigin);return{geometry:N,materials:n}}}),Object.assign(Is.prototype,{load:function(r,i,t,o){""===this.texturePath&&(this.texturePath=r.substring(0,r.lastIndexOf("/")+1));var a=this;new Ya(a.manager).load(r,function(t){var e=null;try{e=JSON.parse(t)}catch(t){return void 0!==o&&o(t),void console.error("THREE:ObjectLoader: Can't parse "+r+".",t.message)}var n=e.metadata;void 0!==n&&void 0!==n.type&&"geometry"!==n.type.toLowerCase()?a.parse(e,i):console.error("THREE.ObjectLoader: Can't load "+r+". Use THREE.JSONLoader instead.")},t,o)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),r=this.parseImages(t.images,function(){void 0!==e&&e(a)}),i=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,i),a=this.parseObject(t.object,n,o);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new Ls,r=new Ss,i=0,o=t.length;i<o;i++){var a,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new La[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new La[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new La[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new La[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new La[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new La[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new La[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new La[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new La[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new La[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new La[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":a=n.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new As;r.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=r.parse(t[i]);n[a.uuid]=a}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=xs.parse(t[n]);e.push(r)}return e},parseImages:function(t,e){var n=this,r={};function i(t){return n.manager.itemStart(t),o.load(t,function(){n.manager.itemEnd(t)},void 0,function(){n.manager.itemError(t)})}if(void 0!==t&&0<t.length){var o=new ka(new Fa(e));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=t.length;a<s;a++){var l=t[a],u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.texturePath+l.url;r[l.uuid]=i(u)}}return r},parseTextures:function(t,e){var n={UVMapping:300,CubeReflectionMapping:B,CubeRefractionMapping:k,EquirectangularReflectionMapping:V,EquirectangularRefractionMapping:W,SphericalReflectionMapping:q,CubeUVReflectionMapping:K,CubeUVRefractionMapping:Z},r={RepeatWrapping:_e,ClampToEdgeWrapping:be,MirroredRepeatWrapping:we},i={NearestFilter:Ee,NearestMipMapNearestFilter:xe,NearestMipMapLinearFilter:Ae,LinearFilter:Se,LinearMipMapNearestFilter:Te,LinearMipMapLinearFilter:Le};function o(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var a={};if(void 0!==t)for(var s=0,l=t.length;s<l;s++){var u=t[s];void 0===u.image&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),void 0===e[u.image]&&console.warn("THREE.ObjectLoader: Undefined image",u.image);var c=new ht(e[u.image]);c.needsUpdate=!0,c.uuid=u.uuid,void 0!==u.name&&(c.name=u.name),void 0!==u.mapping&&(c.mapping=o(u.mapping,n)),void 0!==u.offset&&c.offset.fromArray(u.offset),void 0!==u.repeat&&c.repeat.fromArray(u.repeat),void 0!==u.wrap&&(c.wrapS=o(u.wrap[0],r),c.wrapT=o(u.wrap[1],r)),void 0!==u.minFilter&&(c.minFilter=o(u.minFilter,i)),void 0!==u.magFilter&&(c.magFilter=o(u.magFilter,i)),void 0!==u.anisotropy&&(c.anisotropy=u.anisotropy),void 0!==u.flipY&&(c.flipY=u.flipY),a[u.uuid]=c}return a},parseObject:(ls=new un,function(t,e,n){var r;function i(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function o(t){if(void 0!==t)return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}switch(t.type){case"Scene":r=new To,void 0!==t.background&&Number.isInteger(t.background)&&(r.background=new jn(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?r.fog=new So(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(r.fog=new Ao(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":r=new Ki(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(r.focus=t.focus),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.filmGauge&&(r.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(r.filmOffset=t.filmOffset),void 0!==t.view&&(r.view=Object.assign({},t.view));break;case"OrthographicCamera":r=new Zi(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":r=new ns(t.color,t.intensity);break;case"DirectionalLight":r=new es(t.color,t.intensity);break;case"PointLight":r=new Ja(t.color,t.intensity,t.distance,t.decay);break;case"SpotLight":r=new Qa(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":r=new qa(t.color,t.groundColor,t.intensity);break;case"Mesh":var a=i(t.geometry),s=o(t.material);r=a.bones&&0<a.bones.length?new Ro(a,s):new Bi(a,s);break;case"LOD":r=new Mo;break;case"Line":r=new No(i(t.geometry),o(t.material),t.mode);break;case"LineSegments":r=new $o(i(t.geometry),o(t.material));break;case"PointCloud":case"Points":r=new Ho(i(t.geometry),o(t.material));break;case"Sprite":r=new Po(o(t.material));break;case"Group":r=new Uo;break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh type. Instantiates Object3D instead.");default:r=new si}if(r.uuid=t.uuid,void 0!==t.name&&(r.name=t.name),void 0!==t.matrix?(ls.fromArray(t.matrix),ls.decompose(r.position,r.quaternion,r.scale)):(void 0!==t.position&&r.position.fromArray(t.position),void 0!==t.rotation&&r.rotation.fromArray(t.rotation),void 0!==t.quaternion&&r.quaternion.fromArray(t.quaternion),void 0!==t.scale&&r.scale.fromArray(t.scale)),void 0!==t.castShadow&&(r.castShadow=t.castShadow),void 0!==t.receiveShadow&&(r.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(r.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(r.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&r.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(r.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.children)for(var l in t.children)r.add(this.parseObject(t.children[l],e,n));if("LOD"===t.type)for(var u=t.levels,c=0;c<u.length;c++){var h=u[c];void 0!==(l=r.getObjectByProperty("uuid",h.object))&&r.addLevel(l,h.distance)}return r})}),js.prototype={constructor:js,getPoint:function(t){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(isNaN(t)&&(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=t;n++)o+=(e=this.getPoint(n/t)).distanceTo(i),r.push(o),i=e;return this.cacheArcLengths=r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,o=r.length;n=e||t*r[o-1];for(var a,s=0,l=o-1;s<=l;)if((a=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(0<a)){l=i;break}l=i-1}if(r[i=l]===n)return i/(o-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(o-1)},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),1<n&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,r,i,o=new ln,a=[],s=[],l=[],u=new ln,c=new un;for(n=0;n<=t;n++)r=n/t,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new ln,l[0]=new ln;var h=Number.MAX_VALUE,f=Math.abs(a[0].x),p=Math.abs(a[0].y),d=Math.abs(a[0].z);for(f<=h&&(h=f,o.set(1,0,0)),p<=h&&(h=p,o.set(0,1,0)),d<=h&&o.set(0,0,1),u.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],u),l[0].crossVectors(a[0],s[0]),n=1;n<=t;n++)s[n]=s[n-1].clone(),l[n]=l[n-1].clone(),u.crossVectors(a[n-1],a[n]),u.length()>Number.EPSILON&&(u.normalize(),i=Math.acos(I.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(c.makeRotationAxis(u,i))),l[n].crossVectors(a[n],s[n]);if(!0===e)for(i=Math.acos(I.clamp(s[0].dot(s[t]),-1,1)),i/=t,0<a[0].dot(u.crossVectors(s[0],s[t]))&&(i=-i),n=1;n<=t;n++)s[n].applyMatrix4(c.makeRotationAxis(a[n],i*n)),l[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:l}}},((Rs.prototype=Object.create(js.prototype)).constructor=Rs).prototype.isLineCurve=!0,Rs.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},Rs.prototype.getPointAt=function(t){return this.getPoint(t)},Rs.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},Os.prototype=Object.assign(Object.create(js.prototype),{constructor:Os,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Rs(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t},getSpacedPoints:function(t){isNaN(t)&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*t:o&&o.isLineCurve?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new Yi,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new ln(i.x,i.y,i.z||0))}return e}}),((Ns.prototype=Object.create(js.prototype)).constructor=Ns).prototype.isEllipseCurve=!0,Ns.prototype.getPoint=function(t){for(var e=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=e;for(;e<n;)n-=e;n<Number.EPSILON&&(n=r?0:e),!0!==this.aClockwise||r||(n===e?n=-e:n-=e);var i=this.aStartAngle+t*n,o=this.aX+this.xRadius*Math.cos(i),a=this.aY+this.yRadius*Math.sin(i);if(0!==this.aRotation){var s=Math.cos(this.aRotation),l=Math.sin(this.aRotation),u=o-this.aX,c=a-this.aY;o=u*s-c*l+this.aX,a=u*l+c*s+this.aY}return new an(o,a)},(($s.prototype=Object.create(js.prototype)).constructor=$s).prototype.isSplineCurve=!0,$s.prototype.getPoint=function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),i=n-r,o=e[0===r?r:r-1],a=e[r],s=e[r>e.length-2?e.length-1:r+1],l=e[r>e.length-3?e.length-1:r+2];return new an(Ps(i,o.x,a.x,s.x,l.x),Ps(i,o.y,a.y,s.y,l.y))},((Ds.prototype=Object.create(js.prototype)).constructor=Ds).prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new an(Cs(t,e.x,n.x,r.x,i.x),Cs(t,e.y,n.y,r.y,i.y))},((Hs.prototype=Object.create(js.prototype)).constructor=Hs).prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new an(Ms(t,e.x,n.x,r.x),Ms(t,e.y,n.y,r.y))};var Us,Fs=Object.assign(Object.create(Os.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new Rs(this.currentPoint.clone(),new an(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var i=new Hs(this.currentPoint.clone(),new an(t,e),new an(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,i,o){var a=new Ds(this.currentPoint.clone(),new an(t,e),new an(n,r),new an(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(t){var e=new $s([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,n,r,i,o)},absarc:function(t,e,n,r,i,o){this.absellipse(t,e,n,n,r,i,o)},ellipse:function(t,e,n,r,i,o,a,s){var l=this.currentPoint.x,u=this.currentPoint.y;this.absellipse(t+l,e+u,n,r,i,o,a,s)},absellipse:function(t,e,n,r,i,o,a,s){var l=new Ns(t,e,n,r,i,o,a,s);if(0<this.curves.length){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);this.currentPoint.copy(c)}});function zs(t){Os.call(this),this.currentPoint=new an,t&&this.fromPoints(t)}function Ys(){zs.apply(this,arguments),this.holes=[]}function Gs(){this.subPaths=[],this.currentPath=null}function Bs(t){this.data=t}function ks(t){this.manager=void 0!==t?t:za}(zs.prototype=Fs).constructor=zs,Ys.prototype=Object.assign(Object.create(Fs),{constructor:Ys,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),Gs.prototype={moveTo:function(t,e){this.currentPath=new zs,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,o){this.currentPath.bezierCurveTo(t,e,n,r,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],o=new Ys;o.curves=i.curves,e.push(o)}return e}function r(t,e){for(var n=e.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=e[i],s=e[o],l=s.x-a.x,u=s.y-a.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(a=e[o],l=-l,s=e[i],u=-u),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var c=u*(t.x-a.x)-l*(t.y-a.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return r}var i=ua.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return n(o);var a,s,l,u=[];if(1===o.length)return s=o[0],(l=new Ys).curves=s.curves,u.push(l),u;var c=!i(o[0].getPoints());c=t?!c:c;var h,f,p=[],d=[],v=[],m=0;d[m]=void 0,v[m]=[];for(var g=0,y=o.length;g<y;g++)a=i(h=(s=o[g]).getPoints()),(a=t?!a:a)?(!c&&d[m]&&m++,d[m]={s:new Ys,p:h},d[m].s.curves=s.curves,c&&m++,v[m]=[]):v[m].push({h:s,p:h[0]});if(!d[0])return n(o);if(1<d.length){for(var _=!1,b=[],w=0,E=d.length;w<E;w++)p[w]=[];for(w=0,E=d.length;w<E;w++)for(var x=v[w],A=0;A<x.length;A++){for(var S=x[A],T=!0,L=0;L<d.length;L++)r(S.p,d[L].p)&&(w!==L&&b.push({froms:w,tos:L,hole:A}),T?(T=!1,p[L].push(S)):_=!0);T&&p[w].push(S)}0<b.length&&(_||(v=p))}g=0;for(var I=d.length;g<I;g++){l=d[g].s,u.push(l);for(var P=0,M=(f=v[g]).length;P<M;P++)l.holes.push(f[P].h)}return u}},Object.assign(Bs.prototype,{isFont:!0,generateShapes:function(t,c,x){function h(t,e,n,r){var i=A.glyphs[t]||A.glyphs["?"];if(i){var o,a,s,l,u,c,h,f,p,d,v,m=new Gs,g=[];if(i.o)for(var y=i._cachedOutline||(i._cachedOutline=i.o.split(" ")),_=0,b=y.length;_<b;){switch(y[_++]){case"m":o=y[_++]*e+n,a=y[_++]*e+r,m.moveTo(o,a);break;case"l":o=y[_++]*e+n,a=y[_++]*e+r,m.lineTo(o,a);break;case"q":if(s=y[_++]*e+n,l=y[_++]*e+r,h=y[_++]*e+n,f=y[_++]*e+r,m.quadraticCurveTo(h,f,s,l),v=g[g.length-1]){u=v.x,c=v.y;for(var w=1;w<=x;w++){Ms(E=w/x,u,h,s),Ms(E,c,f,l)}}break;case"b":if(s=y[_++]*e+n,l=y[_++]*e+r,h=y[_++]*e+n,f=y[_++]*e+r,p=y[_++]*e+n,d=y[_++]*e+r,m.bezierCurveTo(h,f,p,d,s,l),v=g[g.length-1]){u=v.x,c=v.y;for(w=1;w<=x;w++){var E;Cs(E=w/x,u,h,p,s),Cs(E,c,f,d,l)}}}}return{offsetX:i.ha*e,path:m}}}void 0===c&&(c=100),void 0===x&&(x=4);for(var A=this.data,e=function(t){for(var e=String(t).split(""),n=c/A.resolution,r=(A.boundingBox.yMax-A.boundingBox.yMin+A.underlineThickness)*n,i=0,o=0,a=[],s=0;s<e.length;s++){var l=e[s];if("\n"===l)i=0,o-=r;else{var u=h(l,n,i,o);i+=u.offsetX,a.push(u.path)}}return a}(t),n=[],r=0,i=e.length;r<i;r++)Array.prototype.push.apply(n,e[r].toShapes());return n}}),Object.assign(ks.prototype,{load:function(t,r,e,n){var i=this;new Ya(this.manager).load(t,function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var t=i.parse(n);r&&r(t)},e,n)},parse:function(t){return new Bs(t)}});var Vs,Ws,Xs,qs,Ks,Zs,Qs,Js,tl,el,nl,rl,il,ol,al,sl,ll,ul,cl,hl,fl,pl,dl,vl,ml,gl,yl,_l,bl,wl,El,xl,Al,Sl,Tl,Ll,Il,Pl,Ml={getContext:function(){return void 0===Us&&(Us=new(window.AudioContext||window.webkitAudioContext)),Us},setContext:function(t){Us=t}};function Cl(t){this.manager=void 0!==t?t:za}function jl(t,e,n,r){Xa.call(this,t,e),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Rl(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ki,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ki,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Ol(t,e,n){si.call(this),this.type="CubeCamera";var i=new Ki(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new ln(1,0,0)),this.add(i);var o=new Ki(90,1,t,e);o.up.set(0,-1,0),o.lookAt(new ln(-1,0,0)),this.add(o);var a=new Ki(90,1,t,e);a.up.set(0,0,1),a.lookAt(new ln(0,1,0)),this.add(a);var s=new Ki(90,1,t,e);s.up.set(0,0,-1),s.lookAt(new ln(0,-1,0)),this.add(s);var l=new Ki(90,1,t,e);l.up.set(0,-1,0),l.lookAt(new ln(0,0,1)),this.add(l);var u=new Ki(90,1,t,e);u.up.set(0,-1,0),u.lookAt(new ln(0,0,-1)),this.add(u);var r={format:ze,magFilter:Se,minFilter:Se};this.renderTarget=new pt(n,n,r),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,i,n),n.activeCubeFace=1,t.render(e,o,n),n.activeCubeFace=2,t.render(e,a,n),n.activeCubeFace=3,t.render(e,s,n),n.activeCubeFace=4,t.render(e,l,n),n.texture.generateMipmaps=r,n.activeCubeFace=5,t.render(e,u,n),t.setRenderTarget(null)}}function Nl(){si.call(this),this.type="AudioListener",this.context=Ml.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function $l(t){si.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Dl(t){$l.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Hl(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Ul(t,e,n){this.binding=t,this.valueSize=n;var r,i=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Fl(t,e,n){this.path=e,this.parsedPath=n||Fl.parseTrackName(e),this.node=Fl.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function zl(t){this.uuid=I.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Yl(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,o=new Array(i),a={endingStart:d,endingEnd:d},s=0;s!==i;++s){var l=r[s].createInterpolant(null);(o[s]=l).settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=c,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Gl(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Bl(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function kl(){Gi.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Vl(t,e,n,r){this.uuid=I.generateUUID(),this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function Wl(t,e){this.uuid=I.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Xl(t,e,n){Wl.call(this,t,e),this.meshPerAttribute=n||1}function ql(t,e,n){fi.call(this,t,e),this.meshPerAttribute=n||1}function Kl(t,e,n,r){this.ray=new Ir(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Zl(t,e){return t.distance-e.distance}function Ql(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var i=t.children,o=0,a=i.length;o<a;o++)Ql(i[o],e,n,!0)}function Jl(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function tu(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function eu(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function nu(t,e){Bi.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r=n-1,i=n/1;this.createAnimation("__default",0,r,i),this.setAnimationWeight("__default",1)}function ru(t){si.call(this),this.material=t,this.render=function(t){}}function iu(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var l=new Gi,u=new bi(2*a*3,3);l.addAttribute("position",u),$o.call(this,l,new Oo({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function ou(t){si.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new Gi,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1;r<32;r++,i++){var o=r/32*Math.PI*2,a=i/32*Math.PI*2;n.push(Math.cos(o),Math.sin(o),1,Math.cos(a),Math.sin(a),1)}e.addAttribute("position",new bi(n,3));var s=new Oo({fog:!1});this.cone=new $o(e,s),this.add(this.cone),this.update()}function au(t){this.bones=this.getBoneList(t);for(var e=new Gi,n=[],r=[],i=new jn(0,0,1),o=new jn(0,1,0),a=0;a<this.bones.length;a++){var s=this.bones[a];s.parent&&s.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(i.r,i.g,i.b),r.push(o.r,o.g,o.b))}e.addAttribute("position",new bi(n,3)),e.addAttribute("color",new bi(r,3));var l=new Oo({vertexColors:g,depthTest:!1,depthWrite:!1,transparent:!0});$o.call(this,e,l),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function su(t,e){this.light=t,this.light.updateMatrixWorld();var n=new pa(e,4,2),r=new hi({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),Bi.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function lu(t){si.call(this),this.light=t,this.light.updateMatrixWorld();var e=new hi({color:t.color,fog:!1}),n=new hi({color:t.color,fog:!1,wireframe:!0}),r=new Gi;r.addAttribute("position",new fi(new Float32Array(18),3)),this.add(new Bi(r,e)),this.add(new Bi(r,n)),this.update()}function uu(t,e){si.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var n=new Qo(e);n.rotateY(.5*Math.PI);var r=new hi({vertexColors:g,wireframe:!0}),i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.addAttribute("color",new fi(o,3)),this.add(new Bi(n,r)),this.update()}function cu(t,e,n,r){t=t||10,e=e||10,n=new jn(void 0!==n?n:4473924),r=new jn(void 0!==r?r:8947848);for(var i=e/2,o=t/e,a=t/2,s=[],l=[],u=0,c=0,h=-a;u<=e;u++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var f=u===i?n:r;f.toArray(l,c),c+=3,f.toArray(l,c),c+=3,f.toArray(l,c),c+=3,f.toArray(l,c),c+=3}var p=new Gi;p.addAttribute("position",new bi(s,3)),p.addAttribute("color",new bi(l,3));var d=new Oo({vertexColors:g});$o.call(this,p,d)}function hu(t,e,n,r,i,o){t=t||10,e=e||16,n=n||8,r=r||64,i=new jn(void 0!==i?i:4473924),o=new jn(void 0!==o?o:8947848);var a,s,l,u,c,h,f,p=[],d=[];for(u=0;u<=e;u++)l=u/e*(2*Math.PI),a=Math.sin(l)*t,s=Math.cos(l)*t,p.push(0,0,0),p.push(a,0,s),f=1&u?i:o,d.push(f.r,f.g,f.b),d.push(f.r,f.g,f.b);for(u=0;u<=n;u++)for(f=1&u?i:o,h=t-t/n*u,c=0;c<r;c++)l=c/r*(2*Math.PI),a=Math.sin(l)*h,s=Math.cos(l)*h,p.push(a,0,s),d.push(f.r,f.g,f.b),l=(c+1)/r*(2*Math.PI),a=Math.sin(l)*h,s=Math.cos(l)*h,p.push(a,0,s),d.push(f.r,f.g,f.b);var v=new Gi;v.addAttribute("position",new bi(p,3)),v.addAttribute("color",new bi(d,3));var m=new Oo({vertexColors:g});$o.call(this,v,m)}function fu(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new Gi,u=new bi(2*a*3,3);l.addAttribute("position",u),$o.call(this,l,new Oo({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function pu(t,e){si.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new Gi;n.addAttribute("position",new bi([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new Oo({fog:!1});this.add(new No(n,r)),(n=new Gi).addAttribute("position",new bi([0,0,0,0,0,1],3)),this.add(new No(n,r)),this.update()}function du(t){var e=new Gi,n=new Oo({color:16777215,vertexColors:p}),r=[],i=[],o={},a=new jn(16755200),s=new jn(16711680),l=new jn(43775),u=new jn(16777215),c=new jn(3355443);function h(t,e,n){f(t,n),f(e,n)}function f(t,e){r.push(0,0,0),i.push(e.r,e.g,e.b),void 0===o[t]&&(o[t]=[]),o[t].push(r.length/3-1)}h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",l),h("u2","u3",l),h("u3","u1",l),h("c","t",u),h("p","c",c),h("cn1","cn2",c),h("cn3","cn4",c),h("cf1","cf2",c),h("cf3","cf4",c),e.addAttribute("position",new bi(r,3)),e.addAttribute("color",new bi(i,3)),$o.call(this,e,n),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function vu(t,e){void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Gi;i.setIndex(new fi(n,1)),i.addAttribute("position",new fi(r,3)),$o.call(this,i,new Oo({color:e})),void 0!==t&&this.update(t)}function mu(t,e,n,r,i,o){si.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===Tl&&((Tl=new Gi).addAttribute("position",new bi([0,0,0,0,1,0],3)),(Ll=new Ea(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new No(Tl,new Oo({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Bi(Ll,new hi({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,o)}function gu(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new Gi;n.addAttribute("position",new bi(e,3)),n.addAttribute("color",new bi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Oo({vertexColors:g});$o.call(this,n,r)}function yu(){var i=0,o=0,a=0,s=0;function u(t,e,n,r){a=-3*(i=t)+3*e-2*(o=n)-r,s=2*t-2*e+n+r}return{initCatmullRom:function(t,e,n,r,i){u(e,n,i*(n-t),i*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,i,o,a){var s=(e-t)/i-(n-t)/(i+o)+(n-e)/o,l=(n-e)/o-(r-e)/(o+a)+(r-n)/a;u(e,n,s*=o,l*=o)},calc:function(t){var e=t*t;return i+o*t+a*e+s*(e*t)}}}Object.assign(Cl.prototype,{load:function(t,e,n,r){var i=new Ya(this.manager);i.setResponseType("arraybuffer"),i.load(t,function(t){Ml.getContext().decodeAudioData(t,function(t){e(t)})},n,r)}}),jl.prototype=Object.assign(Object.create(Xa.prototype),{constructor:jl,isRectAreaLight:!0,copy:function(t){return Xa.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this}}),Object.assign(Rl.prototype,{update:(Js=new un,tl=new un,function(t){if(Vs!==this||Ws!==t.focus||Xs!==t.fov||qs!==t.aspect*this.aspect||Ks!==t.near||Zs!==t.far||Qs!==t.zoom){Vs=this,Ws=t.focus,Xs=t.fov,qs=t.aspect*this.aspect,Ks=t.near,Zs=t.far,Qs=t.zoom;var e,n,r=t.projectionMatrix.clone(),i=this.eyeSep/2,o=i*Ks/Ws,a=Ks*Math.tan(I.DEG2RAD*Xs*.5)/Qs;tl.elements[12]=-i,Js.elements[12]=i,e=-a*qs+o,n=a*qs+o,r.elements[0]=2*Ks/(n-e),r.elements[8]=(n+e)/(n-e),this.cameraL.projectionMatrix.copy(r),e=-a*qs-o,n=a*qs-o,r.elements[0]=2*Ks/(n-e),r.elements[8]=(n+e)/(n-e),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(tl),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Js)})}),(Ol.prototype=Object.create(si.prototype)).constructor=Ol,Nl.prototype=Object.assign(Object.create(si.prototype),{constructor:Nl,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:(el=new ln,nl=new dt,rl=new ln,il=new ln,function(t){si.prototype.updateMatrixWorld.call(this,t);var e=this.context.listener,n=this.up;this.matrixWorld.decompose(el,nl,rl),il.set(0,0,-1).applyQuaternion(nl),e.positionX?(e.positionX.setValueAtTime(el.x,this.context.currentTime),e.positionY.setValueAtTime(el.y,this.context.currentTime),e.positionZ.setValueAtTime(el.z,this.context.currentTime),e.forwardX.setValueAtTime(il.x,this.context.currentTime),e.forwardY.setValueAtTime(il.y,this.context.currentTime),e.forwardZ.setValueAtTime(il.z,this.context.currentTime),e.upX.setValueAtTime(n.x,this.context.currentTime),e.upY.setValueAtTime(n.y,this.context.currentTime),e.upZ.setValueAtTime(n.z,this.context.currentTime)):(e.setPosition(el.x,el.y,el.z),e.setOrientation(il.x,il.y,il.z,n.x,n.y,n.z))})}),$l.prototype=Object.assign(Object.create(si.prototype),{constructor:$l,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),t.start(0,this.startTime),this.isPlaying=!0,this.source=t,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),Dl.prototype=Object.assign(Object.create($l.prototype),{constructor:Dl,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:(ol=new ln,function(t){si.prototype.updateMatrixWorld.call(this,t),ol.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(ol.x,ol.y,ol.z)})}),Object.assign(Hl.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Ul.prototype={constructor:Ul,accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=e}else{var s=e/(o+=e);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*e;this._mixBufferRegion(n,r,a,1-i,e)}for(var s=e,l=e+e;s!==l;++s)if(n[s]!==n[s+e]){o.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,o=r;i!==o;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(.5<=r)for(var o=0;o!==i;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,r,i){dt.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*r}}},Fl.prototype={constructor:Fl,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=Fl.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error("  can not bind to objectName of node, undefined",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[o]}}var s=t[r];if(void 0!==s){var l=this.Versioning.None;void 0!==t.needsUpdate?(l=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var u=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}else{var c=e.nodeName;console.error("  trying to update property for track: "+c+"."+r+" but it wasn't found.",t)}}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(Fl.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Fl.prototype.getValue,_setValue_unbound:Fl.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),(Fl.Composite=function(t,e,n){var r=n||Fl.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}).prototype={constructor:Fl.Composite,getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},Fl.create=function(t,e,n){return t&&t.isAnimationObjectGroup?new Fl.Composite(t,e,n):new Fl(t,e,n)},Fl.parseTrackName=function(t){var e=/^((?:[\w-]+[\/:])*)([\w-]+)?(?:\.([\w-]+)(?:\[(.+)\])?)?\.([\w-]+)(?:\[(.+)\])?$/.exec(t);if(!e)throw new Error("cannot parse trackName at all: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]};if(null===n.propertyName||0===n.propertyName.length)throw new Error("can not parse propertyName from trackName: "+t);return n},Fl.findNode=function(t,o){if(!o||""===o||"root"===o||"."===o||-1===o||o===t.name||o===t.uuid)return t;if(t.skeleton){var e=function(t){for(var e=0;e<t.bones.length;e++){var n=t.bones[e];if(n.name===o)return n}return null}(t.skeleton);if(e)return e}if(t.children){var n=function t(e){for(var n=0;n<e.length;n++){var r=e[n];if(r.name===o||r.uuid===o)return r;var i=t(r.children);if(i)return i}return null}(t.children);if(n)return n}return null},zl.prototype={constructor:zl,isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,l=s.length,u=0,c=arguments.length;u!==c;++u){var h=arguments[u],f=h.uuid,p=i[f],d=void 0;if(void 0===p){p=n++,i[f]=p,e.push(h);for(var v=0,m=l;v!==m;++v)s[v].push(new Fl(h,o[v],a[v]))}else if(p<r){d=e[p];var g=--r,y=e[g];e[i[y.uuid]=p]=y,e[i[f]=g]=h;for(v=0,m=l;v!==m;++v){var _=s[v],b=_[g],w=_[p];_[p]=b,void 0===w&&(w=new Fl(h,o[v],a[v])),_[g]=w}}else e[p]!==d&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=r},remove:function(t){for(var e=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a],u=l.uuid,c=r[u];if(void 0!==c&&n<=c){var h=n++,f=e[h];e[r[f.uuid]=c]=f,e[r[u]=h]=l;for(var p=0,d=o;p!==d;++p){var v=i[p],m=v[h],g=v[c];v[c]=m,v[h]=g}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,l=arguments.length;s!==l;++s){var u=arguments[s].uuid,c=i[u];if(void 0!==c)if(delete i[u],c<r){var h=--r,f=e[h],p=e[y=--n];e[i[f.uuid]=c]=f,e[i[p.uuid]=h]=p,e.pop();for(var d=0,v=a;d!==v;++d){var m=(_=o[d])[h],g=_[y];_[c]=m,_[h]=g,_.pop()}}else{var y;e[i[(p=e[y=--n]).uuid]=c]=p,e.pop();for(d=0,v=a;d!==v;++d){var _;(_=o[d])[c]=_[y],_.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[t]=r,o.push(t),a.push(e),i.push(c);for(var h=u,f=s.length;h!==f;++h){var p=s[h];c[h]=new Fl(p,t,e)}return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];o[e[t[a]]=n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}},Yl.prototype={constructor:Yl,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,o=i/r,a=r/i;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=t/a,l[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){var i=this._startTime;if(null!==i){var o=(t-i)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(0<s)for(var l=this._interpolants,u=this._propertyBindings,c=0,h=l.length;c!==h;++c)l[c].evaluate(a),u[c].accumulate(r,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}return this._effectiveTimeScale=e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(n<=e)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var o=2202===r;if(-1===i&&(0<=t?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),n<=e||e<0){var a=Math.floor(e/n);e-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=0<t?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<t?1:-1});else{if(0===s){var l=t<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&i))return n-(this.time=e)}return this.time=e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=v,r.endingEnd=v):(r.endingStart=t?this.zeroSlopeAtStart?v:d:m,r.endingEnd=e?this.zeroSlopeAtEnd?v:d:m)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=n,this}},Gl.prototype={constructor:Gl,clipAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?xs.findByName(n,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var l=a.actionByRoot[r];if(void 0!==l)return l;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var u=new Yl(this,i,e);return this._bindAction(u,s),this._addInactiveAction(u,o,r),u},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?xs.findByName(n,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0;for(var i=this._nActiveBindings=0;i!==e;++i)t[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a){var s=e[a];s.enabled&&s._update(r,t,i,o)}var l=this._bindings,u=this._nActiveBindings;for(a=0;a!==u;++a)l[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var l=o[a];this._deactivateAction(l);var u=l._cacheIndex,c=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,e[c._cacheIndex=u]=c,e.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[e];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},Object.assign(Gl.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var h=r[c],f=h.name,p=u[f];if(void 0!==p)o[c]=p;else{if(void 0!==(p=o[c])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,f));continue}var d=e&&e._propertyBindings[c].binding.parsedPath;++(p=new Ul(Fl.create(n,f,d),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(p,s,f),o[c]=p}a[c].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;e[n._cacheIndex=r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,l=s[s.length-1],u=t._byClipCacheIndex;s[l._byClipCacheIndex=u]=l,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];e[t._cacheIndex=r]=t,e[i._cacheIndex=n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];e[t._cacheIndex=r]=t,e[i._cacheIndex=n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],o=this._bindings;void 0===i&&(i={},r[e]=i),(i[n]=t)._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=e[e.length-1],l=t._cacheIndex;e[s._cacheIndex=l]=s,e.pop(),delete a[i];t:{for(var u in a)break t;delete o[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];e[t._cacheIndex=r]=t,e[i._cacheIndex=n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];e[t._cacheIndex=r]=t,e[i._cacheIndex=n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(t[(n=new fs(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];e[t.__cacheIndex=r]=t,e[i.__cacheIndex=n]=i},_controlInterpolantsResultBuffer:new Float32Array(1)}),Object.assign(Gl.prototype,e.prototype),Bl.prototype.clone=function(){return new Bl(void 0===this.value.clone?this.value:this.value.clone())},((kl.prototype=Object.create(Gi.prototype)).constructor=kl).prototype.isInstancedBufferGeometry=!0,kl.prototype.addGroup=function(t,e,n){this.groups.push({start:t,count:e,materialIndex:n})},kl.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var l=o[a];this.addGroup(l.start,l.count,l.materialIndex)}return this},Vl.prototype={constructor:Vl,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}},Wl.prototype={constructor:Wl,isInterleavedBuffer:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}},((Xl.prototype=Object.create(Wl.prototype)).constructor=Xl).prototype.isInstancedInterleavedBuffer=!0,Xl.prototype.copy=function(t){return Wl.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},((ql.prototype=Object.create(fi.prototype)).constructor=ql).prototype.isInstancedBufferAttribute=!0,ql.prototype.copy=function(t){return fi.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Kl.prototype={constructor:Kl,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var n=[];return Ql(t,this,n,e),n.sort(Zl),n},intersectObjects:function(t,e){var n=[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=t.length;r<i;r++)Ql(t[r],this,n,e);return n.sort(Zl),n}},Jl.prototype={constructor:Jl,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}},tu.prototype={constructor:tu,set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(I.clamp(t.y/this.radius,-1,1))),this}},eu.prototype={constructor:eu,set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}},((nu.prototype=Object.create(Bi.prototype)).constructor=nu).prototype.createAnimation=function(t,e,n,r){var i={start:e,end:n,length:n-e+1,fps:r,duration:(n-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},nu.prototype.autoCreateAnimations=function(t){for(var e,n=/([a-z]+)_?(\d+)/i,r={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o].name.match(n);if(s&&1<s.length)r[l=s[1]]||(r[l]={start:1/0,end:-1/0}),o<(u=r[l]).start&&(u.start=o),o>u.end&&(u.end=o),e||(e=l)}for(var l in r){var u=r[l];this.createAnimation(l,u.start,u.end,t)}this.firstAnimation=e},nu.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},nu.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},nu.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},nu.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},nu.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},nu.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},nu.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},nu.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},nu.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},nu.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},nu.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var r=this.animationsList[e];if(r.active){var i=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.start+I.clamp(Math.floor(r.time/i),0,r.length-1),a=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var s=r.time%i/i;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a):this.morphTargetInfluences[r.currentFrame]=a}}},((ru.prototype=Object.create(si.prototype)).constructor=ru).prototype.isImmediateRenderObject=!0,((iu.prototype=Object.create($o.prototype)).constructor=iu).prototype.update=(al=new ln,sl=new ln,ll=new Ar,function(){var t=["a","b","c"];this.object.updateMatrixWorld(!0),ll.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,n=this.geometry.attributes.position,r=this.object.geometry;if(r&&r.isGeometry)for(var i=r.vertices,o=r.faces,a=0,s=0,l=o.length;s<l;s++)for(var u=o[s],c=0,h=u.vertexNormals.length;c<h;c++){var f=i[u[t[c]]],p=u.vertexNormals[c];al.copy(f).applyMatrix4(e),sl.copy(p).applyMatrix3(ll).normalize().multiplyScalar(this.size).add(al),n.setXYZ(a,al.x,al.y,al.z),a+=1,n.setXYZ(a,sl.x,sl.y,sl.z),a+=1}else if(r&&r.isBufferGeometry){var d=r.attributes.position,v=r.attributes.normal;for(c=a=0,h=d.count;c<h;c++)al.set(d.getX(c),d.getY(c),d.getZ(c)).applyMatrix4(e),sl.set(v.getX(c),v.getY(c),v.getZ(c)),sl.applyMatrix3(ll).normalize().multiplyScalar(this.size).add(al),n.setXYZ(a,al.x,al.y,al.z),a+=1,n.setXYZ(a,sl.x,sl.y,sl.z),a+=1}return n.needsUpdate=!0,this}),((ou.prototype=Object.create(si.prototype)).constructor=ou).prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},ou.prototype.update=(ul=new ln,cl=new ln,function(){var t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),ul.setFromMatrixPosition(this.light.matrixWorld),cl.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(cl.sub(ul)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}),((au.prototype=Object.create($o.prototype)).constructor=au).prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,this.getBoneList(t.children[n]));return e},au.prototype.update=(hl=new ln,fl=new un,pl=new un,function(){var t=this.geometry,e=t.getAttribute("position");pl.getInverse(this.root.matrixWorld);for(var n=0,r=0;n<this.bones.length;n++){var i=this.bones[n];i.parent&&i.parent.isBone&&(fl.multiplyMatrices(pl,i.matrixWorld),hl.setFromMatrixPosition(fl),e.setXYZ(r,hl.x,hl.y,hl.z),fl.multiplyMatrices(pl,i.parent.matrixWorld),hl.setFromMatrixPosition(fl),e.setXYZ(r+1,hl.x,hl.y,hl.z),r+=2)}t.getAttribute("position").needsUpdate=!0}),((su.prototype=Object.create(Bi.prototype)).constructor=su).prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},su.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},((lu.prototype=Object.create(si.prototype)).constructor=lu).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose(),this.children[1].geometry.dispose(),this.children[1].material.dispose()},lu.prototype.update=(dl=new ln,vl=new ln,function(){var t=this.children[0],e=this.children[1];if(this.light.target){dl.setFromMatrixPosition(this.light.matrixWorld),vl.setFromMatrixPosition(this.light.target.matrixWorld);var n=vl.clone().sub(dl);t.lookAt(n),e.lookAt(n)}t.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),e.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var r=.5*this.light.width,i=.5*this.light.height,o=t.geometry.getAttribute("position"),a=o.array;a[0]=r,a[1]=-i,a[2]=0,a[3]=r,a[4]=i,a[5]=0,a[6]=-r,a[7]=i,a[8]=0,a[9]=-r,a[10]=i,a[11]=0,a[12]=-r,a[13]=-i,a[14]=0,a[15]=r,a[16]=-i,a[17]=0,o.needsUpdate=!0}),((uu.prototype=Object.create(si.prototype)).constructor=uu).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},uu.prototype.update=(ml=new ln,gl=new jn,yl=new jn,function(){var t=this.children[0],e=t.geometry.getAttribute("color");gl.copy(this.light.color).multiplyScalar(this.light.intensity),yl.copy(this.light.groundColor).multiplyScalar(this.light.intensity);for(var n=0,r=e.count;n<r;n++){var i=n<r/2?gl:yl;e.setXYZ(n,i.r,i.g,i.b)}t.lookAt(ml.setFromMatrixPosition(this.light.matrixWorld).negate()),e.needsUpdate=!0}),(cu.prototype=Object.create($o.prototype)).constructor=cu,(hu.prototype=Object.create($o.prototype)).constructor=hu,((fu.prototype=Object.create($o.prototype)).constructor=fu).prototype.update=(_l=new ln,bl=new ln,wl=new Ar,function(){this.object.updateMatrixWorld(!0),wl.getNormalMatrix(this.object.matrixWorld);for(var t=this.object.matrixWorld,e=this.geometry.attributes.position,n=this.object.geometry,r=n.vertices,i=n.faces,o=0,a=0,s=i.length;a<s;a++){var l=i[a],u=l.normal;_l.copy(r[l.a]).add(r[l.b]).add(r[l.c]).divideScalar(3).applyMatrix4(t),bl.copy(u).applyMatrix3(wl).normalize().multiplyScalar(this.size).add(_l),e.setXYZ(o,_l.x,_l.y,_l.z),o+=1,e.setXYZ(o,bl.x,bl.y,bl.z),o+=1}return e.needsUpdate=!0,this}),((pu.prototype=Object.create(si.prototype)).constructor=pu).prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},pu.prototype.update=(El=new ln,xl=new ln,Al=new ln,function(){El.setFromMatrixPosition(this.light.matrixWorld),xl.setFromMatrixPosition(this.light.target.matrixWorld),Al.subVectors(xl,El);var t=this.children[0],e=this.children[1];t.lookAt(Al),t.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),e.lookAt(Al),e.scale.z=Al.length()}),((du.prototype=Object.create($o.prototype)).constructor=du).prototype.update=function(){var l,u,c=new ln,h=new qi;function t(t,e,n,r){c.set(e,n,r).unproject(h);var i=u[t];if(void 0!==i)for(var o=l.getAttribute("position"),a=0,s=i.length;a<s;a++)o.setXYZ(i[a],c.x,c.y,c.z)}return function(){l=this.geometry,u=this.pointMap;h.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),l.getAttribute("position").needsUpdate=!0}}(),((vu.prototype=Object.create($o.prototype)).constructor=vu).prototype.update=(Sl=new Er,function(t){if(t&&t.isBox3?Sl.copy(t):Sl.setFromObject(t),!Sl.isEmpty()){var e=Sl.min,n=Sl.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}),((mu.prototype=Object.create(si.prototype)).constructor=mu).prototype.setDirection=(Pl=new ln,function(t){.99999<t.y?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(Pl.set(t.z,0,-t.x).normalize(),Il=Math.acos(t.y),this.quaternion.setFromAxisAngle(Pl,Il))}),mu.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},mu.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},(gu.prototype=Object.create($o.prototype)).constructor=gu;var _u=new ln,bu=new yu,wu=new yu,Eu=new yu;function xu(t){this.points=t||[],this.closed=!1}function Au(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function Su(t,e,n){this.v0=t,this.v1=e,this.v2=n}function Tu(t,e){this.v1=t,this.v2=e}function Lu(t,e,n,r,i,o){Ns.call(this,t,e,n,n,r,i,o)}((xu.prototype=Object.create(js.prototype)).constructor=xu).prototype.getPoint=function(t){var e=this.points,n=e.length;n<2&&console.log("duh, you need at least 2 points");var r,i,o,a,s=(n-(this.closed?0:1))*t,l=Math.floor(s),u=s-l;if(this.closed?l+=0<l?0:(Math.floor(Math.abs(l)/e.length)+1)*e.length:0===u&&l===n-1&&(l=n-2,u=1),this.closed||0<l?r=e[(l-1)%n]:(_u.subVectors(e[0],e[1]).add(e[0]),r=_u),i=e[l%n],o=e[(l+1)%n],this.closed||l+2<n?a=e[(l+2)%n]:(_u.subVectors(e[n-1],e[n-2]).add(e[n-1]),a=_u),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var c="chordal"===this.type?.5:.25,h=Math.pow(r.distanceToSquared(i),c),f=Math.pow(i.distanceToSquared(o),c),p=Math.pow(o.distanceToSquared(a),c);f<1e-4&&(f=1),h<1e-4&&(h=f),p<1e-4&&(p=f),bu.initNonuniformCatmullRom(r.x,i.x,o.x,a.x,h,f,p),wu.initNonuniformCatmullRom(r.y,i.y,o.y,a.y,h,f,p),Eu.initNonuniformCatmullRom(r.z,i.z,o.z,a.z,h,f,p)}else if("catmullrom"===this.type){var d=void 0!==this.tension?this.tension:.5;bu.initCatmullRom(r.x,i.x,o.x,a.x,d),wu.initCatmullRom(r.y,i.y,o.y,a.y,d),Eu.initCatmullRom(r.z,i.z,o.z,a.z,d)}return new ln(bu.calc(u),wu.calc(u),Eu.calc(u))},((Au.prototype=Object.create(js.prototype)).constructor=Au).prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new ln(Cs(t,e.x,n.x,r.x,i.x),Cs(t,e.y,n.y,r.y,i.y),Cs(t,e.z,n.z,r.z,i.z))},((Su.prototype=Object.create(js.prototype)).constructor=Su).prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new ln(Ms(t,e.x,n.x,r.x),Ms(t,e.y,n.y,r.y),Ms(t,e.z,n.z,r.z))},((Tu.prototype=Object.create(js.prototype)).constructor=Tu).prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=new ln;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e},(Lu.prototype=Object.create(Ns.prototype)).constructor=Lu;var Iu={createMultiMaterialObject:function(t,e){for(var n=new Uo,r=0,i=e.length;r<i;r++)n.add(new Bi(t,e[r]));return n},detach:function(t,e,n){t.applyMatrix(e.matrixWorld),e.remove(t),n.add(t)},attach:function(t,e,n){var r=new un;r.getInverse(n.matrixWorld),t.applyMatrix(r),e.remove(t),n.add(t)}};var Pu;function Mu(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),xu.call(this,t),this.type="catmullrom",this.closed=!0}function Cu(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),xu.call(this,t),this.type="catmullrom"}function ju(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),xu.call(this,t),this.type="catmullrom"}js.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(js.prototype),(t.prototype.constructor=t).prototype.getPoint=e,t},Mu.prototype=Object.create(xu.prototype),Cu.prototype=Object.create(xu.prototype),ju.prototype=Object.create(xu.prototype),Object.assign(ju.prototype,{initFromArray:function(t){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(t){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(t){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),cu.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Object.assign(Un.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Er.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),li.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},I.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(Ar.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(un.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return void 0===Pu&&(Pu=new ln),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),Pu.setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,o)}}),Sr.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},dt.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(Ir.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Ys.prototype,{extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ca(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ya(this,t)}}),Object.assign(an.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(ln.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(sn.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Yi.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(si.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(si.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Mo.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Ki.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Xa.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(fi.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(Gi.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Gi.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Bl.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(_r.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new jn}}}),Object.defineProperties(Ra.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(br.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(xo.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(xo.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(Lr.prototype,{cullFace:{get:function(){return this.renderReverseSided?$t:Nt},set:function(t){var e=t!==Nt;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(ft.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),$l.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Cl).load(t,function(t){e.setBuffer(t)}),this},Hl.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};var Ru={merge:function(t,e,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},Ou={crossOrigin:void 0,loadTexture:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Wa;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Va;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};t.WebGLRenderTargetCube=pt,t.WebGLRenderTarget=ft,t.WebGLRenderer=xo,t.ShaderLib=Hn,t.UniformsLib=Dn,t.UniformsUtils=Mn,t.ShaderChunk=Cn,t.FogExp2=Ao,t.Fog=So,t.Scene=To,t.LensFlare=Lo,t.Sprite=Po,t.LOD=Mo,t.SkinnedMesh=Ro,t.Skeleton=Co,t.Bone=jo,t.Mesh=Bi,t.LineSegments=$o,t.Line=No,t.Points=Ho,t.Group=Uo,t.VideoTexture=Fo,t.DataTexture=On,t.CompressedTexture=zo,t.CubeTexture=vt,t.CanvasTexture=Yo,t.DepthTexture=Go,t.Texture=ht,t.CompressedTextureLoader=Ga,t.DataTextureLoader=Ba,t.CubeTextureLoader=Va,t.TextureLoader=Wa,t.ObjectLoader=Is,t.MaterialLoader=As,t.BufferGeometryLoader=Ss,t.DefaultLoadingManager=za,t.LoadingManager=Fa,t.JSONLoader=Ls,t.ImageLoader=ka,t.FontLoader=ks,t.FileLoader=Ya,t.Loader=Ts,t.Cache=Ua,t.AudioLoader=Cl,t.SpotLightShadow=Za,t.SpotLight=Qa,t.PointLight=Ja,t.RectAreaLight=jl,t.HemisphereLight=qa,t.DirectionalLightShadow=ts,t.DirectionalLight=es,t.AmbientLight=ns,t.LightShadow=Ka,t.Light=Xa,t.StereoCamera=Rl,t.PerspectiveCamera=Ki,t.OrthographicCamera=Zi,t.CubeCamera=Ol,t.Camera=qi,t.AudioListener=Nl,t.PositionalAudio=Dl,t.AudioContext=Ml,t.AudioAnalyser=Hl,t.Audio=$l,t.VectorKeyframeTrack=vs,t.StringKeyframeTrack=_s,t.QuaternionKeyframeTrack=gs,t.NumberKeyframeTrack=ys,t.ColorKeyframeTrack=ws,t.BooleanKeyframeTrack=bs,t.PropertyMixer=Ul,t.PropertyBinding=Fl,t.KeyframeTrack=Es,t.AnimationUtils=us,t.AnimationObjectGroup=zl,t.AnimationMixer=Gl,t.AnimationClip=xs,t.Uniform=Bl,t.InstancedBufferGeometry=kl,t.BufferGeometry=Gi,t.GeometryIdCount=zi,t.Geometry=Yi,t.InterleavedBufferAttribute=Vl,t.InstancedInterleavedBuffer=Xl,t.InterleavedBuffer=Wl,t.InstancedBufferAttribute=ql,t.Face3=ci,t.Object3D=si,t.Raycaster=Kl,t.Layers=Mr,t.EventDispatcher=e,t.Clock=Jl,t.QuaternionLinearInterpolant=ms,t.LinearInterpolant=fs,t.DiscreteInterpolant=ps,t.CubicInterpolant=hs,t.Interpolant=cs,t.Triangle=ui,t.Math=I,t.Spherical=tu,t.Cylindrical=eu,t.Plane=Sr,t.Frustum=Tr,t.Sphere=xr,t.Ray=Ir,t.Matrix4=un,t.Matrix3=Ar,t.Box3=Er,t.Box2=Un,t.Line3=li,t.Euler=Pr,t.Vector4=sn,t.Vector3=ln,t.Vector2=an,t.Quaternion=dt,t.Color=jn,t.MorphBlendMesh=nu,t.ImmediateRenderObject=ru,t.VertexNormalsHelper=iu,t.SpotLightHelper=ou,t.SkeletonHelper=au,t.PointLightHelper=su,t.RectAreaLightHelper=lu,t.HemisphereLightHelper=uu,t.GridHelper=cu,t.PolarGridHelper=hu,t.FaceNormalsHelper=fu,t.DirectionalLightHelper=pu,t.CameraHelper=du,t.BoxHelper=vu,t.ArrowHelper=mu,t.AxisHelper=gu,t.CatmullRomCurve3=xu,t.CubicBezierCurve3=Au,t.QuadraticBezierCurve3=Su,t.LineCurve3=Tu,t.ArcCurve=Lu,t.EllipseCurve=Ns,t.SplineCurve=$s,t.CubicBezierCurve=Ds,t.QuadraticBezierCurve=Hs,t.LineCurve=Rs,t.Shape=Ys,t.Path=zs,t.ShapePath=Gs,t.Font=Bs,t.CurvePath=Os,t.Curve=js,t.ShapeUtils=ua,t.SceneUtils=Iu,t.WireframeGeometry=Bo,t.ParametricGeometry=ko,t.ParametricBufferGeometry=Vo,t.TetrahedronGeometry=qo,t.TetrahedronBufferGeometry=Ko,t.OctahedronGeometry=Zo,t.OctahedronBufferGeometry=Qo,t.IcosahedronGeometry=Jo,t.IcosahedronBufferGeometry=ta,t.DodecahedronGeometry=ea,t.DodecahedronBufferGeometry=na,t.PolyhedronGeometry=Wo,t.PolyhedronBufferGeometry=Xo,t.TubeGeometry=ra,t.TubeBufferGeometry=ia,t.TorusKnotGeometry=oa,t.TorusKnotBufferGeometry=aa,t.TorusGeometry=sa,t.TorusBufferGeometry=la,t.TextGeometry=ha,t.SphereGeometry=fa,t.SphereBufferGeometry=pa,t.RingGeometry=da,t.RingBufferGeometry=va,t.PlaneGeometry=Wi,t.PlaneBufferGeometry=Xi,t.LatheGeometry=ma,t.LatheBufferGeometry=ga,t.ShapeGeometry=ya,t.ShapeBufferGeometry=_a,t.ExtrudeGeometry=ca,t.EdgesGeometry=ba,t.ConeGeometry=xa,t.ConeBufferGeometry=Aa,t.CylinderGeometry=wa,t.CylinderBufferGeometry=Ea,t.CircleGeometry=Sa,t.CircleBufferGeometry=Ta,t.BoxGeometry=ki,t.BoxBufferGeometry=Vi,t.ShadowMaterial=Ia,t.SpriteMaterial=Io,t.RawShaderMaterial=Pa,t.ShaderMaterial=br,t.PointsMaterial=Do,t.MultiMaterial=Ma,t.MeshPhysicalMaterial=ja,t.MeshStandardMaterial=Ca,t.MeshPhongMaterial=Ra,t.MeshToonMaterial=Oa,t.MeshNormalMaterial=Na,t.MeshLambertMaterial=$a,t.MeshDepthMaterial=wr,t.MeshBasicMaterial=hi,t.LineDashedMaterial=Da,t.LineBasicMaterial=Oo,t.Material=_r,t.Float64BufferAttribute=wi,t.Float32BufferAttribute=bi,t.Uint32BufferAttribute=_i,t.Int32BufferAttribute=yi,t.Uint16BufferAttribute=gi,t.Int16BufferAttribute=mi,t.Uint8ClampedBufferAttribute=vi,t.Uint8BufferAttribute=di,t.Int8BufferAttribute=pi,t.BufferAttribute=fi,t.REVISION=Rt,t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},t.CullFaceNone=Ot,t.CullFaceBack=Nt,t.CullFaceFront=$t,t.CullFaceFrontBack=3,t.FrontFaceDirectionCW=Dt,t.FrontFaceDirectionCCW=1,t.BasicShadowMap=0,t.PCFShadowMap=X,t.PCFSoftShadowMap=$,t.FrontSide=w,t.BackSide=Ht,t.DoubleSide=Ut,t.FlatShading=Ft,t.SmoothShading=l,t.NoColors=zt,t.FaceColors=p,t.VertexColors=g,t.NoBlending=Yt,t.NormalBlending=Gt,t.AdditiveBlending=Bt,t.SubtractiveBlending=kt,t.MultiplyBlending=Vt,t.CustomBlending=Wt,t.AddEquation=Xt,t.SubtractEquation=qt,t.ReverseSubtractEquation=Kt,t.MinEquation=Zt,t.MaxEquation=Qt,t.ZeroFactor=Jt,t.OneFactor=te,t.SrcColorFactor=ee,t.OneMinusSrcColorFactor=ne,t.SrcAlphaFactor=re,t.OneMinusSrcAlphaFactor=ie,t.DstAlphaFactor=oe,t.OneMinusDstAlphaFactor=ae,t.DstColorFactor=se,t.OneMinusDstColorFactor=le,t.SrcAlphaSaturateFactor=ue,t.NeverDepth=ce,t.AlwaysDepth=he,t.LessDepth=fe,t.LessEqualDepth=pe,t.EqualDepth=de,t.GreaterEqualDepth=ve,t.GreaterDepth=me,t.NotEqualDepth=ge,t.MultiplyOperation=D,t.MixOperation=H,t.AddOperation=U,t.NoToneMapping=F,t.LinearToneMapping=ye,t.ReinhardToneMapping=z,t.Uncharted2ToneMapping=Y,t.CineonToneMapping=G,t.UVMapping=300,t.CubeReflectionMapping=B,t.CubeRefractionMapping=k,t.EquirectangularReflectionMapping=V,t.EquirectangularRefractionMapping=W,t.SphericalReflectionMapping=q,t.CubeUVReflectionMapping=K,t.CubeUVRefractionMapping=Z,t.RepeatWrapping=_e,t.ClampToEdgeWrapping=be,t.MirroredRepeatWrapping=we,t.NearestFilter=Ee,t.NearestMipMapNearestFilter=xe,t.NearestMipMapLinearFilter=Ae,t.LinearFilter=Se,t.LinearMipMapNearestFilter=Te,t.LinearMipMapLinearFilter=Le,t.UnsignedByteType=Ie,t.ByteType=Pe,t.ShortType=Me,t.UnsignedShortType=Ce,t.IntType=je,t.UnsignedIntType=Re,t.FloatType=Oe,t.HalfFloatType=Ne,t.UnsignedShort4444Type=$e,t.UnsignedShort5551Type=De,t.UnsignedShort565Type=He,t.UnsignedInt248Type=Ue,t.AlphaFormat=Fe,t.RGBFormat=ze,t.RGBAFormat=Ye,t.LuminanceFormat=Ge,t.LuminanceAlphaFormat=Be,t.RGBEFormat=u,t.DepthFormat=ke,t.DepthStencilFormat=Ve,t.RGB_S3TC_DXT1_Format=We,t.RGBA_S3TC_DXT1_Format=Xe,t.RGBA_S3TC_DXT3_Format=qe,t.RGBA_S3TC_DXT5_Format=Ke,t.RGB_PVRTC_4BPPV1_Format=Ze,t.RGB_PVRTC_2BPPV1_Format=Qe,t.RGBA_PVRTC_4BPPV1_Format=Je,t.RGBA_PVRTC_2BPPV1_Format=tn,t.RGB_ETC1_Format=en,t.LoopOnce=2200,t.LoopRepeat=c,t.LoopPingPong=2202,t.InterpolateDiscrete=h,t.InterpolateLinear=f,t.InterpolateSmooth=2302,t.ZeroCurvatureEnding=d,t.ZeroSlopeEnding=v,t.WrapAroundEnding=m,t.TrianglesDrawMode=nn,t.TriangleStripDrawMode=rn,t.TriangleFanDrawMode=on,t.LinearEncoding=y,t.sRGBEncoding=_,t.GammaEncoding=b,t.RGBEEncoding=E,t.LogLuvEncoding=3003,t.RGBM7Encoding=x,t.RGBM16Encoding=A,t.RGBDEncoding=S,t.BasicDepthPacking=T,t.RGBADepthPacking=L,t.CubeGeometry=ki,t.Face4=function(t,e,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new ci(t,e,n,i,o,a)},t.LineStrip=0,t.LinePieces=1,t.MeshFaceMaterial=function(t){return console.warn("THREE.MeshFaceMaterial has been renamed to THREE.MultiMaterial."),new Ma(t)},t.PointCloud=function(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ho(t,e)},t.Particle=function(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Po(t)},t.ParticleSystem=function(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ho(t,e)},t.PointCloudMaterial=function(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Do(t)},t.ParticleBasicMaterial=function(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Do(t)},t.ParticleSystemMaterial=function(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Do(t)},t.Vertex=function(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new ln(t,e,n)},t.DynamicBufferAttribute=function(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new fi(t,e).setDynamic(!0)},t.Int8Attribute=function(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new pi(t,e)},t.Uint8Attribute=function(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new di(t,e)},t.Uint8ClampedAttribute=function(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new vi(t,e)},t.Int16Attribute=function(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new mi(t,e)},t.Uint16Attribute=function(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new gi(t,e)},t.Int32Attribute=function(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new yi(t,e)},t.Uint32Attribute=function(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new _i(t,e)},t.Float32Attribute=function(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new bi(t,e)},t.Float64Attribute=function(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new wi(t,e)},t.ClosedSplineCurve3=Mu,t.SplineCurve3=Cu,t.Spline=ju,t.BoundingBoxHelper=function(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new vu(t,e)},t.EdgesHelper=function(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new $o(new ba(t.geometry),new Oo({color:void 0!==e?e:16777215}))},t.WireframeHelper=function(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new $o(new Bo(t.geometry),new Oo({color:void 0!==e?e:16777215}))},t.XHRLoader=function(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Ya(t)},t.BinaryTextureLoader=function(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Ba(t)},t.GeometryUtils=Ru,t.ImageUtils=Ou,t.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},t.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},Object.defineProperty(t,"__esModule",{value:!0})},"object"===(void 0===n?"undefined":_typeof(n))&&void 0!==e?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(r.THREE=r.THREE||{})},{}],2:[function(t,e,n){var i={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),t},addGetWebGLMessage:function(t){var e,n,r;e=void 0!==(t=t||{}).parent?t.parent:document.body,n=void 0!==t.id?t.id:"oldie",(r=i.getWebGLErrorMessage()).id=n,e.appendChild(r)}};"object"===(void 0===e?"undefined":_typeof(e))&&(e.exports=i)},{}],3:[function(t,e,n){THREE.StereoEffect=function(r){var i=new THREE.StereoCamera;i.aspect=.5,this.setEyeSeparation=function(t){i.eyeSep=t},this.setSize=function(t,e){r.setSize(t,e)},this.render=function(t,e){t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),i.update(e);var n=r.getSize();r.autoClear&&r.clear(),r.setScissorTest(!0),r.setScissor(0,0,n.width/2,n.height),r.setViewport(0,0,n.width/2,n.height),r.render(t,i.cameraL),r.setScissor(n.width/2,0,n.width/2,n.height),r.setViewport(n.width/2,0,n.width/2,n.height),r.render(t,i.cameraR),r.setScissorTest(!1)}}},{}],4:[function(t,e,n){THREE.MTLLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.MTLLoader.prototype={constructor:THREE.MTLLoader,load:function(t,e,n,r){var i=this,o=new THREE.FileLoader(this.manager);o.setPath(this.path),o.load(t,function(t){e(i.parse(t))},n,r)},setPath:function(t){this.path=t},setTexturePath:function(t){this.texturePath=t},setBaseUrl:function(t){console.warn("THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(t)},setCrossOrigin:function(t){this.crossOrigin=t},setMaterialOptions:function(t){this.materialOptions=t},parse:function(t){for(var e=t.split("\n"),n={},r=/\s+/,i={},o=0;o<e.length;o++){var a=e[o];if(0!==(a=a.trim()).length&&"#"!==a.charAt(0)){var s=a.indexOf(" "),l=0<=s?a.substring(0,s):a;l=l.toLowerCase();var u=0<=s?a.substring(s+1):"";if(u=u.trim(),"newmtl"===l)n={name:u},i[u]=n;else if(n)if("ka"===l||"kd"===l||"ks"===l){var c=u.split(r,3);n[l]=[parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2])]}else n[l]=u}}var h=new THREE.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return h.setCrossOrigin(this.crossOrigin),h.setManager(this.manager),h.setMaterials(i),h}},THREE.MTLLoader.MaterialCreator=function(t,e){this.baseUrl=t||"",this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,setCrossOrigin:function(t){this.crossOrigin=t},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var e={};for(var n in t){var r=t[n],i={};for(var o in e[n]=i,r){var a=!0,s=r[o],l=o.toLowerCase();switch(l){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(a=!1)}a&&(i[l]=s)}}return e},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){var a=this,e=this.materialsInfo[t],s={name:t,side:this.side};function n(t,e){if(!s[t]){var n,r,i=a.getTextureParams(e,s),o=a.loadTexture((n=a.baseUrl,"string"!=typeof(r=i.url)||""===r?"":/^https?:\/\//i.test(r)?r:n+r));o.repeat.copy(i.scale),o.offset.copy(i.offset),o.wrapS=a.wrap,o.wrapT=a.wrap,s[t]=o}}for(var r in e){var i=e[r];if(""!==i)switch(r.toLowerCase()){case"kd":s.color=(new THREE.Color).fromArray(i);break;case"ks":s.specular=(new THREE.Color).fromArray(i);break;case"map_kd":n("map",i);break;case"map_ks":n("specularMap",i);break;case"map_bump":case"bump":n("bumpMap",i);break;case"ns":s.shininess=parseFloat(i);break;case"d":i<1&&(s.opacity=i,s.transparent=!0);break;case"Tr":0<i&&(s.opacity=1-i,s.transparent=!0)}}return this.materials[t]=new THREE.MeshPhongMaterial(s),this.materials[t]},getTextureParams:function(t,e){var n,r={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},i=t.split(/\s+/);return 0<=(n=i.indexOf("-bm"))&&(e.bumpScale=parseFloat(i[n+1]),i.splice(n,2)),0<=(n=i.indexOf("-s"))&&(r.scale.set(parseFloat(i[n+1]),parseFloat(i[n+2])),i.splice(n,4)),0<=(n=i.indexOf("-o"))&&(r.offset.set(parseFloat(i[n+1]),parseFloat(i[n+2])),i.splice(n,4)),r.url=i.join(" ").trim(),r},loadTexture:function(t,e,n,r,i){var o,a=THREE.Loader.Handlers.get(t),s=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null===a&&(a=new THREE.TextureLoader(s)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin),o=a.load(t,n,r,i),void 0!==e&&(o.mapping=e),o}}},{}],5:[function(t,e,n){THREE.OBJLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}},THREE.OBJLoader.prototype={constructor:THREE.OBJLoader,load:function(t,e,n,r){var i=this,o=new THREE.FileLoader(i.manager);o.setPath(this.path),o.load(t,function(t){e(i.parse(t))},n,r)},setPath:function(t){this.path=t},setMaterials:function(t){this.materials=t},_createParserState:function(){var t={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(t,e){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var r={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&0<e.length?e[e.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:"number"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(r),r},currentMaterial:function(){if(0<this.materials.length)return this.materials[this.materials.length-1]},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&1<this.materials.length)for(var n=this.materials.length-1;0<=n;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},n&&n.name&&"function"==typeof n.clone){var r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var n=parseInt(t,10);return 3*(0<=n?n-1:n+e/3)},parseNormalIndex:function(t,e){var n=parseInt(t,10);return 3*(0<=n?n-1:n+e/3)},parseUVIndex:function(t,e){var n=parseInt(t,10);return 2*(0<=n?n-1:n+e/2)},addVertex:function(t,e,n){var r=this.vertices,i=this.object.geometry.vertices;i.push(r[t+0]),i.push(r[t+1]),i.push(r[t+2]),i.push(r[e+0]),i.push(r[e+1]),i.push(r[e+2]),i.push(r[n+0]),i.push(r[n+1]),i.push(r[n+2])},addVertexLine:function(t){var e=this.vertices,n=this.object.geometry.vertices;n.push(e[t+0]),n.push(e[t+1]),n.push(e[t+2])},addNormal:function(t,e,n){var r=this.normals,i=this.object.geometry.normals;i.push(r[t+0]),i.push(r[t+1]),i.push(r[t+2]),i.push(r[e+0]),i.push(r[e+1]),i.push(r[e+2]),i.push(r[n+0]),i.push(r[n+1]),i.push(r[n+2])},addUV:function(t,e,n){var r=this.uvs,i=this.object.geometry.uvs;i.push(r[t+0]),i.push(r[t+1]),i.push(r[e+0]),i.push(r[e+1]),i.push(r[n+0]),i.push(r[n+1])},addUVLine:function(t){var e=this.uvs,n=this.object.geometry.uvs;n.push(e[t+0]),n.push(e[t+1])},addFace:function(t,e,n,r,i,o,a,s,l,u,c,h){var f,p=this.vertices.length,d=this.parseVertexIndex(t,p),v=this.parseVertexIndex(e,p),m=this.parseVertexIndex(n,p);if(void 0===r?this.addVertex(d,v,m):(f=this.parseVertexIndex(r,p),this.addVertex(d,v,f),this.addVertex(v,m,f)),void 0!==i){var g=this.uvs.length;d=this.parseUVIndex(i,g),v=this.parseUVIndex(o,g),m=this.parseUVIndex(a,g),void 0===r?this.addUV(d,v,m):(f=this.parseUVIndex(s,g),this.addUV(d,v,f),this.addUV(v,m,f))}if(void 0!==l){var y=this.normals.length;d=this.parseNormalIndex(l,y),v=l===u?d:this.parseNormalIndex(u,y),m=l===c?d:this.parseNormalIndex(c,y),void 0===r?this.addNormal(d,v,m):(f=this.parseNormalIndex(h,y),this.addNormal(d,v,f),this.addNormal(v,m,f))}},addLineGeometry:function(t,e){this.object.geometry.type="Line";for(var n=this.vertices.length,r=this.uvs.length,i=0,o=t.length;i<o;i++)this.addVertexLine(this.parseVertexIndex(t[i],n));var a=0;for(o=e.length;a<o;a++)this.addUVLine(this.parseUVIndex(e[a],r))}};return t.startObject("",!1),t},parse:function(t){console.time("OBJLoader");var e=this._createParserState();-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));for(var n=t.split("\n"),r="",i="",o="",a=[],s="function"==typeof"".trimLeft,l=0,u=n.length;l<u;l++)if(r=n[l],0!==(r=s?r.trimLeft():r.trim()).length&&"#"!==(i=r.charAt(0)))if("v"===i)if(" "===(o=r.charAt(1))&&null!==(a=this.regexp.vertex_pattern.exec(r)))e.vertices.push(parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]));else if("n"===o&&null!==(a=this.regexp.normal_pattern.exec(r)))e.normals.push(parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]));else{if("t"!==o||null===(a=this.regexp.uv_pattern.exec(r)))throw new Error("Unexpected vertex/normal/uv line: '"+r+"'");e.uvs.push(parseFloat(a[1]),parseFloat(a[2]))}else if("f"===i)if(null!==(a=this.regexp.face_vertex_uv_normal.exec(r)))e.addFace(a[1],a[4],a[7],a[10],a[2],a[5],a[8],a[11],a[3],a[6],a[9],a[12]);else if(null!==(a=this.regexp.face_vertex_uv.exec(r)))e.addFace(a[1],a[3],a[5],a[7],a[2],a[4],a[6],a[8]);else if(null!==(a=this.regexp.face_vertex_normal.exec(r)))e.addFace(a[1],a[3],a[5],a[7],void 0,void 0,void 0,void 0,a[2],a[4],a[6],a[8]);else{if(null===(a=this.regexp.face_vertex.exec(r)))throw new Error("Unexpected face line: '"+r+"'");e.addFace(a[1],a[2],a[3],a[4])}else if("l"===i){var c=r.substring(1).trim().split(" "),h=[],f=[];if(-1===r.indexOf("/"))h=c;else for(var p=0,d=c.length;p<d;p++){var v=c[p].split("/");""!==v[0]&&h.push(v[0]),""!==v[1]&&f.push(v[1])}e.addLineGeometry(h,f)}else if(null!==(a=this.regexp.object_pattern.exec(r))){var m=(" "+a[0].substr(1).trim()).substr(1);e.startObject(m)}else if(this.regexp.material_use_pattern.test(r))e.object.startMaterial(r.substring(7).trim(),e.materialLibraries);else if(this.regexp.material_library_pattern.test(r))e.materialLibraries.push(r.substring(7).trim());else{if(null===(a=this.regexp.smoothing_pattern.exec(r))){if("\0"===r)continue;throw new Error("Unexpected line: '"+r+"'")}var g=a[1].trim().toLowerCase();e.object.smooth="1"===g||"on"===g,(P=e.object.currentMaterial())&&(P.smooth=e.object.smooth)}e.finalize();var y=new THREE.Group;y.materialLibraries=[].concat(e.materialLibraries);for(l=0,u=e.objects.length;l<u;l++){var _=e.objects[l],b=_.geometry,w=_.materials,E="Line"===b.type;if(0!==b.vertices.length){var x=new THREE.BufferGeometry;x.addAttribute("position",new THREE.BufferAttribute(new Float32Array(b.vertices),3)),0<b.normals.length?x.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(b.normals),3)):x.computeVertexNormals(),0<b.uvs.length&&x.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(b.uvs),2));for(var A,S=[],T=0,L=w.length;T<L;T++){var I=w[T],P=void 0;if(null!==this.materials&&(P=this.materials.create(I.name),E&&P&&!(P instanceof THREE.LineBasicMaterial))){var M=new THREE.LineBasicMaterial;M.copy(P),P=M}P||((P=E?new THREE.LineBasicMaterial:new THREE.MeshPhongMaterial).name=I.name),P.shading=I.smooth?THREE.SmoothShading:THREE.FlatShading,S.push(P)}if(1<S.length){for(T=0,L=w.length;T<L;T++){I=w[T];x.addGroup(I.groupStart,I.groupCount,T)}var C=new THREE.MultiMaterial(S);A=E?new THREE.LineSegments(x,C):new THREE.Mesh(x,C)}else A=E?new THREE.LineSegments(x,S[0]):new THREE.Mesh(x,S[0]);A.name=_.name,y.add(A)}}return console.timeEnd("OBJLoader"),y}}},{}],6:[function(t,e,n){THREE.RenderableObject=function(){this.id=0,this.object=null,this.z=0,this.renderOrder=0},THREE.RenderableFace=function(){this.id=0,this.v1=new THREE.RenderableVertex,this.v2=new THREE.RenderableVertex,this.v3=new THREE.RenderableVertex,this.normalModel=new THREE.Vector3,this.vertexNormalsModel=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],this.vertexNormalsLength=0,this.color=new THREE.Color,this.material=null,this.uvs=[new THREE.Vector2,new THREE.Vector2,new THREE.Vector2],this.z=0,this.renderOrder=0},THREE.RenderableVertex=function(){this.position=new THREE.Vector3,this.positionWorld=new THREE.Vector3,this.positionScreen=new THREE.Vector4,this.visible=!0},THREE.RenderableVertex.prototype.copy=function(t){this.positionWorld.copy(t.positionWorld),this.positionScreen.copy(t.positionScreen)},THREE.RenderableLine=function(){this.id=0,this.v1=new THREE.RenderableVertex,this.v2=new THREE.RenderableVertex,this.vertexColors=[new THREE.Color,new THREE.Color],this.material=null,this.z=0,this.renderOrder=0},THREE.RenderableSprite=function(){this.id=0,this.object=null,this.x=0,this.y=0,this.z=0,this.rotation=0,this.scale=new THREE.Vector2,this.material=null,this.renderOrder=0},THREE.Projector=function(){var K,Z,i,Q,J,tt,et,nt,rt,it,ot,at=[],st=0,lt=[],e=0,n=[],r=0,o=[],a=0,s=[],l=0,ut={objects:[],lights:[],elements:[]},ct=new THREE.Vector3,ht=new THREE.Vector4,v=new THREE.Box3(new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,1,1)),m=new THREE.Box3,g=new Array(3),ft=(new Array(4),new THREE.Matrix4),pt=new THREE.Matrix4,dt=new THREE.Matrix4,vt=new THREE.Matrix3,mt=new THREE.Frustum,gt=new THREE.Vector4,yt=new THREE.Vector4;this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(t,e){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")};var _t=new function(){var l=[],u=[],c=null,h=null,f=new THREE.Matrix3;function r(t){var e=t.position,n=t.positionWorld,r=t.positionScreen;n.copy(e).applyMatrix4(ot),r.copy(n).applyMatrix4(pt);var i=1/r.w;r.x*=i,r.y*=i,r.z*=i,t.visible=-1<=r.x&&r.x<=1&&-1<=r.y&&r.y<=1&&-1<=r.z&&r.z<=1}function p(t,e,n){return!0===t.visible||!0===e.visible||!0===n.visible||(g[0]=t.positionScreen,g[1]=e.positionScreen,g[2]=n.positionScreen,v.intersectsBox(m.setFromPoints(g)))}function d(t,e,n){return(n.positionScreen.x-t.positionScreen.x)*(e.positionScreen.y-t.positionScreen.y)-(n.positionScreen.y-t.positionScreen.y)*(e.positionScreen.x-t.positionScreen.x)<0}return{setObject:function(t){h=(c=t).material,f.getNormalMatrix(c.matrixWorld),l.length=0,u.length=0},projectVertex:r,checkTriangleVisibility:p,checkBackfaceCulling:d,pushVertex:function(t,e,n){(i=bt()).position.set(t,e,n),r(i)},pushNormal:function(t,e,n){l.push(t,e,n)},pushUv:function(t,e){u.push(t,e)},pushLine:function(t,e){var n=lt[t],r=lt[e];(et=Et()).id=c.id,et.v1.copy(n),et.v2.copy(r),et.z=(n.positionScreen.z+r.positionScreen.z)/2,et.renderOrder=c.renderOrder,et.material=c.material,ut.elements.push(et)},pushTriangle:function(t,e,n){var r=lt[t],i=lt[e],o=lt[n];if(!1!==p(r,i,o)&&(h.side===THREE.DoubleSide||!0===d(r,i,o))){(J=wt()).id=c.id,J.v1.copy(r),J.v2.copy(i),J.v3.copy(o),J.z=(r.positionScreen.z+i.positionScreen.z+o.positionScreen.z)/3,J.renderOrder=c.renderOrder,J.normalModel.fromArray(l,3*t),J.normalModel.applyMatrix3(f).normalize();for(var a=0;a<3;a++){var s=J.vertexNormalsModel[a];s.fromArray(l,3*arguments[a]),s.applyMatrix3(f).normalize(),J.uvs[a].fromArray(u,2*arguments[a])}J.vertexNormalsLength=3,J.material=c.material,ut.elements.push(J)}}}};function bt(){if(Q===e){var t=new THREE.RenderableVertex;return lt.push(t),e++,Q++,t}return lt[Q++]}function wt(){if(tt===r){var t=new THREE.RenderableFace;return n.push(t),r++,tt++,t}return n[tt++]}function Et(){if(nt===a){var t=new THREE.RenderableLine;return o.push(t),a++,nt++,t}return o[nt++]}function xt(){if(it===l){var t=new THREE.RenderableSprite;return s.push(t),l++,it++,t}return s[it++]}function At(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id!==e.id?t.id-e.id:0}function St(t,e){var n=0,r=1,i=t.z+t.w,o=e.z+e.w,a=-t.z+t.w,s=-e.z+e.w;return 0<=i&&0<=o&&0<=a&&0<=s||!(i<0&&o<0||a<0&&s<0)&&(i<0?n=Math.max(n,i/(i-o)):o<0&&(r=Math.min(r,i/(i-o))),a<0?n=Math.max(n,a/(a-s)):s<0&&(r=Math.min(r,a/(a-s))),!(r<n)&&(t.lerp(e,n),e.lerp(t,1-r),!0))}this.projectScene=function(t,e,n,r){function i(t){(K=function(){if(Z===st){var t=new THREE.RenderableObject;return at.push(t),st++,Z++,t}return at[Z++]}()).id=t.id,K.object=t,ct.setFromMatrixPosition(t.matrixWorld),ct.applyMatrix4(pt),K.z=ct.z,K.renderOrder=t.renderOrder,ut.objects.push(K)}it=nt=tt=0,!(ut.elements.length=0)===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),ft.copy(e.matrixWorldInverse.getInverse(e.matrixWorld)),pt.multiplyMatrices(e.projectionMatrix,ft),mt.setFromMatrix(pt),Z=0,ut.objects.length=0,ut.lights.length=0,t.traverseVisible(function(t){if(t instanceof THREE.Light)ut.lights.push(t);else if(t instanceof THREE.Mesh||t instanceof THREE.Line){if(!1===t.material.visible)return;if(!0===t.frustumCulled&&!1===mt.intersectsObject(t))return;i(t)}else if(t instanceof THREE.Sprite){if(!1===t.material.visible)return;if(!0===t.frustumCulled&&!1===mt.intersectsSprite(t))return;i(t)}}),!0===n&&ut.objects.sort(At);for(var o=0,a=ut.objects.length;o<a;o++){var s=ut.objects[o].object,l=s.geometry;if(_t.setObject(s),ot=s.matrixWorld,Q=0,s instanceof THREE.Mesh){if(l instanceof THREE.BufferGeometry){var u=l.attributes,c=l.groups;if(void 0===u.position)continue;for(var h=0,f=(W=u.position.array).length;h<f;h+=3)_t.pushVertex(W[h],W[h+1],W[h+2]);if(void 0!==u.normal){var p=u.normal.array;for(h=0,f=p.length;h<f;h+=3)_t.pushNormal(p[h],p[h+1],p[h+2])}if(void 0!==u.uv){var d=u.uv.array;for(h=0,f=d.length;h<f;h+=2)_t.pushUv(d[h],d[h+1])}if(null!==l.index){var v=l.index.array;if(0<c.length)for(var m=0;m<c.length;m++){var g=c[m];for(h=g.start,f=g.start+g.count;h<f;h+=3)_t.pushTriangle(v[h],v[h+1],v[h+2])}else for(h=0,f=v.length;h<f;h+=3)_t.pushTriangle(v[h],v[h+1],v[h+2])}else for(h=0,f=W.length/3;h<f;h+=3)_t.pushTriangle(h,h+1,h+2)}else if(l instanceof THREE.Geometry){var y=l.vertices,_=l.faces,b=l.faceVertexUvs[0];vt.getNormalMatrix(ot);for(var w=s.material,E=w instanceof THREE.MultiMaterial,x=!0===E?s.material:null,A=0,S=y.length;A<S;A++){var T=y[A];if(ct.copy(T),!0===w.morphTargets)for(var L=l.morphTargets,I=s.morphTargetInfluences,P=0,M=L.length;P<M;P++){var C=I[P];if(0!==C){var j=L[P].vertices[A];ct.x+=(j.x-T.x)*C,ct.y+=(j.y-T.y)*C,ct.z+=(j.z-T.z)*C}}_t.pushVertex(ct.x,ct.y,ct.z)}for(var R=0,O=_.length;R<O;R++){var N=_[R];if(void 0!==(w=!0===E?x.materials[N.materialIndex]:s.material)){var $=w.side,D=lt[N.a],H=lt[N.b],U=lt[N.c];if(!1!==_t.checkTriangleVisibility(D,H,U)){var F=_t.checkBackfaceCulling(D,H,U);if($!==THREE.DoubleSide){if($===THREE.FrontSide&&!1===F)continue;if($===THREE.BackSide&&!0===F)continue}(J=wt()).id=s.id,J.v1.copy(D),J.v2.copy(H),J.v3.copy(U),J.normalModel.copy(N.normal),!1!==F||$!==THREE.BackSide&&$!==THREE.DoubleSide||J.normalModel.negate(),J.normalModel.applyMatrix3(vt).normalize();for(var z=N.vertexNormals,Y=0,G=Math.min(z.length,3);Y<G;Y++){var B=J.vertexNormalsModel[Y];B.copy(z[Y]),!1!==F||$!==THREE.BackSide&&$!==THREE.DoubleSide||B.negate(),B.applyMatrix3(vt).normalize()}J.vertexNormalsLength=z.length;var k=b[R];if(void 0!==k)for(var V=0;V<3;V++)J.uvs[V].copy(k[V]);J.color=N.color,J.material=w,J.z=(D.positionScreen.z+H.positionScreen.z+U.positionScreen.z)/3,J.renderOrder=s.renderOrder,ut.elements.push(J)}}}}}else if(s instanceof THREE.Line){if(l instanceof THREE.BufferGeometry){if(void 0!==(u=l.attributes).position){var W;for(h=0,f=(W=u.position.array).length;h<f;h+=3)_t.pushVertex(W[h],W[h+1],W[h+2]);if(null!==l.index)for(h=0,f=(v=l.index.array).length;h<f;h+=2)_t.pushLine(v[h],v[h+1]);else{var X=s instanceof THREE.LineSegments?2:1;for(h=0,f=W.length/3-1;h<f;h+=X)_t.pushLine(h,h+1)}}}else if(l instanceof THREE.Geometry){if(dt.multiplyMatrices(pt,ot),0===(y=s.geometry.vertices).length)continue;(D=bt()).positionScreen.copy(y[0]).applyMatrix4(dt);for(X=s instanceof THREE.LineSegments?2:1,A=1,S=y.length;A<S;A++)(D=bt()).positionScreen.copy(y[A]).applyMatrix4(dt),0<(A+1)%X||(H=lt[Q-2],gt.copy(D.positionScreen),yt.copy(H.positionScreen),!0===St(gt,yt)&&(gt.multiplyScalar(1/gt.w),yt.multiplyScalar(1/yt.w),(et=Et()).id=s.id,et.v1.positionScreen.copy(gt),et.v2.positionScreen.copy(yt),et.z=Math.max(gt.z,yt.z),et.renderOrder=s.renderOrder,et.material=s.material,s.material.vertexColors===THREE.VertexColors&&(et.vertexColors[0].copy(s.geometry.colors[A]),et.vertexColors[1].copy(s.geometry.colors[A-1])),ut.elements.push(et)))}}else if(s instanceof THREE.Sprite){ht.set(ot.elements[12],ot.elements[13],ot.elements[14],1),ht.applyMatrix4(pt);var q=1/ht.w;ht.z*=q,-1<=ht.z&&ht.z<=1&&((rt=xt()).id=s.id,rt.x=ht.x*q,rt.y=ht.y*q,rt.z=ht.z,rt.renderOrder=s.renderOrder,rt.object=s,rt.rotation=s.rotation,rt.scale.x=s.scale.x*Math.abs(rt.x-(ht.x+e.projectionMatrix.elements[0])/(ht.w+e.projectionMatrix.elements[12])),rt.scale.y=s.scale.y*Math.abs(rt.y-(ht.y+e.projectionMatrix.elements[5])/(ht.w+e.projectionMatrix.elements[13])),rt.material=s.material,ut.elements.push(rt))}}return!0===r&&ut.elements.sort(At),ut}}},{}],7:[function(t,e,n){THREE.SoftwareRenderer=function(t){console.log("THREE.SoftwareRenderer",THREE.REVISION);var Ee,xe,Ae,D,Se,Te,Le,Ie,Pe,Me,H,Ce,je,U,Re,Oe,F=void 0!==(t=t||{}).canvas?t.canvas:document.createElement("canvas"),z=F.getContext("2d",{alpha:!0===t.alpha}),Y=t.alpha,o={},A={},G=new THREE.Color(0),Ne=1,$e=2,De=4,He=(1<<De)-1,Ue=3,Fe=1<<Ue,B=1<<24,k=!1,V=new THREE.Vector3(0,0,1),W=new THREE.Vector3,ze=1/0,Ye=1/0,Ge=0,Be=0,v=1/0,m=1/0,g=0,y=0,_=new THREE.Projector,b=new THREE.Vector4,w=new THREE.Vector4,E=new THREE.Vector4,x=new THREE.Vector2,S=new THREE.Vector2,T=new THREE.Vector2,ke=[],Ve=0,We=[],Xe=0,qe=[],Ke=0;function X(t){for(var e=Ee*xe*4,n=0;n<e;n+=4)Ce[n]=255*t.r|0,Ce[n+1]=255*t.g|0,Ce[n+2]=255*t.b|0,Ce[n+3]=Y?0:255;z.fillStyle=Y?"rgba(0, 0, 0, 0)":t.getStyle(),z.fillRect(0,0,Ee,xe)}function a(t,e){var n=0,r=0,i=255*t.color.r,o=255*t.color.g,a=255*t.color.b,s=new Uint8Array(768);if(e){for(;n<204;)s[r++]=Math.min(n*i/204,255),s[r++]=Math.min(n*o/204,255),s[r++]=Math.min(n*a/204,255),++n;for(;n<256;)s[r++]=Math.min(i+(n-204)*(255-i)/82,255),s[r++]=Math.min(o+(n-204)*(255-o)/82,255),s[r++]=Math.min(a+(n-204)*(255-a)/82,255),++n}else for(;n<256;)s[r++]=Math.min(n*i/255,255),s[r++]=Math.min(n*o/255,255),s[r++]=Math.min(n*a/255,255),++n;return s}function s(t,e,n,r,i,o,a,s,l){var u=4*n,c=A[l.map.id];if(c.data){var h=c.width,f=l.transparent,p=h-1,d=c.data,v=4*((o*h&p)*h+(i*h&p));if(f){var m=d[v],g=d[v+1],y=d[v+2],_=d[v+3]*l.opacity/255,b=t[u],w=t[u+1],E=t[u+2];t[u]=m*_+b*(1-_),t[u+1]=g*_+w*(1-_),t[u+2]=y*_+E*(1-_),t[u+3]=(l.opacity<<8)-1,255==t[u+3]&&(e[n]=r)}else t[u]=d[v],t[u+1]=d[v+1],t[u+2]=d[v+2],t[u+3]=(l.opacity<<8)-1,e[n]=r}}function l(t,e,n,r,i,o,a,s,l){var u=4*n,c=A[l.map.id];if(c.data){var h=c.width,f=l.transparent,p=3*(0<a?~~a:0),d=h-1,v=c.data,m=4*((o*h&d)*h+(i*h&d));if(f){var g=l.palette[p]*v[m],y=l.palette[p+1]*v[m+1],_=l.palette[p+2]*v[m+2],b=v[m+3]*l.opacity/256,w=t[u],E=t[u+1],x=t[u+2];t[u]=g*b+w*(1-b),t[u+1]=y*b+E*(1-b),t[u+2]=_*b+x*(1-b),t[u+3]=(l.opacity<<8)-1,255==t[u+3]&&(e[n]=r)}else t[u]=l.palette[p]*v[m]>>8,t[u+1]=l.palette[p+1]*v[m+1]>>8,t[u+2]=l.palette[p+2]*v[m+2]>>8,t[u+3]=(l.opacity<<8)-1,e[n]=r}}function u(t){var e=t.target;e.removeEventListener("update",u),delete o[e.id]}function L(t){var e=t.id,n=o[e];if(n&&t.map&&!A[t.map.id]&&delete o[e],void 0===o[e]){if(t.addEventListener("update",u),t instanceof THREE.MeshBasicMaterial||t instanceof THREE.MeshLambertMaterial||t instanceof THREE.MeshPhongMaterial||t instanceof THREE.SpriteMaterial)if(t instanceof THREE.MeshLambertMaterial?t.palette||(t.palette=a(t,!1)):t instanceof THREE.MeshPhongMaterial&&(t.palette||(t.palette=a(t,!0))),t.map){var r=new THREE.SoftwareRenderer.Texture;if(r.fromImage(t.map.image),!r.data)return;A[t.map.id]=r,n=t instanceof THREE.MeshBasicMaterial||t instanceof THREE.SpriteMaterial?s:l}else i=t.vertexColors===THREE.FaceColors?["var colorOffset = offset * 4;","buffer[ colorOffset ] = face.color.r * 255;","buffer[ colorOffset + 1 ] = face.color.g * 255;","buffer[ colorOffset + 2 ] = face.color.b * 255;","buffer[ colorOffset + 3 ] = material.opacity * 255;","depthBuf[ offset ] = depth;"].join("\n"):["var colorOffset = offset * 4;","buffer[ colorOffset ] = material.color.r * 255;","buffer[ colorOffset + 1 ] = material.color.g * 255;","buffer[ colorOffset + 2 ] = material.color.b * 255;","buffer[ colorOffset + 3 ] = material.opacity * 255;","depthBuf[ offset ] = depth;"].join("\n"),n=new Function("buffer, depthBuf, offset, depth, u, v, n, face, material",i);else if(t instanceof THREE.LineBasicMaterial){var i=["var colorOffset = offset * 4;","buffer[ colorOffset ] = material.color.r * (color1.r+color2.r) * 0.5 * 255;","buffer[ colorOffset + 1 ] = material.color.g * (color1.g+color2.g) * 0.5 * 255;","buffer[ colorOffset + 2 ] = material.color.b * (color1.b+color2.b) * 0.5 * 255;","buffer[ colorOffset + 3 ] = 255;","depthBuf[ offset ] = depth;"].join("\n");n=new Function("buffer, depthBuf, offset, depth, color1, color2, material",i)}else{i=["var colorOffset = offset * 4;","buffer[ colorOffset ] = u * 255;","buffer[ colorOffset + 1 ] = v * 255;","buffer[ colorOffset + 2 ] = 0;","buffer[ colorOffset + 3 ] = 255;","depthBuf[ offset ] = depth;"].join("\n");n=new Function("buffer, depthBuf, offset, depth, u, v, n, face, material",i)}o[e]=n}return n}function Ze(t,e,n,r,i,o,a,s,l){if(!(t.z<-1||1<t.z||e.z<-1||1<e.z||n.z<-1||1<n.z)){var u=1<<De,c=t.x*Se+Ie|0,h=e.x*Se+Ie|0,f=n.x*Se+Ie|0,p=t.y*Te+Pe|0,d=e.y*Te+Pe|0,v=n.y*Te+Pe|0,m=s.vertexNormalsModel&&s.vertexNormalsModel.length,g=r&&i&&o,y=Math.max(Math.sqrt((c-h)*(c-h)+(p-d)*(p-d)),Math.sqrt((h-f)*(h-f)+(d-v)*(d-v)),Math.sqrt((f-c)*(f-c)+(v-p)*(v-p)));if(!(s instanceof THREE.RenderableSprite)&&100*u<y){var _,b,w,E,x,A,S,T,L,I,P={vertexNormalsModel:[],color:s.color};if(g)Ke===qe.length?(_=new THREE.Vector2,qe.push(_),++Ke,b=new THREE.Vector2,qe.push(b),++Ke,w=new THREE.Vector2,qe.push(w)):(_=qe[Ke],b=qe[++Ke],w=qe[++Ke]),++Ke,E=(1+e.z)*(e.w/t.w)/(1+t.z),_.copy(r).multiplyScalar(E).add(i).multiplyScalar(1/(E+1)),E=(1+n.z)*(n.w/e.w)/(1+e.z),b.copy(i).multiplyScalar(E).add(o).multiplyScalar(1/(E+1)),E=(1+t.z)*(t.w/n.w)/(1+n.z),w.copy(o).multiplyScalar(E).add(r).multiplyScalar(1/(E+1));return Ve===ke.length?(x=new THREE.Vector4,ke.push(x),++Ve,A=new THREE.Vector4,ke.push(A),++Ve,S=new THREE.Vector4,ke.push(S)):(x=ke[Ve],A=ke[++Ve],S=ke[++Ve]),++Ve,x.copy(t).add(e).multiplyScalar(.5),A.copy(e).add(n).multiplyScalar(.5),S.copy(n).add(t).multiplyScalar(.5),m&&(Xe===We.length?(T=new THREE.Vector3,We.push(T),++Xe,L=new THREE.Vector3,We.push(L),++Xe,I=new THREE.Vector3,We.push(I)):(T=We[Xe],L=We[++Xe],I=We[++Xe]),++Xe,T.copy(s.vertexNormalsModel[0]).add(s.vertexNormalsModel[1]).normalize(),L.copy(s.vertexNormalsModel[1]).add(s.vertexNormalsModel[2]).normalize(),I.copy(s.vertexNormalsModel[2]).add(s.vertexNormalsModel[0]).normalize()),m&&(P.vertexNormalsModel[0]=s.vertexNormalsModel[0],P.vertexNormalsModel[1]=T,P.vertexNormalsModel[2]=I),Ze(t,x,S,r,_,w,a,P,l),m&&(P.vertexNormalsModel[0]=s.vertexNormalsModel[1],P.vertexNormalsModel[1]=L,P.vertexNormalsModel[2]=T),Ze(e,A,x,i,b,_,a,P,l),m&&(P.vertexNormalsModel[0]=T,P.vertexNormalsModel[1]=L,P.vertexNormalsModel[2]=I),Ze(x,A,S,_,b,w,a,P,l),m&&(P.vertexNormalsModel[0]=s.vertexNormalsModel[2],P.vertexNormalsModel[1]=I,P.vertexNormalsModel[2]=L),void Ze(n,S,A,o,w,b,a,P,l)}var M,C,j,R,O,N,$,D,H,U,F,z,Y=t.z*Le+Me|0,G=e.z*Le+Me|0,B=n.z*Le+Me|0;g=!1;r&&i&&o&&(g=!0,M=r.x,C=1-r.y,j=i.x,R=1-i.y,O=o.x,N=1-o.y),m&&($=s.vertexNormalsModel[0],D=s.vertexNormalsModel[1],H=s.vertexNormalsModel[2],U=255*$.z,F=255*D.z,z=255*H.z);var k=c-h,V=d-p,W=h-f,X=v-d,q=f-c,K=p-v,Z=Math.max(Math.min(c,h,f)+He>>De,0),Q=Math.min(Math.max(c,h,f)+He>>De,Ee),J=Math.max(Math.min(p,d,v)+He>>De,0),tt=Math.min(Math.max(p,d,v)+He>>De,xe);ze=Math.min(Z,ze),Ge=Math.max(Q,Ge),Ye=Math.min(J,Ye),Be=Math.max(tt,Be);var et=Fe,nt=(Z&=~(et-1))<<De,rt=(J&=~(et-1))<<De,it=V*(nt-c)+k*(rt-p),ot=X*(nt-h)+W*(rt-d),at=K*(nt-f)+q*(rt-v);(0<V||0==V&&0<k)&&it++,(0<X||0==X&&0<W)&&ot++,(0<K||0==K&&0<q)&&at++;var st,lt,ut,ct,ht,ft=Y-G,pt=B-Y,dt=1/(k*K-q*V),vt=dt*(ft*K-pt*V),mt=dt*(ft*q-k*pt),gt=Y+(nt-c)*vt+(rt-p)*mt|0;if(g){var yt=M-j,_t=O-M,bt=dt*(yt*K-_t*V),wt=dt*(yt*q-k*_t),Et=C-R,xt=N-C;ut=M+(nt-c)*bt+(rt-p)*wt,ct=C+(nt-c)*(st=dt*(Et*K-xt*V))+(rt-p)*(lt=dt*(Et*q-k*xt)),bt*=u,wt*=u,st*=u,lt*=u}if(m){var At,St=U-F,Tt=z-U,Lt=dt*(St*K-Tt*V);ht=U+(nt-c)*Lt+(rt-p)*(At=dt*(St*q-k*Tt)),Lt*=u,At*=u}var It=et-1,Pt=0,Mt=0,Ct=0,jt=0,Rt=0,Ot=0,Nt=0,$t=0;0<=k?Mt-=It*k:Pt-=It*k,0<=V?Mt-=It*V:Pt-=It*V,0<=W?jt-=It*W:Ct-=It*W,0<=X?jt-=It*X:Ct-=It*X,0<=q?Ot-=It*q:Rt-=It*q,0<=K?Ot-=It*K:Rt-=It*K,0<=(vt=vt*u|0)?$t+=It*vt:Nt+=It*vt,0<=(mt=mt*u|0)?$t+=It*mt:Nt+=It*mt;var Dt,Ht,Ut,Ft=Ee-et,zt=it=it-1>>De,Yt=ot=ot-1>>De,Gt=at=at-1>>De,Bt=gt,kt=-et,Vt=kt*V,Wt=kt*X,Xt=kt*K,qt=kt*vt;g&&(Dt=kt*bt,Ht=kt*st),m&&(Ut=kt*Lt);for(var Kt=Z,Zt=J;Zt<tt;Zt+=et){for(;Z<=Kt&&Kt<Q&&Mt<=zt&&jt<=Yt&&Ot<=Gt;)Kt+=kt,zt+=Vt,Yt+=Wt,Gt+=Xt,Bt+=qt,g&&(ut+=Dt,ct+=Ht),m&&(ht+=Ut);for(kt=-kt,Vt=-Vt,Wt=-Wt,Xt=-Xt,qt=-qt,g&&(Dt=-Dt,Ht=-Ht),m&&(Ut=-Ut);zt+=Vt,Yt+=Wt,Gt+=Xt,Bt+=qt,g&&(ut+=Dt,ct+=Ht),m&&(ht+=Ut),!((Kt+=kt)<Z||Q<=Kt);)if(zt<Mt){if(Vt<0)break}else if(Yt<jt){if(Wt<0)break}else if(Gt<Ot){if(Xt<0)break}else{var Qt=Kt>>Ue,Jt=Zt>>Ue,te=Qt+Jt*Ae,ee=Bt+Nt;if(!(Re[te]<ee)){var ne=Oe[te];ne&$e&&Qe(Qt,Jt),Oe[te]=ne&~(Ne|$e);var re=Kt+Zt*Ee;if(Pt<=zt&&Ct<=Yt&&Rt<=Gt){var ie=Bt+$t;Re[te]=Math.min(Re[te],ie);var oe=zt,ae=Yt,se=Bt;g&&(pe=ut,de=ct),m&&(ve=ht);for(var le=0;le<et;le++){var ue=oe,ce=ae,he=se;g&&(ge=pe,ye=de),m&&(_e=ve);for(var fe=0;fe<et;fe++){(we=he)<je[re]&&a(Ce,je,re,we,ge,ye,_e,s,l),ue+=V,ce+=X,he+=vt,g&&(ge+=bt,ye+=st),m&&(_e+=Lt),re++}oe+=k,ae+=W,se+=mt,g&&(pe+=wt,de+=lt),m&&(ve+=At),re+=Ft}}else{oe=zt,ae=Yt;var pe,de,ve,me=Gt;se=Bt;g&&(pe=ut,de=ct),m&&(ve=ht);for(le=0;le<et;le++){ue=oe,ce=ae;var ge,ye,_e,be=me;he=se;g&&(ge=pe,ye=de),m&&(_e=ve);for(fe=0;fe<et;fe++){var we;if(0<=(ue|ce|be))(we=he)<je[re]&&a(Ce,je,re,we,ge,ye,_e,s,l);ue+=V,ce+=X,be+=K,he+=vt,g&&(ge+=bt,ye+=st),m&&(_e+=Lt),re++}oe+=k,ae+=W,me+=q,se+=mt,g&&(pe+=wt,de+=lt),m&&(ve+=At),re+=Ft}}}}zt+=et*k,Yt+=et*W,Gt+=et*q,Bt+=et*mt,g&&(ut+=et*wt,ct+=et*lt),m&&(ht+=et*At)}}}function I(t,e,n,r,i,o){if(k||(k=!0,Fe=1<<(Ue=0),function(t,e){Ae=Math.floor(t/Fe),D=Math.floor(e/Fe);var n=1<<De;Te=-n*(xe=D*Fe)/2,Ie=.5+(Se=n*(Ee=Ae*Fe)/2),Pe=n*xe/2+.5,Me=.5+(Le=B/2),F.width=Ee,F.height=xe,z.fillStyle=Y?"rgba(0, 0, 0, 0)":G.getStyle(),z.fillRect(0,0,Ee,xe),H=z.getImageData(0,0,Ee,xe),Ce=H.data,je=new Int32Array(Ce.length/4),U=Ae*D,Re=new Int32Array(U),Oe=new Uint8Array(U);for(var r=0,i=je.length;r<i;r++)je[r]=B;for(r=0;r<U;r++)Oe[r]=Ne;X(G)}(F.width,F.height)),!(t.z<-1||1<t.z||e.z<-1||1<e.z)){var a=Math.floor(.5*(o.linewidth-1)),s=t.x*Se+Ie|0,l=e.x*Se+Ie|0,u=t.y*Te+Pe|0,c=e.y*Te+Pe|0,h=t.z*Le+Me|0,f=e.z*Le+Me|0,p=s-l,d=u-c,v=h-f,m=Math.max(Math.min(s,l)+He>>De,0),g=Math.min(Math.max(s,l)+He>>De,Ee),y=Math.max(Math.min(u,c)+He>>De,0),_=Math.min(Math.max(u,c)+He>>De,xe),b=Math.max(Math.min(h,f)+He>>De,0),w=Math.max(h,f)+He>>De;ze=Math.min(m,ze),Ge=Math.max(g,Ge),Ye=Math.min(y,Ye),Be=Math.max(_,Be);var E,x,A,S,T,L=Math.sqrt(d*d+p*p),I=p/L,P=d/L,M=v/L;for(W.set(I,P,M),W.cross(V),W.normalize();0<L;){E=(E=l+L*I)+He>>De,x=(x=c+L*P)+He>>De,T=f+L*M+He>>De;for(var C=-a;C<=a;++C)if(A=Math.floor(E+W.x*C),S=Math.floor(x+W.y*C),!(A<=ze||Ge<=A||S<=Ye||Be<=S)){var j=A>>Ue,R=S>>Ue,O=j+R*Ae;if(!(Re[O]<b)){Re[O]=Math.min(Re[O],w);var N=Oe[O];N&$e&&Qe(j,R),Oe[O]=N&~(Ne|$e);var $=A+S*Ee;T<je[$]&&i(Ce,je,$,T,n,r,o)}}--L}}}function Qe(t,e){for(var n=t*Fe+e*Fe*Ee,r=4*n,i=Ee-Fe,o=4*i,a=0;a<Fe;a++){for(var s=0;s<Fe;s++)je[n++]=B,Ce[r++]=255*G.r|0,Ce[r++]=255*G.g|0,Ce[r++]=255*G.b|0,Ce[r++]=Y?0:255;n+=i,r+=o}}this.domElement=F,this.autoClear=!0,this.supportsVertexTextures=function(){},this.setFaceCulling=function(){},this.setClearColor=function(t,e){G.set(t),X(G)},this.setPixelRatio=function(){},this.setSize=function(t,e){Ae=Math.floor(t/Fe),D=Math.floor(e/Fe);var n=1<<De;Te=-n*(xe=D*Fe)/2,Ie=(Se=n*(Ee=Ae*Fe)/2)+.5,Pe=n*xe/2+.5,Me=(Le=B/2)+.5,F.width=Ee,F.height=xe,z.fillStyle=Y?"rgba(0, 0, 0, 0)":G.getStyle(),z.fillRect(0,0,Ee,xe),H=z.getImageData(0,0,Ee,xe),Ce=H.data,je=new Int32Array(Ce.length/4),U=Ae*D,Re=new Int32Array(U),Oe=new Uint8Array(U);for(var r=0,i=je.length;r<i;r++)je[r]=B;for(r=0;r<U;r++)Oe[r]=Ne;X(G)},this.setSize(F.width,F.height),this.clear=function(){Ye=ze=1/0;for(var t=Ke=Xe=Ve=Be=Ge=0;t<U;t++)Re[t]=B,Oe[t]=Oe[t]&Ne?Ne:$e},this.render=function(t,e){this.clear();var n=t.background;n&&n.isColor&&X(n);for(var r=_.projectScene(t,e,!1,!1).elements,i=0,o=r.length;i<o;i++){var a=r[i],s=a.material;if(c=L(s))if(a instanceof THREE.RenderableFace)a.uvs?Ze(a.v1.positionScreen,a.v2.positionScreen,a.v3.positionScreen,a.uvs[0],a.uvs[1],a.uvs[2],c,a,s):Ze(a.v1.positionScreen,a.v2.positionScreen,a.v3.positionScreen,null,null,null,c,a,s);else if(a instanceof THREE.RenderableSprite){var l=.5*a.scale.x,u=.5*a.scale.y;b.copy(a),b.x-=l,b.y+=u,w.copy(a),w.x-=l,w.y-=u,E.copy(a),E.x+=l,E.y+=u,s.map?(x.set(0,1),S.set(0,0),T.set(1,1),Ze(b,w,E,x,S,T,c,a,s)):Ze(b,w,E,null,null,null,c,a,s),b.copy(a),b.x+=l,b.y+=u,w.copy(a),w.x-=l,w.y-=u,E.copy(a),E.x+=l,E.y-=u,s.map?(x.set(1,1),S.set(0,0),T.set(1,0),Ze(b,w,E,x,S,T,c,a,s)):Ze(b,w,E,null,null,null,c,a,s)}else if(a instanceof THREE.RenderableLine){var c=L(s);I(a.v1.positionScreen,a.v2.positionScreen,a.vertexColors[0],a.vertexColors[1],c,s)}}!function(){for(var t=0,e=0;e<D;e++)for(var n=0;n<Ae;n++)Oe[t]&$e&&(Qe(n,e),Oe[t]=Ne),t++}();var h=Math.min(ze,v),f=Math.min(Ye,m),p=Math.max(Ge,g)-h,d=Math.max(Be,y)-f;h!==1/0&&z.putImageData(H,0,0,h,f,p,d),v=ze,m=Ye,g=Ge,y=Be}},THREE.SoftwareRenderer.Texture=function(){var i;this.fromImage=function(t){if(!(!t||t.width<=0||t.height<=0)){void 0===i&&(i=document.createElement("canvas"));var e=t.width>t.height?t.width:t.height;e=THREE.Math.nextPowerOfTwo(e),i.width==e&&i.height==e||(i.width=e,i.height=e);var n=i.getContext("2d");n.clearRect(0,0,e,e),n.drawImage(t,0,0,e,e);var r=n.getImageData(0,0,e,e);this.data=r.data,this.width=e,this.height=e,this.srcUrl=t.src}}}},{}],8:[function(t,e,n){e.exports=function(t){t.mousedownhandler=function(t){this.lastMousePosition=[t.pageX,t.pageY],this.mouseControl=!0}.bind(t),t.mouseuphandler=function(t){this.mouseControl=!1}.bind(t),t.mousemovehandler=function(t){if(this.mouseControl){var e=.5*(this.lastMousePosition[1]-t.pageY);this.cameraPitch+=e;var n=.5*(this.lastMousePosition[0]-t.pageX);this.cameraYaw+=n,this.lastMousePosition=[t.pageX,t.pageY]}}.bind(t),t.keydownhandler=function(t){87==(t=window.event||t).keyCode?(this.cameraZ-=r*Math.cos(this.camera.rotation.y),this.cameraX-=r*Math.sin(this.camera.rotation.y)):83==t.keyCode?(console.log("going backwards",this),this.cameraZ+=r*Math.cos(this.camera.rotation.y),this.cameraX+=r*Math.sin(this.camera.rotation.y)):65==t.keyCode?(this.cameraZ+=r*Math.sin(this.camera.rotation.y),this.cameraX-=r*Math.cos(this.camera.rotation.y)):68==t.keyCode?(this.cameraZ-=r*Math.sin(this.camera.rotation.y),this.cameraX+=r*Math.cos(this.camera.rotation.y)):32==t.keyCode?this.cameraY+=r:67==t.keyCode&&(this.cameraY-=r)}.bind(t)};var r=1},{}],9:[function(t,e,n){e.exports=function(){this.textureNorth="textures/fence1.png",this.textureEast="textures/fence1.png",this.textureSouth=null,this.textureWest="textures/fence1.png",this.textureTop="textures/fence0.png",this.textureBottom="textures/floor.png",this.width=10,this.height=10,this.depth=10}},{}],10:[function(t,e,n){var s,r;s=env3d||(env3d={}),r=function(){function t(){this.x=0,this.y=0,this.z=0,this.rotateX=0,this.rotateY=0,this.rotateZ=0,this.scale=1,this.texture="textures/earth.png",this.model="sphere",this.transparent=!1}return t.prototype.getX=function(){return this.x},t.prototype.setX=function(t){this.x=t},t.prototype.getY=function(){return this.y},t.prototype.setY=function(t){this.y=t},t.prototype.getZ=function(){return this.z},t.prototype.setZ=function(t){this.z=t},t.prototype.getRotateX=function(){return this.rotateX},t.prototype.setRotateX=function(t){this.rotateX=t},t.prototype.getRotateY=function(){return this.rotateY},t.prototype.setRotateY=function(t){this.rotateY=t},t.prototype.getRotateZ=function(){return this.rotateZ},t.prototype.setRotateZ=function(t){this.rotateZ=t},t.prototype.getTexture=function(){return this.texture},t.prototype.setTexture=function(t){this.texture=t},t.prototype.getModel=function(){return this.model},t.prototype.setModel=function(t){this.model=t},t.prototype.getScale=function(){return this.scale},t.prototype.setScale=function(t){this.scale=t},t.prototype.distance$env3d_EnvObject=function(t){var e,n,r;return e=t.getX()-this.getX(),n=t.getY()-this.getY(),r=t.getZ()-this.getZ(),Math.sqrt(e*e+n*n+r*r)},t.prototype.distance=function(t,e,n){var r=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if((null!=t&&t instanceof s.EnvObject||null===t)&&void 0===e&&void 0===n)return this.distance$env3d_EnvObject(t);throw new Error("invalid overload")}var i,o,a;Array.prototype.slice.call(arguments);return i=t-r.getX(),o=e-r.getY(),a=n-r.getZ(),Math.sqrt(i*i+o*o+a*a)},t.prototype.isTransparent=function(){return this.transparent},t.prototype.setTransparent=function(t){this.transparent=t},t.prototype.getTextureNormal=function(){return this.textureNormal},t.prototype.setTextureNormal=function(t){this.textureNormal=t},t}(),s.EnvObject=r,s.advanced={},(s.advanced.EnvNode=r).__class="env3d.EnvObject",e.exports=r},{}],11:[function(t,e,n){var i=t("three");t("../node_modules/three/examples/js/loaders/OBJLoader.js"),t("../node_modules/three/examples/js/loaders/MTLLoader.js");var o=function t(){this.x=0,this.y=0,this.z=0,this.rotateX=0,this.rotateY=0,this.rotateZ=0,this.scale=1,this.texture="textures/earth.png",this.model="sphere",t.patchGameObject(this)};o.mtlLoader=new i.MTLLoader,o.objLoader=new i.OBJLoader,(o.textureLoader=new i.TextureLoader).crossOrigin="Anonymous",o.modelsCache={},o.texturesCache={},o.loadObj=function(n,t,r){if(n.startsWith("http")||(n=env3d.Env.baseAssetsUrl+n),t&&!t.startsWith("http")&&(t=env3d.Env.baseAssetsUrl+t),o.modelsCache[n])r.call(null,o.modelsCache[n]);else if(t){var e=new i.MTLLoader;e.setMaterialOptions({side:i.DoubleSide}),e.load(t,function(t){t.preload(),console.log("loading mtl",t);var e=new i.OBJLoader;e.setMaterials(t),e.load(n,function(t){o.modelsCache[n]=t,r.call(null,t)})})}else o.objLoader.load(n,function(t){o.modelsCache[n]=t,r.call(null,t)})},o.loadTexture=function(e,n){e&&(e.startsWith("http")||(e=env3d.Env.baseAssetsUrl+e),o.texturesCache[e]?n.call(null,o.texturesCache[e]):o.textureLoader.load(e,function(t){o.texturesCache[e]=t,n.call(null,t)}))},o.patchGameObject=function(n){n.x||(n.x=0),n.y||(n.y=0),n.z||(n.z=0),n.rotateX||(n.rotateX=0),n.rotateY||(n.rotateY=0),n.rotateZ||(n.rotateZ=0),n.scale||(n.scale=1),void 0===n.texture&&(n.texture="textures/earth.png"),void 0===n.model&&(n.model="sphere"),n.move||(n.move=function(){}),n._texture=n.texture,n._model="","sphere"===n.model&&(n._model=n.model);var e=n;n.geometry=new i.SphereGeometry(1,16,16,-Math.PI/2,2*Math.PI,0,Math.PI),n.mesh=new i.Group,n.mesh.rotation.order="YXZ",n.mesh.add(new i.Mesh(n.geometry,n.material)),n.mesh.name=n.model,n.mesh.envGameObject=n,o.loadTexture(n.texture,function(t){e.material=new i.MeshBasicMaterial({map:t,side:i.DoubleSide}),n.mesh.children.forEach(function(t){t.material=n.material})}),n.update=function(){n.mesh.position.x=n.x,n.mesh.position.y=n.y,n.mesh.position.z=n.z,n.mesh.rotation.x=n.rotateX*(Math.PI/180),n.mesh.rotation.y=n.rotateY*(Math.PI/180),n.mesh.rotation.z=n.rotateZ*(Math.PI/180),n.mesh.scale.x=n.scale,n.mesh.scale.y=n.scale,n.mesh.scale.z=n.scale,n.texture!=n._texture&&(n._texture=n.texture,o.loadTexture(n.texture,function(t){var e=new i.MeshBasicMaterial({map:t,side:i.DoubleSide});n.material=e,n.mesh.children.forEach(function(t){t.material=e})})),n.model!=n._model&&(n.mesh.name=n.model,n._model=n.model,-1<n.model.search("obj")&&(n.mesh.children.forEach(function(t){n.mesh.remove(t)}),o.loadObj(n.model,n.mtl,function(t){t.children.forEach(function(t){n.material&&(t.material=n.material.clone());var e=t.clone();n.mtl&&(console.log(e),e.scale.x=.1,e.scale.y=.1,e.scale.z=.1,e.rotation.x=-Math.PI/2),n.mesh.add(e)})})))}},e.exports=o},{"../node_modules/three/examples/js/loaders/MTLLoader.js":4,"../node_modules/three/examples/js/loaders/OBJLoader.js":5,three:1}],12:[function(t,e,n){e.exports=function(t){var e,n,i=this,o={},r=[],a=(e=0,n={x:5,y:5,z:5,texture:"textures/black.png"},i.addObject(n),console.log("preload",n),i.preload=!0,function(){e<r.length-1?(n.model=r[e++],i.setDisplayStr(parseInt(e/r.length*100)+"%")):(i.removeObject(n),i.preload=!1,console.log("env3dready"),i.setDisplayStr(""),window.dispatchEvent(new Event("env3dready")))}),s=new XMLHttpRequest;s.open("GET",t),s.onreadystatechange=function(t){4==s.readyState&&s.responseText.split("\n").forEach(function(t,e,n){!function(t){console.log(t);var e=t.split(",");switch(e[0]){case"skybox":i.setSky(e[1]);break;case"camera":i.cameraX=parseFloat(e[1]),i.cameraY=parseFloat(e[2]),i.cameraZ=parseFloat(e[3]),i.cameraPitch=parseFloat(e[5]),i.cameraYaw=parseFloat(e[4]);break;case"terrain":i.setTerrain(e[3]);break;case"object":var n=e[10],r=new window[n](parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]));o[n]=1,r.scale=parseFloat(e[4]),r.rotateX=parseFloat(e[5]),r.rotateY=parseFloat(e[6]),r.rotateZ=parseFloat(e[7]),r.model=e[8],r.texture=e[9],i.addObject(r)}}(t),e==n.length-1&&(console.log("preload",Object.keys(o)),Object.keys(o).forEach(function(t){var e=new window[t];console.log("preload",e),(e.modelsMap?e.modelsMap.values().toArray():[[e.model]]).forEach(function(t){console.log("preload",t),t.forEach(function(t){console.log("preload",t),r.push(t)})})}),i.loop=a,i.start())})},s.send()}},{}],13:[function(t,e,n){var a=t("three"),r=function(t){["jpg","jpeg"].includes(t.split(".").pop().toLowerCase())?this.image=t:this.video=t};r.prototype.getMesh=function(){if(this.video){(r=new a.SphereBufferGeometry(500,60,40,Math.PI/2)).scale(-1,1,1),i=new a.Mesh(r);var t=document.createElement("video");t.width=640,t.height=360,t.loop=!0,t.muted=!0,t.src=this.video,t.setAttribute("webkit-playsinline","webkit-playsinline"),t.setAttribute("crossorigin","anonymous"),t.play();var e=new a.VideoTexture(t);e.minFilter=a.LinearFilter,e.format=a.RGBFormat;var n=new a.MeshBasicMaterial({map:e});i.material=n}else if(this.image){var r;(r=new a.SphereBufferGeometry(500,60,40,Math.PI/2,2*Math.PI,Math.PI/4,Math.PI/4*2)).scale(-1,1,1);var i=new a.Mesh(r),o=new a.TextureLoader;o.crossOrigin="Anonymous",o.load(this.image,function(t){t.minFilter=a.LinearFilter,t.format=a.RGBFormat;var e=new a.ShaderMaterial({uniforms:{texture:{value:t}},vertexShader:"\nvarying vec3 vColor;\nvarying vec2 vUv;\n\nvoid main() {\n    vColor = color;\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",fragmentShader:"\nuniform sampler2D texture;\nvarying vec3 vColor; \nvarying vec2 vUv; \n\nvoid main() { \n    float y;\n    if (vUv.y > 0.7 || vUv.y < 0.3) {\n        if (vUv.y < 0.30) {\n            y = vUv.y / 0.30;\n        } else {\n            y = (1.0 - vUv.y) / 0.30;\n        }\n        //y = pow(y,2.0);\n    } else {\n        y = 1.0;\n    }\n    gl_FragColor = 1.3 * vec4(y,y,y,1.0) * texture2D(texture, vec2(vUv.x, vUv.y));\n}\n",vertexColors:!0});i.material=e})}return i},e.exports=r},{three:1}],14:[function(t,e,n){window.THREE=t("three"),t("../node_modules/three/examples/js/renderers/SoftwareRenderer.js"),t("../node_modules/three/examples/js/renderers/Projector.js"),t("../node_modules/three/examples/js/effects/StereoEffect.js");var r=t("./GameObject.js"),i=t("./DefaultRoom.js"),o=(t("./lwjgl-keyboard.js"),t("./hud.js")),a=t("./DefaultControlHandlers.js"),s=t("../node_modules/three/examples/js/Detector.js"),l=t("./LoadWorld.js"),u=t("./VideoSphere.js"),c=function(t){void 0===t&&(t=!0);this.hud=new o(this,512,512),this.setupWorld=l,THREE.ImageUtils.crossOrigin="Anonymous",this.camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e4),this.camera.position.x=this.cameraX=5,this.camera.position.y=this.cameraY=5,this.camera.position.z=this.cameraZ=12,this.camera.rotation.x=this.cameraPitch=0,this.camera.rotation.y=this.cameraYaw=0,this.camera.rotation.z=this.cameraRoll=0;new a(this);this.defaultControl=!0,this.setDefaultControl(this.defaultControl),this.scene=new THREE.Scene,this.scene.add(this.camera),this.room=new THREE.Group,this.scene.add(this.room),this.gameObjects=[],s.webgl?(this.renderer=new THREE.WebGLRenderer,this.renderer.autoClear=!1):this.renderer=new THREE.SoftwareRenderer,this.stereo=!1,THREE.StereoEffect&&(this.stereoEffect=new THREE.StereoEffect(this.renderer),this.stereoEffect.setSize(window.innerWidth,window.innerHeight)),this.renderer.setSize(window.innerWidth,window.innerHeight),this.lastKey=0,this.lastKeyDown=0,this.mouseGrab=!1,this.lastMouse=-1,this.mouse={},this.mouseX=0,this.mouseY=0,this.mouseDX=0,this.mouseDY=0,t&&this.setRoom(new i),document.querySelector("#env3d").appendChild(this.renderer.domElement),this.keys={},document.addEventListener("keyup",function(t){this.lastKey=t.keyCode,this.lastKeyDown=0,this.keys[t.keyCode]=!1}.bind(this)),document.addEventListener("keydown",function(t){this.lastKeyDown=t.keyCode,this.keys[t.keyCode]=!0}.bind(this)),window.addEventListener("resize",function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.stereoEffect.setSize(window.innerWidth,window.innerHeight)}.bind(this),!1)};function h(t,e,n){var r,i=new THREE.Vector3(0,0,0),o=new THREE.Vector3(0,0,0);-1<t.search("North")?(r=new THREE.PlaneGeometry(e.width,e.height),i.set(e.width/2,e.height/2,0)):-1<t.search("East")?(r=new THREE.PlaneGeometry(e.depth,e.height),o.set(0,-Math.PI/2,0),i.set(e.width,e.height/2,e.depth/2)):-1<t.search("West")?(r=new THREE.PlaneGeometry(e.depth,e.height),o.set(0,Math.PI/2,0),i.set(0,e.height/2,e.depth/2)):-1<t.search("South")?(r=new THREE.PlaneGeometry(e.width,e.height),o.set(0,Math.PI,0),i.set(e.width/2,e.height/2,e.depth)):-1<t.search("Bottom")?(r=new THREE.PlaneGeometry(e.width,e.depth),o.set(-Math.PI/2,0,0),i.set(e.width/2,0,e.depth/2)):-1<t.search("Top")&&(r=new THREE.PlaneGeometry(e.width,e.depth),o.set(Math.PI/2,0,0),i.set(e.width/2,e.height,e.depth/2));var a=new THREE.Mesh(r,n);return a.position.set(i.x,i.y,i.z),a.rotation.set(o.x,o.y,o.z),a}c.prototype.debugCameraPosition=function(){return"[new THREE.Vector3("+(this.camera.position.x+","+this.camera.position.y+","+this.camera.position.z)+"), new THREE.Vector3("+(this.camera.rotation.x+","+this.camera.rotation.y+","+this.camera.rotation.z)+")]"},c.prototype.setDefaultControl=function(t){console.warn("setting default control to "+t),(this.defaultControl=t)?(document.addEventListener("mousedown",this.mousedownhandler,!1),document.addEventListener("mousemove",this.mousemovehandler,!1),document.addEventListener("mouseup",this.mouseuphandler,!1),document.addEventListener("keydown",this.keydownhandler,!1)):(console.log("disabling control"),document.removeEventListener("mousedown",this.mousedownhandler,!1),document.removeEventListener("mousemove",this.mousemovehandler,!1),document.removeEventListener("mouseup",this.mouseuphandler,!1),document.removeEventListener("keydown",this.keydownhandler,!1))},c.prototype.setBackgroundVideo=function(t){t.startsWith("http")||(t=c.baseAssetsUrl+t);var e=new u(t).getMesh();this.scene.add(e)},c.prototype.setSky=function(t){t.endsWith("/")||(t+="/");var e=new THREE.CubeTextureLoader;e.setCrossOrigin("Anonymous"),t.startsWith("http")?e.setPath(t):e.setPath(c.baseAssetsUrl+t);var n=e.load(["east.png","west.png","top.png","bottom.png","north.png","south.png"]);console.log(n),this.scene.background=n},c.prototype.setTerrain=function(t){r.loadTexture(t,function(t){t.wrapS=THREE.RepeatWrapping,t.wrapT=THREE.RepeatWrapping,t.repeat.set(100,100);var e=new THREE.Mesh(new THREE.PlaneGeometry(1e3,1e3),new THREE.MeshBasicMaterial({map:t,side:THREE.DoubleSide}));e.rotation.x=-Math.PI/2,this.scene.add(e)}.bind(this))},c.prototype.setRoom=function(t){console.log("clearing scene"),this.clearScene(),this.scene.remove(this.room);var e=new i;for(var n in this.room=new THREE.Object3D,this.scene.add(this.room),e)void 0===t[n]&&(t[n]=e[n]);for(var n in t)-1<n.search("texture")&&null!=t[n]&&r.loadTexture(t[n],function(t){var e=new THREE.MeshBasicMaterial({map:t,side:THREE.DoubleSide}),n=h(this.d,this.r,e);this.room.add(n)}.bind({d:n,r:t,room:this.room}))},c.prototype.addObject=function(t){t.env=this,t instanceof r||r.patchGameObject(t),this.scene.add(t.mesh),this.gameObjects.push(t)},c.prototype.removeObject=function(e){this.gameObjects.forEach(function(t){t===e&&this.scene.remove(t.mesh)}.bind(this))},c.prototype.clearScene=function(){this.gameObjects.forEach(function(t){console.warn("Clearing obj",t),this.scene.remove(t.mesh)}.bind(this)),this.gameObjects=[],this.vertices=[]};new THREE.Clock;c.prototype.start=function(){var t=this;t.camera.rotation.order="YXZ",t.camera.position.x=t.cameraX,t.camera.position.y=t.cameraY,t.camera.position.z=t.cameraZ,t.camera.rotation.x=t.cameraPitch*(Math.PI/180),t.camera.rotation.y=t.cameraYaw*(Math.PI/180),t.camera.rotation.z=t.cameraRoll*(Math.PI/180);var e=t.renderer;t.stereo&&(e=this.stereoEffect),e.render(t.scene,t.camera),s.webgl&&e.render(this.hud.scene,this.hud.camera),t.loop();for(var n=0;n<t.gameObjects.length;n++)t.gameObjects[n].update();this.preload?requestAnimationFrame(c.prototype.start.bind(this)):setTimeout(function(){requestAnimationFrame(c.prototype.start.bind(this))}.bind(this),1e3/30)},c.prototype.moveCameraAlongPath=function(t,e,n){var r;2==t.length?r=new THREE.LineCurve3(t[0],t[1]):3==t.length?r=new THREE.QuadraticBezierCurve3(t[0],t[1],t[2]):console.warn("spline points need to be implemented!");var i=this.camera.rotation.toVector3().clone(),o=e.clone();i.x%=2*Math.PI,i.y%=2*Math.PI,i.z%=2*Math.PI,o.x%=2*Math.PI,o.y%=2*Math.PI,o.z%=2*Math.PI,Math.abs(i.y-o.y)>Math.PI&&(i.y<o.y?i.y+=2*Math.PI:o.y+=2*Math.PI);var a=new THREE.LineCurve3(i,o);this.moveCameraAlongPathHelper(r,a,n,0)},c.prototype.moveCameraAlongPathHelper=function(t,e,n,r){void 0===r&&(r=0);var i=t.getPoint(r),o=e.getPoint(r);this.cameraX=i.x,this.cameraY=i.y,this.cameraZ=i.z,this.cameraPitch=o.x,this.cameraYaw=o.y;var a=this;r+.01<1?setTimeout(function(){a.moveCameraAlongPathHelper(t,e,n,r+.01)},16):n&&n.call()},c.prototype.setCameraPosition=function(t){this.cameraX=t.x,this.cameraY=t.y,this.cameraZ=t.z},c.prototype.setCameraRotation=function(t){this.cameraPitch=t.x,this.cameraYaw=t.y,this.cameraRoll=t.z},c.prototype.setCameraXYZ=function(t,e,n){this.cameraX=t,this.cameraY=e,this.cameraZ=n},c.prototype.setCameraPitch=function(t){this.cameraPitch=t},c.prototype.setCameraYaw=function(t){this.cameraYaw=t},c.prototype.setCameraRoll=function(t){this.cameraRoll=t},c.prototype.getCameraYaw=function(){return this.cameraYaw},c.prototype.getCameraPitch=function(){return this.cameraPitch},c.prototype.getCameraX=function(){return this.camera.position.x},c.prototype.getCameraY=function(){return this.camera.position.y},c.prototype.getCameraZ=function(){return this.camera.position.z};var f={37:203,38:200,39:205,40:208};c.prototype.getKey=function(){if(0!=this.lastKey){var t=f[this.lastKey]||this.lastKey;return this.lastKey=0,t}},c.prototype.getKeyDown=function(){return 0==arguments.length?this.lastKeyDown:this.keys[arguments[0]]},c.prototype.isMouseGrabbed=function(){return this.mouseGrab},c.prototype.setMouseGrab=function(t){this.mouseGrab=t},c.prototype.getMouseButtonDown=function(){return this.mouse[0]},c.prototype.getMouseButtonClicked=function(){var t=this.lastMouse;return this.lastMouse=-1,t},c.prototype.getMouseDX=function(){return this.mouseDX},c.prototype.getMouseDY=function(){return this.mouseDY},c.prototype.getMouseX=function(){return this.mouseX},c.prototype.getMouseY=function(){return this.mouseY},c.prototype.setDisplayStr=function(t){this.hud.write(t)},c.prototype.getObject=function(t){for(var e=0;e<this.gameObjects.length;e++){var n=this.gameObjects[e];if(n instanceof t)return n}},c.prototype.getObjects=function(){for(var t=new java.util.ArrayList,e=0;e<this.gameObjects.length;e++)arguments&&1==arguments.length?this.gameObjects[e]instanceof arguments[0]&&t.add(this.gameObjects[e]):t.add(this.gameObjects[e]);return t};var p,d=new THREE.Vector2,v=new THREE.Raycaster,m=[];c.prototype.getPick=function(t,e){m.length=0,t&&e?(d.x=t/window.innerWidth*2-1,d.y=-e/window.innerHeight*2+1):(d.x=0,d.y=0),v.setFromCamera(d,this.camera);var n=this.camera;return this.gameObjects.forEach(function(t){0<v.intersectObjects(t.mesh.children).length&&m.push({dist:n.position.distanceTo(t.mesh.position),obj:t})}),0<m.length?(m.sort(function(t,e){return t.dist-e.dist}),m[0].obj):null},c.prototype.initVRController=function(){this.setCrosshair(!0);var r=new THREE.Euler,i=new THREE.Quaternion,o=new VRFrameData,a=null,s=this;function t(t){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullscreenElement?(document.getElementById("vr").setAttribute("fullscreen",!0),s.stereo=!0):(document.getElementById("vr").removeAttribute("fullscreen"),s.stereo=!1)}navigator.getVRDisplays().then(function(t){console.log("Setting vrDisplay"),(a=t[0]).resetPose(),this.vrAnimationFrame()}.bind(this)).catch(function(t){console.log("Error with VR displays",t)}),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("fullscreenchange",t),document.getElementById("vr").addEventListener("click",function(t){var e=document.body,n=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen;n?n.bind(e).call():(s.stereo=!s.stereo,window.dispatchEvent(new Event("resize")))}),this.vrAnimationFrame=function(){a.getFrameData(o),i.set(o.pose.orientation[0],o.pose.orientation[1],o.pose.orientation[2],o.pose.orientation[3]),r.setFromQuaternion(i,"YXZ");var t=180*r.y/Math.PI,e=180*r.x/Math.PI,n=180*r.z/Math.PI;s.setCameraYaw(t),s.setCameraPitch(e),s.setCameraRoll(n),a.requestAnimationFrame(this.vrAnimationFrame)}.bind(this)},c.prototype.setCrosshair=function(t){if(!p){var e=new THREE.LineBasicMaterial({linewidth:2,color:16777215,depthTest:!1}),n=new THREE.Geometry;n.vertices.push(new THREE.Vector3(0,1,0)),n.vertices.push(new THREE.Vector3(0,-1,0)),n.vertices.push(new THREE.Vector3(0,0,0)),n.vertices.push(new THREE.Vector3(1,0,0)),n.vertices.push(new THREE.Vector3(-1,0,0));(p=new THREE.Line(n,e)).renderOrder=Number.MAX_SAFE_INTEGER,p.position.x=0*this.camera.aspect,p.position.y=0,p.position.z=-100}t?(this.crosshair=p,this.camera.add(this.crosshair)):(this.camera.remove(this.crosshair),this.crosshair=null)},c.prototype.loop=function(){},c.prototype.advanceOneFrame=function(){},c.baseAssetsUrl="",e.exports=c,window.env3d={},window.env3d.Env=c;var g=t("./EnvObject.js");window.env3d.EnvObject=g},{"../node_modules/three/examples/js/Detector.js":2,"../node_modules/three/examples/js/effects/StereoEffect.js":3,"../node_modules/three/examples/js/renderers/Projector.js":6,"../node_modules/three/examples/js/renderers/SoftwareRenderer.js":7,"./DefaultControlHandlers.js":8,"./DefaultRoom.js":9,"./EnvObject.js":10,"./GameObject.js":11,"./LoadWorld.js":12,"./VideoSphere.js":13,"./hud.js":15,"./lwjgl-keyboard.js":16,three:1}],15:[function(t,e,n){var p=t("three"),d=t("./lwjgl-keyboard.js"),r=function(r,t,e){this.scene=new p.Scene,this.camera=new p.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e4),this.hudCanvas=document.createElement("canvas"),this.hudCanvas.width=t,this.hudCanvas.height=e,this.hudBitmap=this.hudCanvas.getContext("2d"),this.hudTexture=new p.Texture(this.hudCanvas),this.hudTexture.needsUpdate=!0,this.material=new p.MeshBasicMaterial({map:this.hudTexture,transparent:!0,opacity:1}),this.planeGeometry=new p.PlaneGeometry(t,e);var n=new p.Mesh(this.planeGeometry,this.material);n.position.set(0,0,-10),n.scale.set(.01,.01,.01),this.scene.add(n);var i=!1,o=function(t){if(t){var e=t.pageX||t.touches.item(0).pageX,n=t.pageY||t.touches.item(0).pageY;r.mouse[0]=!0,r.lastMouse=0,i=!0,r.mouseX=e,r.mouseY=n}},a=function(t){if(t){var e=t&&(t.pageX||t.touches.item(0).pageX),n=t&&(t.pageY||t.touches.item(0).pageY);i&&(r.mouseDX=e-r.mouseX,r.mouseDY=n-r.mouseY,r.mouseY=n)}},s=function(){r.lastKeyDown=0,r.mouse[0]=!1,r.lastMouse=-1,r.mouseDX=0,r.mouseDY=0,i=!1}.bind(this);document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),document.addEventListener("mousemove",a),document.addEventListener("touchmove",a),document.addEventListener("mouseup",s),document.addEventListener("touchend",s);for(var l=function(t){var e=d[this.getAttribute("env3d-key")];r.lastKeyDown=e,r.keys[e]=!0,t.preventDefault(),t.stopPropagation()},u=function(t){var e=d[this.getAttribute("env3d-key")];r.keys[e]=!1,r.lastKeyDown=0,t.preventDefault(),t.stopPropagation()},c=document.querySelectorAll("[env3d-key]"),h=0;h<c.length;h++){var f=c.item(h);f.addEventListener("mousedown",l.bind(f)),f.addEventListener("touchstart",l.bind(f)),f.addEventListener("mouseup",u.bind(f)),f.addEventListener("touchend",u.bind(f))}};r.prototype.write=function(t){t=t||"",this.str!=t&&(this.str=t,this.hudBitmap.clearRect(0,0,this.hudCanvas.width,this.hudCanvas.height),this.background&&this.hudBitmap.drawImage(this.background,0,0),this.hudBitmap.font="Normal 40px Arial",this.hudBitmap.textAlign="center",this.hudBitmap.fillStyle="rgba(245,245,245,0.75)",this.hudBitmap.fillText(t,this.hudCanvas.width/2,this.hudCanvas.height/2),this.hudTexture.needsUpdate=!0)},e.exports=r},{"./lwjgl-keyboard.js":16,three:1}],16:[function(t,e,n){var r,i,o,a,s;i=r||(r={}),o=i.lwjgl||(i.lwjgl={}),a=o.input||(o.input={}),s=function(){function t(){}t.KEY_LWIN_$LI$=function(){return null==t.KEY_LWIN&&(t.KEY_LWIN=t.KEY_LMETA),t.KEY_LWIN},t.KEY_RWIN_$LI$=function(){return null==t.KEY_RWIN&&(t.KEY_RWIN=t.KEY_RMETA),t.KEY_RWIN},t.CHAR_NONE="\0".charCodeAt(0),t.KEY_NONE=0,t.KEY_ESCAPE=1,t.KEY_1=2,t.KEY_2=3,t.KEY_3=4,t.KEY_4=5,t.KEY_5=6,t.KEY_6=7,t.KEY_7=8,t.KEY_8=9,t.KEY_9=10,t.KEY_0=11,t.KEY_MINUS=12,t.KEY_EQUALS=13,t.KEY_BACK=14,t.KEY_TAB=15,t.KEY_Q=16,t.KEY_W=17,t.KEY_E=18,t.KEY_R=19,t.KEY_T=20,t.KEY_Y=21,t.KEY_U=22,t.KEY_I=23,t.KEY_O=24,t.KEY_P=25,t.KEY_LBRACKET=26,t.KEY_RBRACKET=27,t.KEY_RETURN=28,t.KEY_LCONTROL=29,t.KEY_A=30,t.KEY_S=31,t.KEY_D=32,t.KEY_F=33,t.KEY_G=34,t.KEY_H=35,t.KEY_J=36,t.KEY_K=37,t.KEY_L=38,t.KEY_SEMICOLON=39,t.KEY_APOSTROPHE=40,t.KEY_GRAVE=41,t.KEY_LSHIFT=42,t.KEY_BACKSLASH=43,t.KEY_Z=44,t.KEY_X=45,t.KEY_C=46,t.KEY_V=47,t.KEY_B=48,t.KEY_N=49,t.KEY_M=50,t.KEY_COMMA=51,t.KEY_PERIOD=52,t.KEY_SLASH=53,t.KEY_RSHIFT=54,t.KEY_MULTIPLY=55,t.KEY_LMENU=56,t.KEY_SPACE=57,t.KEY_CAPITAL=58,t.KEY_F1=59,t.KEY_F2=60,t.KEY_F3=61,t.KEY_F4=62,t.KEY_F5=63,t.KEY_F6=64,t.KEY_F7=65,t.KEY_F8=66,t.KEY_F9=67,t.KEY_F10=68,t.KEY_NUMLOCK=69,t.KEY_SCROLL=70,t.KEY_NUMPAD7=71,t.KEY_NUMPAD8=72,t.KEY_NUMPAD9=73,t.KEY_SUBTRACT=74,t.KEY_NUMPAD4=75,t.KEY_NUMPAD5=76,t.KEY_NUMPAD6=77,t.KEY_ADD=78,t.KEY_NUMPAD1=79,t.KEY_NUMPAD2=80,t.KEY_NUMPAD3=81,t.KEY_NUMPAD0=82,t.KEY_DECIMAL=83,t.KEY_F11=87,t.KEY_F12=88,t.KEY_F13=100,t.KEY_F14=101,t.KEY_F15=102,t.KEY_F16=103,t.KEY_F17=104,t.KEY_F18=105,t.KEY_KANA=112,t.KEY_F19=113,t.KEY_CONVERT=121,t.KEY_NOCONVERT=123,t.KEY_YEN=125,t.KEY_NUMPADEQUALS=141,t.KEY_CIRCUMFLEX=144,t.KEY_AT=145,t.KEY_COLON=146,t.KEY_UNDERLINE=147,t.KEY_KANJI=148,t.KEY_STOP=149,t.KEY_AX=150,t.KEY_UNLABELED=151,t.KEY_NUMPADENTER=156,t.KEY_RCONTROL=157,t.KEY_SECTION=167,t.KEY_NUMPADCOMMA=179,t.KEY_DIVIDE=181,t.KEY_SYSRQ=183,t.KEY_RMENU=184,t.KEY_FUNCTION=196,t.KEY_PAUSE=197,t.KEY_HOME=199,t.KEY_UP=200,t.KEY_PRIOR=201,t.KEY_LEFT=203,t.KEY_RIGHT=205,t.KEY_END=207,t.KEY_DOWN=208,t.KEY_NEXT=209,t.KEY_INSERT=210,t.KEY_DELETE=211,t.KEY_CLEAR=218,t.KEY_LMETA=219,t.KEY_RMETA=220,t.KEY_APPS=221,t.KEY_POWER=222,t.KEY_SLEEP=223,t.KEYBOARD_SIZE=256,t.KEY_UP=38,t.KEY_LEFT=37,t.KEY_RIGHT=39,t.KEY_DOWN=40;for(var e=65;e<=90;e++)t["KEY_"+String.fromCharCode(e)]=e;return t.BUFFER_SIZE=50,t}(),(a.Keyboard=s).__class="org.lwjgl.input.Keyboard",r.lwjgl.input.Keyboard.KEY_RWIN_$LI$(),r.lwjgl.input.Keyboard.KEY_LWIN_$LI$(),window.org=r,window.Keyboard=r.lwjgl.input.Keyboard;e.exports=r.lwjgl.input.Keyboard},{}]},{},[14]);"Generated from Java with JSweet 1.2.0-SNAPSHOT - http://www.jsweet.org";var test,sun,javaemul,java,__extends=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};!function(n){var t,e;t=n.awt||(n.awt={}),e=function(){function t(t,e,n){this.r=0,this.g=0,this.b=0,this.r=t,this.g=e,this.b=n}return t.prototype.toHTML=function(){var t=new n.lang.StringBuilder;t.append("#");var e=javaemul.internal.IntegerHelper.toHexString(this.r);return 1===e.length&&t.append("0"),t.append(e),1===(e=javaemul.internal.IntegerHelper.toHexString(this.g)).length&&t.append("0"),t.append(e),1===(e=javaemul.internal.IntegerHelper.toHexString(this.b)).length&&t.append("0"),t.append(e),t.toString()},t}(),t.Color=e}(java||(java={})),function(t){var e;e=function(){},(t.awt||(t.awt={})).Component=e}(java||(java={})),function(t){var e,n,r;e=t.awt||(t.awt={}),n=e.event||(e.event={}),r=function(){function t(t,e){this.source=t,this.actionCommand=e}return t.prototype.getSource=function(){return this.source},t.prototype.getActionCommand=function(){return this.actionCommand},t}(),n.ActionEvent=r}(java||(java={})),function(m){var t,e,n;t=m.awt||(m.awt={}),e=t.geom||(t.geom={}),n=function(){function v(t,e,n,r,i,o,a){var s=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a)if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||void 0!==a)if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||void 0!==a)if((null!=t&&t instanceof m.awt.geom.AffineTransform||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o&&void 0===a){var l=t;Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.m00=0,this.m10=0,this.m01=0,this.m11=0,this.m02=0,this.m12=0,this.state=0,this.type=0,s.m00=l.m00,s.m10=l.m10,s.m01=l.m01,s.m11=l.m11,s.m02=l.m02,s.m12=l.m12,s.state=l.state,s.type=l.type}else if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o&&void 0===a){var u=t;Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.m00=0,this.m10=0,this.m01=0,this.m11=0,this.m02=0,this.m12=0,this.state=0,this.type=0,s.m00=u[0],s.m10=u[1],s.m01=u[2],s.m11=u[3],5<u.length&&(s.m02=u[4],s.m12=u[5]),s.updateState()}else if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o&&void 0===a)u=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.m00=0,this.m10=0,this.m01=0,this.m11=0,this.m02=0,this.m12=0,this.state=0,this.type=0,s.m00=u[0],s.m10=u[1],s.m01=u[2],s.m11=u[3],5<u.length&&(s.m02=u[4],s.m12=u[5]),s.updateState();else{if(void 0!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a)throw new Error("invalid overload");Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.m00=0,this.m10=0,this.m01=0,this.m11=0,this.m02=0,this.m12=0,this.state=0,this.type=0,s.m00=s.m11=1}else Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.m00=0,this.m10=0,this.m01=0,this.m11=0,this.m02=0,this.m12=0,this.state=0,this.type=0,s.m00=t,s.m10=e,s.m01=n,s.m11=r,s.m02=i,s.m12=o,s.updateState();else Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.m00=0,this.m10=0,this.m01=0,this.m11=0,this.m02=0,this.m12=0,this.state=0,this.type=0,s.m00=t,s.m10=e,s.m01=n,s.m11=r,s.m02=i,s.m12=o,s.updateState();else Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.m00=0,this.m10=0,this.m01=0,this.m11=0,this.m02=0,this.m12=0,this.state=0,this.type=0,s.m00=t,s.m10=e,s.m01=n,s.m11=r,s.m02=i,s.m12=o,s.state=a,s.type=v.TYPE_UNKNOWN}return v.TYPE_MASK_SCALE_$LI$=function(){return null==v.TYPE_MASK_SCALE&&(v.TYPE_MASK_SCALE=v.TYPE_UNIFORM_SCALE|v.TYPE_GENERAL_SCALE),v.TYPE_MASK_SCALE},v.TYPE_MASK_ROTATION_$LI$=function(){return null==v.TYPE_MASK_ROTATION&&(v.TYPE_MASK_ROTATION=v.TYPE_QUADRANT_ROTATION|v.TYPE_GENERAL_ROTATION),v.TYPE_MASK_ROTATION},v.HI_IDENTITY_$LI$=function(){return null==v.HI_IDENTITY&&(v.HI_IDENTITY=v.APPLY_IDENTITY<<v.HI_SHIFT),v.HI_IDENTITY},v.HI_TRANSLATE_$LI$=function(){return null==v.HI_TRANSLATE&&(v.HI_TRANSLATE=v.APPLY_TRANSLATE<<v.HI_SHIFT),v.HI_TRANSLATE},v.HI_SCALE_$LI$=function(){return null==v.HI_SCALE&&(v.HI_SCALE=v.APPLY_SCALE<<v.HI_SHIFT),v.HI_SCALE},v.HI_SHEAR_$LI$=function(){return null==v.HI_SHEAR&&(v.HI_SHEAR=v.APPLY_SHEAR<<v.HI_SHIFT),v.HI_SHEAR},v.getTranslateInstance=function(t,e){var n=new v;return n.setToTranslation(t,e),n},v.getRotateInstance$double=function(t){var e=new v;return e.setToRotation(t),e},v.getRotateInstance$double$double$double=function(t,e,n){var r=new v;return r.setToRotation(t,e,n),r},v.getRotateInstance$double$double=function(t,e){var n=new v;return n.setToRotation(t,e),n},v.getRotateInstance=function(t,e,n,r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||void 0!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");return m.awt.geom.AffineTransform.getRotateInstance$double(t)}return m.awt.geom.AffineTransform.getRotateInstance$double$double(t,e)}return m.awt.geom.AffineTransform.getRotateInstance$double$double$double(t,e,n)}return(i=new v).setToRotation(t,e,n,r),i;var i},v.getQuadrantRotateInstance$int=function(t){var e=new v;return e.setToQuadrantRotation(t),e},v.getQuadrantRotateInstance=function(t,e,n){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return m.awt.geom.AffineTransform.getQuadrantRotateInstance$int(t)}return(r=new v).setToQuadrantRotation(t,e,n),r;var r},v.getScaleInstance=function(t,e){var n=new v;return n.setToScale(t,e),n},v.getShearInstance=function(t,e){var n=new v;return n.setToShear(t,e),n},v.prototype.getType=function(){return this.type===v.TYPE_UNKNOWN&&this.calculateType(),this.type},v.prototype.calculateType=function(){var t,e,n,r,i,o=v.TYPE_IDENTITY;switch(this.updateState(),this.state){default:this.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:o=v.TYPE_TRANSLATION;case v.APPLY_SHEAR|v.APPLY_SCALE:if((e=this.m00)*(r=this.m01)+(i=this.m10)*(n=this.m11)!=0)return void(this.type=v.TYPE_GENERAL_TRANSFORM);o|=(t=0<=e)==0<=n?e!==n||r!==-i?v.TYPE_GENERAL_ROTATION|v.TYPE_GENERAL_SCALE:e*n-r*i!=1?v.TYPE_GENERAL_ROTATION|v.TYPE_UNIFORM_SCALE:v.TYPE_GENERAL_ROTATION:e!==-n||r!==i?v.TYPE_GENERAL_ROTATION|v.TYPE_FLIP|v.TYPE_GENERAL_SCALE:e*n-r*i!=1?v.TYPE_GENERAL_ROTATION|v.TYPE_FLIP|v.TYPE_UNIFORM_SCALE:v.TYPE_GENERAL_ROTATION|v.TYPE_FLIP;break;case v.APPLY_SHEAR|v.APPLY_TRANSLATE:o=v.TYPE_TRANSLATION;case v.APPLY_SHEAR:o|=(t=0<=(e=this.m01))!=0<=(n=this.m10)?e!==-n?v.TYPE_QUADRANT_ROTATION|v.TYPE_GENERAL_SCALE:1!==e&&-1!==e?v.TYPE_QUADRANT_ROTATION|v.TYPE_UNIFORM_SCALE:v.TYPE_QUADRANT_ROTATION:e===n?v.TYPE_QUADRANT_ROTATION|v.TYPE_FLIP|v.TYPE_UNIFORM_SCALE:v.TYPE_QUADRANT_ROTATION|v.TYPE_FLIP|v.TYPE_GENERAL_SCALE;break;case v.APPLY_SCALE|v.APPLY_TRANSLATE:o=v.TYPE_TRANSLATION;case v.APPLY_SCALE:o|=(t=0<=(e=this.m00))==0<=(n=this.m11)?t?e===n?v.TYPE_UNIFORM_SCALE:v.TYPE_GENERAL_SCALE:e!==n?v.TYPE_QUADRANT_ROTATION|v.TYPE_GENERAL_SCALE:-1!==e?v.TYPE_QUADRANT_ROTATION|v.TYPE_UNIFORM_SCALE:v.TYPE_QUADRANT_ROTATION:e===-n?1===e||-1===e?v.TYPE_FLIP:v.TYPE_FLIP|v.TYPE_UNIFORM_SCALE:v.TYPE_FLIP|v.TYPE_GENERAL_SCALE;break;case v.APPLY_TRANSLATE:o=v.TYPE_TRANSLATION;break;case v.APPLY_IDENTITY:}this.type=o},v.prototype.getDeterminant=function(){switch(this.state){default:this.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.APPLY_SHEAR|v.APPLY_SCALE:return this.m00*this.m11-this.m01*this.m10;case v.APPLY_SHEAR|v.APPLY_TRANSLATE:case v.APPLY_SHEAR:return-this.m01*this.m10;case v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.APPLY_SCALE:return this.m00*this.m11;case v.APPLY_TRANSLATE:case v.APPLY_IDENTITY:return 1}},v.prototype.updateState=function(){0===this.m01&&0===this.m10?1===this.m00&&1===this.m11?0===this.m02&&0===this.m12?(this.state=v.APPLY_IDENTITY,this.type=v.TYPE_IDENTITY):(this.state=v.APPLY_TRANSLATE,this.type=v.TYPE_TRANSLATION):(0===this.m02&&0===this.m12?this.state=v.APPLY_SCALE:this.state=v.APPLY_SCALE|v.APPLY_TRANSLATE,this.type=v.TYPE_UNKNOWN):(0===this.m00&&0===this.m11?0===this.m02&&0===this.m12?this.state=v.APPLY_SHEAR:this.state=v.APPLY_SHEAR|v.APPLY_TRANSLATE:0===this.m02&&0===this.m12?this.state=v.APPLY_SHEAR|v.APPLY_SCALE:this.state=v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE,this.type=v.TYPE_UNKNOWN)},v.prototype.stateError=function(){throw new m.lang.InternalError("missing case in transform state switch")},v.prototype.getMatrix=function(t){t[0]=this.m00,t[1]=this.m10,t[2]=this.m01,t[3]=this.m11,5<t.length&&(t[4]=this.m02,t[5]=this.m12)},v.prototype.getScaleX=function(){return this.m00},v.prototype.getScaleY=function(){return this.m11},v.prototype.getShearX=function(){return this.m01},v.prototype.getShearY=function(){return this.m10},v.prototype.getTranslateX=function(){return this.m02},v.prototype.getTranslateY=function(){return this.m12},v.prototype.translate=function(t,e){switch(this.state){default:return void this.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:return this.m02=t*this.m00+e*this.m01+this.m02,this.m12=t*this.m10+e*this.m11+this.m12,void(0===this.m02&&0===this.m12&&(this.state=v.APPLY_SHEAR|v.APPLY_SCALE,this.type!==v.TYPE_UNKNOWN&&(this.type-=v.TYPE_TRANSLATION)));case v.APPLY_SHEAR|v.APPLY_SCALE:return this.m02=t*this.m00+e*this.m01,this.m12=t*this.m10+e*this.m11,void(0===this.m02&&0===this.m12||(this.state=v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE,this.type|=v.TYPE_TRANSLATION));case v.APPLY_SHEAR|v.APPLY_TRANSLATE:return this.m02=e*this.m01+this.m02,this.m12=t*this.m10+this.m12,void(0===this.m02&&0===this.m12&&(this.state=v.APPLY_SHEAR,this.type!==v.TYPE_UNKNOWN&&(this.type-=v.TYPE_TRANSLATION)));case v.APPLY_SHEAR:return this.m02=e*this.m01,this.m12=t*this.m10,void(0===this.m02&&0===this.m12||(this.state=v.APPLY_SHEAR|v.APPLY_TRANSLATE,this.type|=v.TYPE_TRANSLATION));case v.APPLY_SCALE|v.APPLY_TRANSLATE:return this.m02=t*this.m00+this.m02,this.m12=e*this.m11+this.m12,void(0===this.m02&&0===this.m12&&(this.state=v.APPLY_SCALE,this.type!==v.TYPE_UNKNOWN&&(this.type-=v.TYPE_TRANSLATION)));case v.APPLY_SCALE:return this.m02=t*this.m00,this.m12=e*this.m11,void(0===this.m02&&0===this.m12||(this.state=v.APPLY_SCALE|v.APPLY_TRANSLATE,this.type|=v.TYPE_TRANSLATION));case v.APPLY_TRANSLATE:return this.m02=t+this.m02,this.m12=e+this.m12,void(0===this.m02&&0===this.m12&&(this.state=v.APPLY_IDENTITY,this.type=v.TYPE_IDENTITY));case v.APPLY_IDENTITY:return this.m02=t,this.m12=e,void(0===t&&0===e||(this.state=v.APPLY_TRANSLATE,this.type=v.TYPE_TRANSLATION))}},v.rot90conversion_$LI$=function(){return null==v.rot90conversion&&(v.rot90conversion=[v.APPLY_SHEAR,v.APPLY_SHEAR|v.APPLY_TRANSLATE,v.APPLY_SHEAR,v.APPLY_SHEAR|v.APPLY_TRANSLATE,v.APPLY_SCALE,v.APPLY_SCALE|v.APPLY_TRANSLATE,v.APPLY_SHEAR|v.APPLY_SCALE,v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE]),v.rot90conversion},v.prototype.rotate90=function(){var t=this.m00;this.m00=this.m01,this.m01=-t,t=this.m10,this.m10=this.m11,this.m11=-t;var e=v.rot90conversion_$LI$()[this.state];(e&(v.APPLY_SHEAR|v.APPLY_SCALE))===v.APPLY_SCALE&&1===this.m00&&1===this.m11&&(e-=v.APPLY_SCALE),this.state=e,this.type=v.TYPE_UNKNOWN},v.prototype.rotate180=function(){this.m00=-this.m00,this.m11=-this.m11;var t=this.state;0!=(t&v.APPLY_SHEAR)?(this.m01=-this.m01,this.m10=-this.m10):1===this.m00&&1===this.m11?this.state=t&~v.APPLY_SCALE:this.state=t|v.APPLY_SCALE,this.type=v.TYPE_UNKNOWN},v.prototype.rotate270=function(){var t=this.m00;this.m00=-this.m01,this.m01=t,t=this.m10,this.m10=-this.m11,this.m11=t;var e=v.rot90conversion_$LI$()[this.state];(e&(v.APPLY_SHEAR|v.APPLY_SCALE))===v.APPLY_SCALE&&1===this.m00&&1===this.m11&&(e-=v.APPLY_SCALE),this.state=e,this.type=v.TYPE_UNKNOWN},v.prototype.rotate$double=function(t){var e=Math.sin(t);if(1===e)this.rotate90();else if(-1===e)this.rotate270();else{var n=Math.cos(t);if(-1===n)this.rotate180();else if(1!==n){var r,i;r=this.m00,i=this.m01,this.m00=n*r+e*i,this.m01=-e*r+n*i,r=this.m10,i=this.m11,this.m10=n*r+e*i,this.m11=-e*r+n*i,this.updateState()}}},v.prototype.rotate$double$double$double=function(t,e,n){this.translate(e,n),this.rotate(t),this.translate(-e,-n)},v.prototype.rotate$double$double=function(t,e){if(0===e)t<0&&this.rotate180();else if(0===t)0<e?this.rotate90():this.rotate270();else{var n,r,i=Math.sqrt(t*t+e*e),o=e/i,a=t/i;n=this.m00,r=this.m01,this.m00=a*n+o*r,this.m01=-o*n+a*r,n=this.m10,r=this.m11,this.m10=a*n+o*r,this.m11=-o*n+a*r,this.updateState()}},v.prototype.rotate=function(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||void 0!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.rotate$double(t)}return this.rotate$double$double(t,e)}return this.rotate$double$double$double(t,e,n)}return i.translate(n,r),i.rotate(t,e),void i.translate(-n,-r)},v.prototype.quadrantRotate$int=function(t){switch(3&t){case 0:break;case 1:this.rotate90();break;case 2:this.rotate180();break;case 3:this.rotate270()}},v.prototype.quadrantRotate=function(t,e,n){var r=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return this.quadrantRotate$int(t)}return function(){switch(3&t){case 0:return;case 1:r.m02+=e*(r.m00-r.m01)+n*(r.m01+r.m00),r.m12+=e*(r.m10-r.m11)+n*(r.m11+r.m10),r.rotate90();break;case 2:r.m02+=e*(r.m00+r.m00)+n*(r.m01+r.m01),r.m12+=e*(r.m10+r.m10)+n*(r.m11+r.m11),r.rotate180();break;case 3:r.m02+=e*(r.m00+r.m01)+n*(r.m01-r.m00),r.m12+=e*(r.m10+r.m11)+n*(r.m11-r.m10),r.rotate270()}0===r.m02&&0===r.m12?r.state&=~v.APPLY_TRANSLATE:r.state|=v.APPLY_TRANSLATE}()},v.prototype.scale=function(t,e){var n=this.state;switch(n){default:this.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.APPLY_SHEAR|v.APPLY_SCALE:this.m00*=t,this.m11*=e;case v.APPLY_SHEAR|v.APPLY_TRANSLATE:case v.APPLY_SHEAR:return this.m01*=e,this.m10*=t,void(0===this.m01&&0===this.m10&&(n&=v.APPLY_TRANSLATE,1===this.m00&&1===this.m11?this.type=n===v.APPLY_IDENTITY?v.TYPE_IDENTITY:v.TYPE_TRANSLATION:(n|=v.APPLY_SCALE,this.type=v.TYPE_UNKNOWN),this.state=n));case v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.APPLY_SCALE:return this.m00*=t,this.m11*=e,void(1===this.m00&&1===this.m11?(this.state=n&=v.APPLY_TRANSLATE,this.type=n===v.APPLY_IDENTITY?v.TYPE_IDENTITY:v.TYPE_TRANSLATION):this.type=v.TYPE_UNKNOWN);case v.APPLY_TRANSLATE:case v.APPLY_IDENTITY:return this.m00=t,this.m11=e,void(1===t&&1===e||(this.state=n|v.APPLY_SCALE,this.type=v.TYPE_UNKNOWN))}},v.prototype.shear=function(t,e){var n=this.state;switch(n){default:return void this.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.APPLY_SHEAR|v.APPLY_SCALE:var r,i;return r=this.m00,i=this.m01,this.m00=r+i*e,this.m01=r*t+i,r=this.m10,i=this.m11,this.m10=r+i*e,this.m11=r*t+i,void this.updateState();case v.APPLY_SHEAR|v.APPLY_TRANSLATE:case v.APPLY_SHEAR:return this.m00=this.m01*e,this.m11=this.m10*t,0===this.m00&&0===this.m11||(this.state=n|v.APPLY_SCALE),void(this.type=v.TYPE_UNKNOWN);case v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.APPLY_SCALE:return this.m01=this.m00*t,this.m10=this.m11*e,0===this.m01&&0===this.m10||(this.state=n|v.APPLY_SHEAR),void(this.type=v.TYPE_UNKNOWN);case v.APPLY_TRANSLATE:case v.APPLY_IDENTITY:return this.m01=t,this.m10=e,void(0===this.m01&&0===this.m10||(this.state=n|v.APPLY_SCALE|v.APPLY_SHEAR,this.type=v.TYPE_UNKNOWN))}},v.prototype.setToIdentity=function(){this.m00=this.m11=1,this.m10=this.m01=this.m02=this.m12=0,this.state=v.APPLY_IDENTITY,this.type=v.TYPE_IDENTITY},v.prototype.setToTranslation=function(t,e){this.m00=1,this.m10=0,this.m01=0,this.m11=1,this.m02=t,this.m12=e,0!==t||0!==e?(this.state=v.APPLY_TRANSLATE,this.type=v.TYPE_TRANSLATION):(this.state=v.APPLY_IDENTITY,this.type=v.TYPE_IDENTITY)},v.prototype.setToRotation$double=function(t){var e,n=Math.sin(t);1===n||-1===n?(e=0,this.state=v.APPLY_SHEAR,this.type=v.TYPE_QUADRANT_ROTATION):-1===(e=Math.cos(t))?(n=0,this.state=v.APPLY_SCALE,this.type=v.TYPE_QUADRANT_ROTATION):1===e?(n=0,this.state=v.APPLY_IDENTITY,this.type=v.TYPE_IDENTITY):(this.state=v.APPLY_SHEAR|v.APPLY_SCALE,this.type=v.TYPE_GENERAL_ROTATION),this.m00=e,this.m10=n,this.m01=-n,this.m11=e,this.m02=0,this.m12=0},v.prototype.setToRotation$double$double$double=function(t,e,n){this.setToRotation(t);var r=this.m10,i=1-this.m00;this.m02=e*i+n*r,this.m12=n*i-e*r,0===this.m02&&0===this.m12||(this.state|=v.APPLY_TRANSLATE,this.type|=v.TYPE_TRANSLATION)},v.prototype.setToRotation$double$double=function(t,e){var n,r;if(0===e)t<(n=0)?(r=-1,this.state=v.APPLY_SCALE,this.type=v.TYPE_QUADRANT_ROTATION):(r=1,this.state=v.APPLY_IDENTITY,this.type=v.TYPE_IDENTITY);else if(0===t)n=(r=0)<e?1:-1,this.state=v.APPLY_SHEAR,this.type=v.TYPE_QUADRANT_ROTATION;else{var i=Math.sqrt(t*t+e*e);r=t/i,n=e/i,this.state=v.APPLY_SHEAR|v.APPLY_SCALE,this.type=v.TYPE_GENERAL_ROTATION}this.m00=r,this.m10=n,this.m01=-n,this.m11=r,this.m02=0,this.m12=0},v.prototype.setToRotation=function(n,r,i,o){var a=this;if("number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if("number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||void 0!==o){if("number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||void 0!==i||void 0!==o){if("number"!=typeof n&&null!==n||void 0!==r||void 0!==i||void 0!==o)throw new Error("invalid overload");return this.setToRotation$double(n)}return this.setToRotation$double$double(n,r)}return this.setToRotation$double$double$double(n,r,i)}return function(){a.setToRotation(n,r);var t=a.m10,e=1-a.m00;a.m02=i*e+o*t,a.m12=o*e-i*t,0===a.m02&&0===a.m12||(a.state|=v.APPLY_TRANSLATE,a.type|=v.TYPE_TRANSLATION)}()},v.prototype.setToQuadrantRotation$int=function(t){switch(3&t){case 0:this.m00=1,this.m10=0,this.m01=0,this.m11=1,this.m02=0,this.m12=0,this.state=v.APPLY_IDENTITY,this.type=v.TYPE_IDENTITY;break;case 1:this.m00=0,this.m10=1,this.m01=-1,this.m11=0,this.m02=0,this.m12=0,this.state=v.APPLY_SHEAR,this.type=v.TYPE_QUADRANT_ROTATION;break;case 2:this.m00=-1,this.m10=0,this.m01=0,this.m11=-1,this.m02=0,this.m12=0,this.state=v.APPLY_SCALE,this.type=v.TYPE_QUADRANT_ROTATION;break;case 3:this.m00=0,this.m10=-1,this.m01=1,this.m11=0,this.m02=0,this.m12=0,this.state=v.APPLY_SHEAR,this.type=v.TYPE_QUADRANT_ROTATION}},v.prototype.setToQuadrantRotation=function(t,e,n){var r=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return this.setToQuadrantRotation$int(t)}return function(){switch(3&t){case 0:r.m00=1,r.m10=0,r.m01=0,r.m11=1,r.m02=0,r.m12=0,r.state=v.APPLY_IDENTITY,r.type=v.TYPE_IDENTITY;break;case 1:r.m00=0,r.m10=1,r.m01=-1,r.m11=0,r.m02=e+n,r.m12=n-e,0===r.m02&&0===r.m12?(r.state=v.APPLY_SHEAR,r.type=v.TYPE_QUADRANT_ROTATION):(r.state=v.APPLY_SHEAR|v.APPLY_TRANSLATE,r.type=v.TYPE_QUADRANT_ROTATION|v.TYPE_TRANSLATION);break;case 2:r.m00=-1,r.m10=0,r.m01=0,r.m11=-1,r.m02=e+e,r.m12=n+n,0===r.m02&&0===r.m12?(r.state=v.APPLY_SCALE,r.type=v.TYPE_QUADRANT_ROTATION):(r.state=v.APPLY_SCALE|v.APPLY_TRANSLATE,r.type=v.TYPE_QUADRANT_ROTATION|v.TYPE_TRANSLATION);break;case 3:r.m00=0,r.m10=-1,r.m01=1,r.m11=0,r.m02=e-n,r.m12=n+e,0===r.m02&&0===r.m12?(r.state=v.APPLY_SHEAR,r.type=v.TYPE_QUADRANT_ROTATION):(r.state=v.APPLY_SHEAR|v.APPLY_TRANSLATE,r.type=v.TYPE_QUADRANT_ROTATION|v.TYPE_TRANSLATION)}}()},v.prototype.setToScale=function(t,e){this.m00=t,this.m10=0,this.m01=0,this.m11=e,this.m02=0,this.m12=0,1!==t||1!==e?(this.state=v.APPLY_SCALE,this.type=v.TYPE_UNKNOWN):(this.state=v.APPLY_IDENTITY,this.type=v.TYPE_IDENTITY)},v.prototype.setToShear=function(t,e){this.m00=1,this.m01=t,this.m10=e,this.m11=1,this.m02=0,(this.m12=0)!==t||0!==e?(this.state=v.APPLY_SHEAR|v.APPLY_SCALE,this.type=v.TYPE_UNKNOWN):(this.state=v.APPLY_IDENTITY,this.type=v.TYPE_IDENTITY)},v.prototype.setTransform$java_awt_geom_AffineTransform=function(t){this.m00=t.m00,this.m10=t.m10,this.m01=t.m01,this.m11=t.m11,this.m02=t.m02,this.m12=t.m12,this.state=t.state,this.type=t.type},v.prototype.setTransform=function(t,e,n,r,i,o){var a=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if((null!=t&&t instanceof m.awt.geom.AffineTransform||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o)return this.setTransform$java_awt_geom_AffineTransform(t);throw new Error("invalid overload")}return a.m00=t,a.m10=e,a.m01=n,a.m11=r,a.m02=i,a.m12=o,void a.updateState()},v.prototype.concatenate=function(t){var e,n,r,i,o,a,s,l,u=this.state,c=t.state;switch(c<<v.HI_SHIFT|u){case v.HI_IDENTITY_$LI$()|v.APPLY_IDENTITY:case v.HI_IDENTITY_$LI$()|v.APPLY_TRANSLATE:case v.HI_IDENTITY_$LI$()|v.APPLY_SCALE:case v.HI_IDENTITY_$LI$()|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.HI_IDENTITY_$LI$()|v.APPLY_SHEAR:case v.HI_IDENTITY_$LI$()|v.APPLY_SHEAR|v.APPLY_TRANSLATE:case v.HI_IDENTITY_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE:case v.HI_IDENTITY_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:return;case v.HI_SHEAR_$LI$()|v.HI_SCALE_$LI$()|v.HI_TRANSLATE_$LI$()|v.APPLY_IDENTITY:this.m01=t.m01,this.m10=t.m10;case v.HI_SCALE_$LI$()|v.HI_TRANSLATE_$LI$()|v.APPLY_IDENTITY:this.m00=t.m00,this.m11=t.m11;case v.HI_TRANSLATE_$LI$()|v.APPLY_IDENTITY:return this.m02=t.m02,this.m12=t.m12,this.state=c,void(this.type=t.type);case v.HI_SHEAR_$LI$()|v.HI_SCALE_$LI$()|v.APPLY_IDENTITY:this.m01=t.m01,this.m10=t.m10;case v.HI_SCALE_$LI$()|v.APPLY_IDENTITY:return this.m00=t.m00,this.m11=t.m11,this.state=c,void(this.type=t.type);case v.HI_SHEAR_$LI$()|v.HI_TRANSLATE_$LI$()|v.APPLY_IDENTITY:this.m02=t.m02,this.m12=t.m12;case v.HI_SHEAR_$LI$()|v.APPLY_IDENTITY:return this.m01=t.m01,this.m10=t.m10,this.m00=this.m11=0,this.state=c,void(this.type=t.type);case v.HI_TRANSLATE_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.HI_TRANSLATE_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE:case v.HI_TRANSLATE_$LI$()|v.APPLY_SHEAR|v.APPLY_TRANSLATE:case v.HI_TRANSLATE_$LI$()|v.APPLY_SHEAR:case v.HI_TRANSLATE_$LI$()|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.HI_TRANSLATE_$LI$()|v.APPLY_SCALE:case v.HI_TRANSLATE_$LI$()|v.APPLY_TRANSLATE:return void this.translate(t.m02,t.m12);case v.HI_SCALE_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.HI_SCALE_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE:case v.HI_SCALE_$LI$()|v.APPLY_SHEAR|v.APPLY_TRANSLATE:case v.HI_SCALE_$LI$()|v.APPLY_SHEAR:case v.HI_SCALE_$LI$()|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.HI_SCALE_$LI$()|v.APPLY_SCALE:case v.HI_SCALE_$LI$()|v.APPLY_TRANSLATE:return void this.scale(t.m00,t.m11);case v.HI_SHEAR_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.HI_SHEAR_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE:return i=t.m01,o=t.m10,e=this.m00,this.m00=this.m01*o,this.m01=e*i,e=this.m10,this.m10=this.m11*o,this.m11=e*i,void(this.type=v.TYPE_UNKNOWN);case v.HI_SHEAR_$LI$()|v.APPLY_SHEAR|v.APPLY_TRANSLATE:case v.HI_SHEAR_$LI$()|v.APPLY_SHEAR:return this.m00=this.m01*t.m10,this.m01=0,this.m11=this.m10*t.m01,this.m10=0,this.state=u^(v.APPLY_SHEAR|v.APPLY_SCALE),void(this.type=v.TYPE_UNKNOWN);case v.HI_SHEAR_$LI$()|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.HI_SHEAR_$LI$()|v.APPLY_SCALE:return this.m01=this.m00*t.m01,this.m00=0,this.m10=this.m11*t.m10,this.m11=0,this.state=u^(v.APPLY_SHEAR|v.APPLY_SCALE),void(this.type=v.TYPE_UNKNOWN);case v.HI_SHEAR_$LI$()|v.APPLY_TRANSLATE:return this.m00=0,this.m01=t.m01,this.m10=t.m10,this.m11=0,this.state=v.APPLY_TRANSLATE|v.APPLY_SHEAR,void(this.type=v.TYPE_UNKNOWN)}switch(r=t.m00,i=t.m01,s=t.m02,o=t.m10,a=t.m11,l=t.m12,u){default:this.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE:this.state=u|c;case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:return e=this.m00,n=this.m01,this.m00=r*e+o*n,this.m01=i*e+a*n,this.m02+=s*e+l*n,e=this.m10,n=this.m11,this.m10=r*e+o*n,this.m11=i*e+a*n,this.m12+=s*e+l*n,void(this.type=v.TYPE_UNKNOWN);case v.APPLY_SHEAR|v.APPLY_TRANSLATE:case v.APPLY_SHEAR:e=this.m01,this.m00=o*e,this.m01=a*e,this.m02+=l*e,e=this.m10,this.m10=r*e,this.m11=i*e,this.m12+=s*e;break;case v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.APPLY_SCALE:e=this.m00,this.m00=r*e,this.m01=i*e,this.m02+=s*e,e=this.m11,this.m10=o*e,this.m11=a*e,this.m12+=l*e;break;case v.APPLY_TRANSLATE:return this.m00=r,this.m01=i,this.m02+=s,this.m10=o,this.m11=a,this.m12+=l,this.state=c|v.APPLY_TRANSLATE,void(this.type=v.TYPE_UNKNOWN)}this.updateState()},v.prototype.preConcatenate=function(t){var e,n,r,i,o,a,s,l,u=this.state,c=t.state;switch(c<<v.HI_SHIFT|u){case v.HI_IDENTITY_$LI$()|v.APPLY_IDENTITY:case v.HI_IDENTITY_$LI$()|v.APPLY_TRANSLATE:case v.HI_IDENTITY_$LI$()|v.APPLY_SCALE:case v.HI_IDENTITY_$LI$()|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.HI_IDENTITY_$LI$()|v.APPLY_SHEAR:case v.HI_IDENTITY_$LI$()|v.APPLY_SHEAR|v.APPLY_TRANSLATE:case v.HI_IDENTITY_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE:case v.HI_IDENTITY_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:return;case v.HI_TRANSLATE_$LI$()|v.APPLY_IDENTITY:case v.HI_TRANSLATE_$LI$()|v.APPLY_SCALE:case v.HI_TRANSLATE_$LI$()|v.APPLY_SHEAR:case v.HI_TRANSLATE_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE:return this.m02=t.m02,this.m12=t.m12,this.state=u|v.APPLY_TRANSLATE,void(this.type|=v.TYPE_TRANSLATION);case v.HI_TRANSLATE_$LI$()|v.APPLY_TRANSLATE:case v.HI_TRANSLATE_$LI$()|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.HI_TRANSLATE_$LI$()|v.APPLY_SHEAR|v.APPLY_TRANSLATE:case v.HI_TRANSLATE_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:return this.m02=this.m02+t.m02,void(this.m12=this.m12+t.m12);case v.HI_SCALE_$LI$()|v.APPLY_TRANSLATE:case v.HI_SCALE_$LI$()|v.APPLY_IDENTITY:this.state=u|v.APPLY_SCALE;case v.HI_SCALE_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.HI_SCALE_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE:case v.HI_SCALE_$LI$()|v.APPLY_SHEAR|v.APPLY_TRANSLATE:case v.HI_SCALE_$LI$()|v.APPLY_SHEAR:case v.HI_SCALE_$LI$()|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.HI_SCALE_$LI$()|v.APPLY_SCALE:return r=t.m00,a=t.m11,0!=(u&v.APPLY_SHEAR)?(this.m01=this.m01*r,this.m10=this.m10*a,0!=(u&v.APPLY_SCALE)&&(this.m00=this.m00*r,this.m11=this.m11*a)):(this.m00=this.m00*r,this.m11=this.m11*a),0!=(u&v.APPLY_TRANSLATE)&&(this.m02=this.m02*r,this.m12=this.m12*a),void(this.type=v.TYPE_UNKNOWN);case v.HI_SHEAR_$LI$()|v.APPLY_SHEAR|v.APPLY_TRANSLATE:case v.HI_SHEAR_$LI$()|v.APPLY_SHEAR:u|=v.APPLY_SCALE;case v.HI_SHEAR_$LI$()|v.APPLY_TRANSLATE:case v.HI_SHEAR_$LI$()|v.APPLY_IDENTITY:case v.HI_SHEAR_$LI$()|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.HI_SHEAR_$LI$()|v.APPLY_SCALE:this.state=u^v.APPLY_SHEAR;case v.HI_SHEAR_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.HI_SHEAR_$LI$()|v.APPLY_SHEAR|v.APPLY_SCALE:return i=t.m01,o=t.m10,e=this.m00,this.m00=this.m10*i,this.m10=e*o,e=this.m01,this.m01=this.m11*i,this.m11=e*o,e=this.m02,this.m02=this.m12*i,this.m12=e*o,void(this.type=v.TYPE_UNKNOWN)}switch(r=t.m00,i=t.m01,s=t.m02,o=t.m10,a=t.m11,l=t.m12,u){default:this.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:s+=(e=this.m02)*r+(n=this.m12)*i,l+=e*o+n*a;case v.APPLY_SHEAR|v.APPLY_SCALE:this.m02=s,this.m12=l,e=this.m00,n=this.m10,this.m00=e*r+n*i,this.m10=e*o+n*a,e=this.m01,n=this.m11,this.m01=e*r+n*i,this.m11=e*o+n*a;break;case v.APPLY_SHEAR|v.APPLY_TRANSLATE:s+=(e=this.m02)*r+(n=this.m12)*i,l+=e*o+n*a;case v.APPLY_SHEAR:this.m02=s,this.m12=l,e=this.m10,this.m00=e*i,this.m10=e*a,e=this.m01,this.m01=e*r,this.m11=e*o;break;case v.APPLY_SCALE|v.APPLY_TRANSLATE:s+=(e=this.m02)*r+(n=this.m12)*i,l+=e*o+n*a;case v.APPLY_SCALE:this.m02=s,this.m12=l,e=this.m00,this.m00=e*r,this.m10=e*o,e=this.m11,this.m01=e*i,this.m11=e*a;break;case v.APPLY_TRANSLATE:s+=(e=this.m02)*r+(n=this.m12)*i,l+=e*o+n*a;case v.APPLY_IDENTITY:return this.m02=s,this.m12=l,this.m00=r,this.m10=o,this.m01=i,this.m11=a,this.state=u|c,void(this.type=v.TYPE_UNKNOWN)}this.updateState()},v.prototype.createInverse=function(){var t;switch(this.state){default:return this.stateError(),null;case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:if(t=this.m00*this.m11-this.m01*this.m10,Math.abs(t)<=javaemul.internal.DoubleHelper.MIN_VALUE)throw new m.awt.geom.NoninvertibleTransformException("Determinant is "+t);return new v(this.m11/t,-this.m10/t,-this.m01/t,this.m00/t,(this.m01*this.m12-this.m11*this.m02)/t,(this.m10*this.m02-this.m00*this.m12)/t,v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE);case v.APPLY_SHEAR|v.APPLY_SCALE:if(t=this.m00*this.m11-this.m01*this.m10,Math.abs(t)<=javaemul.internal.DoubleHelper.MIN_VALUE)throw new m.awt.geom.NoninvertibleTransformException("Determinant is "+t);return new v(this.m11/t,-this.m10/t,-this.m01/t,this.m00/t,0,0,v.APPLY_SHEAR|v.APPLY_SCALE);case v.APPLY_SHEAR|v.APPLY_TRANSLATE:if(0===this.m01||0===this.m10)throw new m.awt.geom.NoninvertibleTransformException("Determinant is 0");return new v(0,1/this.m01,1/this.m10,0,-this.m12/this.m10,-this.m02/this.m01,v.APPLY_SHEAR|v.APPLY_TRANSLATE);case v.APPLY_SHEAR:if(0===this.m01||0===this.m10)throw new m.awt.geom.NoninvertibleTransformException("Determinant is 0");return new v(0,1/this.m01,1/this.m10,0,0,0,v.APPLY_SHEAR);case v.APPLY_SCALE|v.APPLY_TRANSLATE:if(0===this.m00||0===this.m11)throw new m.awt.geom.NoninvertibleTransformException("Determinant is 0");return new v(1/this.m00,0,0,1/this.m11,-this.m02/this.m00,-this.m12/this.m11,v.APPLY_SCALE|v.APPLY_TRANSLATE);case v.APPLY_SCALE:if(0===this.m00||0===this.m11)throw new m.awt.geom.NoninvertibleTransformException("Determinant is 0");return new v(1/this.m00,0,0,1/this.m11,0,0,v.APPLY_SCALE);case v.APPLY_TRANSLATE:return new v(1,0,0,1,-this.m02,-this.m12,v.APPLY_TRANSLATE);case v.APPLY_IDENTITY:return new v}},v.prototype.invert=function(){var t,e,n,r,i,o,a;switch(this.state){default:return void this.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:if(t=this.m00,e=this.m01,n=this.m02,r=this.m10,i=this.m11,o=this.m12,a=t*i-e*r,Math.abs(a)<=javaemul.internal.DoubleHelper.MIN_VALUE)throw new m.awt.geom.NoninvertibleTransformException("Determinant is "+a);this.m00=i/a,this.m10=-r/a,this.m01=-e/a,this.m11=t/a,this.m02=(e*o-i*n)/a,this.m12=(r*n-t*o)/a;break;case v.APPLY_SHEAR|v.APPLY_SCALE:if(t=this.m00,e=this.m01,r=this.m10,a=t*(i=this.m11)-e*r,Math.abs(a)<=javaemul.internal.DoubleHelper.MIN_VALUE)throw new m.awt.geom.NoninvertibleTransformException("Determinant is "+a);this.m00=i/a,this.m10=-r/a,this.m01=-e/a,this.m11=t/a;break;case v.APPLY_SHEAR|v.APPLY_TRANSLATE:if(e=this.m01,n=this.m02,r=this.m10,o=this.m12,0===e||0===r)throw new m.awt.geom.NoninvertibleTransformException("Determinant is 0");this.m10=1/e,this.m01=1/r,this.m02=-o/r,this.m12=-n/e;break;case v.APPLY_SHEAR:if(e=this.m01,r=this.m10,0===e||0===r)throw new m.awt.geom.NoninvertibleTransformException("Determinant is 0");this.m10=1/e,this.m01=1/r;break;case v.APPLY_SCALE|v.APPLY_TRANSLATE:if(t=this.m00,n=this.m02,i=this.m11,o=this.m12,0===t||0===i)throw new m.awt.geom.NoninvertibleTransformException("Determinant is 0");this.m00=1/t,this.m11=1/i,this.m02=-n/t,this.m12=-o/i;break;case v.APPLY_SCALE:if(t=this.m00,i=this.m11,0===t||0===i)throw new m.awt.geom.NoninvertibleTransformException("Determinant is 0");this.m00=1/t,this.m11=1/i;break;case v.APPLY_TRANSLATE:this.m02=-this.m02,this.m12=-this.m12;break;case v.APPLY_IDENTITY:}},v.prototype.transform$java_awt_geom_Point2D$java_awt_geom_Point2D=function(t,e){null==e&&(e=null!=t&&t instanceof m.awt.geom.Point2D.Double?new m.awt.geom.Point2D.Double:new m.awt.geom.Point2D.Float);var n=t.getX(),r=t.getY();switch(this.state){default:return this.stateError(),null;case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:return e.setLocation(n*this.m00+r*this.m01+this.m02,n*this.m10+r*this.m11+this.m12),e;case v.APPLY_SHEAR|v.APPLY_SCALE:return e.setLocation(n*this.m00+r*this.m01,n*this.m10+r*this.m11),e;case v.APPLY_SHEAR|v.APPLY_TRANSLATE:return e.setLocation(r*this.m01+this.m02,n*this.m10+this.m12),e;case v.APPLY_SHEAR:return e.setLocation(r*this.m01,n*this.m10),e;case v.APPLY_SCALE|v.APPLY_TRANSLATE:return e.setLocation(n*this.m00+this.m02,r*this.m11+this.m12),e;case v.APPLY_SCALE:return e.setLocation(n*this.m00,r*this.m11),e;case v.APPLY_TRANSLATE:return e.setLocation(n+this.m02,r+this.m12),e;case v.APPLY_IDENTITY:return e.setLocation(n,r),e}},v.prototype.transform=function(o,a,s,l,u){var c=this;if(!(null!=o&&o instanceof Array||null===o)||"number"!=typeof a&&null!==a||!(null!=s&&s instanceof Array||null===s)||"number"!=typeof l&&null!==l||"number"!=typeof u&&null!==u){if(!(null!=o&&o instanceof Array||null===o)||"number"!=typeof a&&null!==a||!(null!=s&&s instanceof Array||null===s)||"number"!=typeof l&&null!==l||"number"!=typeof u&&null!==u){if(!(null!=o&&o instanceof Array||null===o)||"number"!=typeof a&&null!==a||!(null!=s&&s instanceof Array||null===s)||"number"!=typeof l&&null!==l||"number"!=typeof u&&null!==u){if(!(null!=o&&o instanceof Array||null===o)||"number"!=typeof a&&null!==a||!(null!=s&&s instanceof Array||null===s)||"number"!=typeof l&&null!==l||"number"!=typeof u&&null!==u){if(!(null!=o&&o instanceof Array||null===o)||"number"!=typeof a&&null!==a||!(null!=s&&s instanceof Array||null===s)||"number"!=typeof l&&null!==l||"number"!=typeof u&&null!==u){if((null!=o&&o instanceof m.awt.geom.Point2D||null===o)&&(null!=a&&a instanceof m.awt.geom.Point2D||null===a)&&void 0===s&&void 0===l&&void 0===u)return this.transform$java_awt_geom_Point2D$java_awt_geom_Point2D(o,a);throw new Error("invalid overload")}return this.transform$double_A$int$float_A$int$int(o,a,s,l,u)}return this.transform$float_A$int$double_A$int$int(o,a,s,l,u)}return this.transform$double_A$int$double_A$int$int(o,a,s,l,u)}return this.transform$float_A$int$float_A$int$int(o,a,s,l,u)}return function(){for(var t=c.state;0<=--u;){var e=o[a++],n=e.getX(),r=e.getY(),i=s[l++];switch(null==i&&(i=null!=e&&e instanceof m.awt.geom.Point2D.Double?new m.awt.geom.Point2D.Double:new m.awt.geom.Point2D.Float,s[l-1]=i),t){default:return void c.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:i.setLocation(n*c.m00+r*c.m01+c.m02,n*c.m10+r*c.m11+c.m12);break;case v.APPLY_SHEAR|v.APPLY_SCALE:i.setLocation(n*c.m00+r*c.m01,n*c.m10+r*c.m11);break;case v.APPLY_SHEAR|v.APPLY_TRANSLATE:i.setLocation(r*c.m01+c.m02,n*c.m10+c.m12);break;case v.APPLY_SHEAR:i.setLocation(r*c.m01,n*c.m10);break;case v.APPLY_SCALE|v.APPLY_TRANSLATE:i.setLocation(n*c.m00+c.m02,r*c.m11+c.m12);break;case v.APPLY_SCALE:i.setLocation(n*c.m00,r*c.m11);break;case v.APPLY_TRANSLATE:i.setLocation(n+c.m02,r+c.m12);break;case v.APPLY_IDENTITY:i.setLocation(n,r)}}}()},v.prototype.transform$float_A$int$float_A$int$int=function(t,e,n,r,i){var o,a,s,l,u,c;switch(n===t&&e<r&&r<e+2*i&&(m.lang.System.arraycopy(t,e,n,r,2*i),e=r),this.state){default:return void this.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:for(o=this.m00,a=this.m01,s=this.m02,l=this.m10,u=this.m11,c=this.m12;0<=--i;){var h=t[e++],f=t[e++];n[r++]=o*h+a*f+s,n[r++]=l*h+u*f+c}return;case v.APPLY_SHEAR|v.APPLY_SCALE:for(o=this.m00,a=this.m01,l=this.m10,u=this.m11;0<=--i;)h=t[e++],f=t[e++],n[r++]=o*h+a*f,n[r++]=l*h+u*f;return;case v.APPLY_SHEAR|v.APPLY_TRANSLATE:for(a=this.m01,s=this.m02,l=this.m10,c=this.m12;0<=--i;)h=t[e++],n[r++]=a*t[e++]+s,n[r++]=l*h+c;return;case v.APPLY_SHEAR:for(a=this.m01,l=this.m10;0<=--i;)h=t[e++],n[r++]=a*t[e++],n[r++]=l*h;return;case v.APPLY_SCALE|v.APPLY_TRANSLATE:for(o=this.m00,s=this.m02,u=this.m11,c=this.m12;0<=--i;)n[r++]=o*t[e++]+s,n[r++]=u*t[e++]+c;return;case v.APPLY_SCALE:for(o=this.m00,u=this.m11;0<=--i;)n[r++]=o*t[e++],n[r++]=u*t[e++];return;case v.APPLY_TRANSLATE:for(s=this.m02,c=this.m12;0<=--i;)n[r++]=t[e++]+s,n[r++]=t[e++]+c;return;case v.APPLY_IDENTITY:return void(t===n&&e===r||m.lang.System.arraycopy(t,e,n,r,2*i))}},v.prototype.transform$double_A$int$double_A$int$int=function(t,e,n,r,i){var o,a,s,l,u,c;switch(n===t&&e<r&&r<e+2*i&&(m.lang.System.arraycopy(t,e,n,r,2*i),e=r),this.state){default:return void this.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:for(o=this.m00,a=this.m01,s=this.m02,l=this.m10,u=this.m11,c=this.m12;0<=--i;){var h=t[e++],f=t[e++];n[r++]=o*h+a*f+s,n[r++]=l*h+u*f+c}return;case v.APPLY_SHEAR|v.APPLY_SCALE:for(o=this.m00,a=this.m01,l=this.m10,u=this.m11;0<=--i;)h=t[e++],f=t[e++],n[r++]=o*h+a*f,n[r++]=l*h+u*f;return;case v.APPLY_SHEAR|v.APPLY_TRANSLATE:for(a=this.m01,s=this.m02,l=this.m10,c=this.m12;0<=--i;)h=t[e++],n[r++]=a*t[e++]+s,n[r++]=l*h+c;return;case v.APPLY_SHEAR:for(a=this.m01,l=this.m10;0<=--i;)h=t[e++],n[r++]=a*t[e++],n[r++]=l*h;return;case v.APPLY_SCALE|v.APPLY_TRANSLATE:for(o=this.m00,s=this.m02,u=this.m11,c=this.m12;0<=--i;)n[r++]=o*t[e++]+s,n[r++]=u*t[e++]+c;return;case v.APPLY_SCALE:for(o=this.m00,u=this.m11;0<=--i;)n[r++]=o*t[e++],n[r++]=u*t[e++];return;case v.APPLY_TRANSLATE:for(s=this.m02,c=this.m12;0<=--i;)n[r++]=t[e++]+s,n[r++]=t[e++]+c;return;case v.APPLY_IDENTITY:return void(t===n&&e===r||m.lang.System.arraycopy(t,e,n,r,2*i))}},v.prototype.transform$float_A$int$double_A$int$int=function(t,e,n,r,i){var o,a,s,l,u,c;switch(this.state){default:return void this.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:for(o=this.m00,a=this.m01,s=this.m02,l=this.m10,u=this.m11,c=this.m12;0<=--i;){var h=t[e++],f=t[e++];n[r++]=o*h+a*f+s,n[r++]=l*h+u*f+c}return;case v.APPLY_SHEAR|v.APPLY_SCALE:for(o=this.m00,a=this.m01,l=this.m10,u=this.m11;0<=--i;)h=t[e++],f=t[e++],n[r++]=o*h+a*f,n[r++]=l*h+u*f;return;case v.APPLY_SHEAR|v.APPLY_TRANSLATE:for(a=this.m01,s=this.m02,l=this.m10,c=this.m12;0<=--i;)h=t[e++],n[r++]=a*t[e++]+s,n[r++]=l*h+c;return;case v.APPLY_SHEAR:for(a=this.m01,l=this.m10;0<=--i;)h=t[e++],n[r++]=a*t[e++],n[r++]=l*h;return;case v.APPLY_SCALE|v.APPLY_TRANSLATE:for(o=this.m00,s=this.m02,u=this.m11,c=this.m12;0<=--i;)n[r++]=o*t[e++]+s,n[r++]=u*t[e++]+c;return;case v.APPLY_SCALE:for(o=this.m00,u=this.m11;0<=--i;)n[r++]=o*t[e++],n[r++]=u*t[e++];return;case v.APPLY_TRANSLATE:for(s=this.m02,c=this.m12;0<=--i;)n[r++]=t[e++]+s,n[r++]=t[e++]+c;return;case v.APPLY_IDENTITY:for(;0<=--i;)n[r++]=t[e++],n[r++]=t[e++];return}},v.prototype.transform$double_A$int$float_A$int$int=function(t,e,n,r,i){var o,a,s,l,u,c;switch(this.state){default:return void this.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:for(o=this.m00,a=this.m01,s=this.m02,l=this.m10,u=this.m11,c=this.m12;0<=--i;){var h=t[e++],f=t[e++];n[r++]=o*h+a*f+s,n[r++]=l*h+u*f+c}return;case v.APPLY_SHEAR|v.APPLY_SCALE:for(o=this.m00,a=this.m01,l=this.m10,u=this.m11;0<=--i;)h=t[e++],f=t[e++],n[r++]=o*h+a*f,n[r++]=l*h+u*f;return;case v.APPLY_SHEAR|v.APPLY_TRANSLATE:for(a=this.m01,s=this.m02,l=this.m10,c=this.m12;0<=--i;)h=t[e++],n[r++]=a*t[e++]+s,n[r++]=l*h+c;return;case v.APPLY_SHEAR:for(a=this.m01,l=this.m10;0<=--i;)h=t[e++],n[r++]=a*t[e++],n[r++]=l*h;return;case v.APPLY_SCALE|v.APPLY_TRANSLATE:for(o=this.m00,s=this.m02,u=this.m11,c=this.m12;0<=--i;)n[r++]=o*t[e++]+s,n[r++]=u*t[e++]+c;return;case v.APPLY_SCALE:for(o=this.m00,u=this.m11;0<=--i;)n[r++]=o*t[e++],n[r++]=u*t[e++];return;case v.APPLY_TRANSLATE:for(s=this.m02,c=this.m12;0<=--i;)n[r++]=t[e++]+s,n[r++]=t[e++]+c;return;case v.APPLY_IDENTITY:for(;0<=--i;)n[r++]=t[e++],n[r++]=t[e++];return}},v.prototype.inverseTransform$java_awt_geom_Point2D$java_awt_geom_Point2D=function(t,e){null==e&&(e=null!=t&&t instanceof m.awt.geom.Point2D.Double?new m.awt.geom.Point2D.Double:new m.awt.geom.Point2D.Float);var n=t.getX(),r=t.getY();switch(this.state){default:this.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:n-=this.m02,r-=this.m12;case v.APPLY_SHEAR|v.APPLY_SCALE:var i=this.m00*this.m11-this.m01*this.m10;if(Math.abs(i)<=javaemul.internal.DoubleHelper.MIN_VALUE)throw new m.awt.geom.NoninvertibleTransformException("Determinant is "+i);return e.setLocation((n*this.m11-r*this.m01)/i,(r*this.m00-n*this.m10)/i),e;case v.APPLY_SHEAR|v.APPLY_TRANSLATE:n-=this.m02,r-=this.m12;case v.APPLY_SHEAR:if(0===this.m01||0===this.m10)throw new m.awt.geom.NoninvertibleTransformException("Determinant is 0");return e.setLocation(r/this.m10,n/this.m01),e;case v.APPLY_SCALE|v.APPLY_TRANSLATE:n-=this.m02,r-=this.m12;case v.APPLY_SCALE:if(0===this.m00||0===this.m11)throw new m.awt.geom.NoninvertibleTransformException("Determinant is 0");return e.setLocation(n/this.m00,r/this.m11),e;case v.APPLY_TRANSLATE:return e.setLocation(n-this.m02,r-this.m12),e;case v.APPLY_IDENTITY:return e.setLocation(n,r),e}},v.prototype.inverseTransform=function(u,c,h,f,p){var d=this;if(!(null!=u&&u instanceof Array||null===u)||"number"!=typeof c&&null!==c||!(null!=h&&h instanceof Array||null===h)||"number"!=typeof f&&null!==f||"number"!=typeof p&&null!==p){if((null!=u&&u instanceof m.awt.geom.Point2D||null===u)&&(null!=c&&c instanceof m.awt.geom.Point2D||null===c)&&void 0===h&&void 0===f&&void 0===p)return this.inverseTransform$java_awt_geom_Point2D$java_awt_geom_Point2D(u,c);throw new Error("invalid overload")}return function(){var t,e,n,r,i,o,a;switch(h===u&&c<f&&f<c+2*p&&(m.lang.System.arraycopy(u,c,h,f,2*p),c=f),d.state){default:return void d.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:if(t=d.m00,e=d.m01,n=d.m02,r=d.m10,i=d.m11,o=d.m12,a=t*i-e*r,Math.abs(a)<=javaemul.internal.DoubleHelper.MIN_VALUE)throw new m.awt.geom.NoninvertibleTransformException("Determinant is "+a);for(;0<=--p;){var s=u[c++]-n,l=u[c++]-o;h[f++]=(s*i-l*e)/a,h[f++]=(l*t-s*r)/a}return;case v.APPLY_SHEAR|v.APPLY_SCALE:if(t=d.m00,e=d.m01,r=d.m10,a=t*(i=d.m11)-e*r,Math.abs(a)<=javaemul.internal.DoubleHelper.MIN_VALUE)throw new m.awt.geom.NoninvertibleTransformException("Determinant is "+a);for(;0<=--p;)s=u[c++],l=u[c++],h[f++]=(s*i-l*e)/a,h[f++]=(l*t-s*r)/a;return;case v.APPLY_SHEAR|v.APPLY_TRANSLATE:if(e=d.m01,n=d.m02,r=d.m10,o=d.m12,0===e||0===r)throw new m.awt.geom.NoninvertibleTransformException("Determinant is 0");for(;0<=--p;)s=u[c++]-n,h[f++]=(u[c++]-o)/r,h[f++]=s/e;return;case v.APPLY_SHEAR:if(e=d.m01,r=d.m10,0===e||0===r)throw new m.awt.geom.NoninvertibleTransformException("Determinant is 0");for(;0<=--p;)s=u[c++],h[f++]=u[c++]/r,h[f++]=s/e;return;case v.APPLY_SCALE|v.APPLY_TRANSLATE:if(t=d.m00,n=d.m02,i=d.m11,o=d.m12,0===t||0===i)throw new m.awt.geom.NoninvertibleTransformException("Determinant is 0");for(;0<=--p;)h[f++]=(u[c++]-n)/t,h[f++]=(u[c++]-o)/i;return;case v.APPLY_SCALE:if(t=d.m00,i=d.m11,0===t||0===i)throw new m.awt.geom.NoninvertibleTransformException("Determinant is 0");for(;0<=--p;)h[f++]=u[c++]/t,h[f++]=u[c++]/i;return;case v.APPLY_TRANSLATE:for(n=d.m02,o=d.m12;0<=--p;)h[f++]=u[c++]-n,h[f++]=u[c++]-o;return;case v.APPLY_IDENTITY:return void(u===h&&c===f||m.lang.System.arraycopy(u,c,h,f,2*p))}}()},v.prototype.deltaTransform$java_awt_geom_Point2D$java_awt_geom_Point2D=function(t,e){null==e&&(e=null!=t&&t instanceof m.awt.geom.Point2D.Double?new m.awt.geom.Point2D.Double:new m.awt.geom.Point2D.Float);var n=t.getX(),r=t.getY();switch(this.state){default:return this.stateError(),null;case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.APPLY_SHEAR|v.APPLY_SCALE:return e.setLocation(n*this.m00+r*this.m01,n*this.m10+r*this.m11),e;case v.APPLY_SHEAR|v.APPLY_TRANSLATE:case v.APPLY_SHEAR:return e.setLocation(r*this.m01,n*this.m10),e;case v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.APPLY_SCALE:return e.setLocation(n*this.m00,r*this.m11),e;case v.APPLY_TRANSLATE:case v.APPLY_IDENTITY:return e.setLocation(n,r),e}},v.prototype.deltaTransform=function(a,s,l,u,c){var h=this;if(!(null!=a&&a instanceof Array||null===a)||"number"!=typeof s&&null!==s||!(null!=l&&l instanceof Array||null===l)||"number"!=typeof u&&null!==u||"number"!=typeof c&&null!==c){if((null!=a&&a instanceof m.awt.geom.Point2D||null===a)&&(null!=s&&s instanceof m.awt.geom.Point2D||null===s)&&void 0===l&&void 0===u&&void 0===c)return this.deltaTransform$java_awt_geom_Point2D$java_awt_geom_Point2D(a,s);throw new Error("invalid overload")}return function(){var t,e,n,r;switch(l===a&&s<u&&u<s+2*c&&(m.lang.System.arraycopy(a,s,l,u,2*c),s=u),h.state){default:return void h.stateError();case v.APPLY_SHEAR|v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.APPLY_SHEAR|v.APPLY_SCALE:for(t=h.m00,e=h.m01,n=h.m10,r=h.m11;0<=--c;){var i=a[s++],o=a[s++];l[u++]=i*t+o*e,l[u++]=i*n+o*r}return;case v.APPLY_SHEAR|v.APPLY_TRANSLATE:case v.APPLY_SHEAR:for(e=h.m01,n=h.m10;0<=--c;)i=a[s++],l[u++]=a[s++]*e,l[u++]=i*n;return;case v.APPLY_SCALE|v.APPLY_TRANSLATE:case v.APPLY_SCALE:for(t=h.m00,r=h.m11;0<=--c;)l[u++]=a[s++]*t,l[u++]=a[s++]*r;return;case v.APPLY_TRANSLATE:case v.APPLY_IDENTITY:return void(a===l&&s===u||m.lang.System.arraycopy(a,s,l,u,2*c))}}()},v.prototype.createTransformedShape=function(t){return null==t?null:new m.awt.geom.Path2D.Double(t,this)},v._matround=function(t){return((e=1e15*t)===Number.NaN?e:Number.POSITIVE_INFINITY===e||Number.NEGATIVE_INFINITY===e?e:0==e?e:Math.round(e))/1e15;var e},v.prototype.toString=function(){return"AffineTransform[["+v._matround(this.m00)+", "+v._matround(this.m01)+", "+v._matround(this.m02)+"], ["+v._matround(this.m10)+", "+v._matround(this.m11)+", "+v._matround(this.m12)+"]]"},v.prototype.isIdentity=function(){return this.state===v.APPLY_IDENTITY||this.getType()===v.TYPE_IDENTITY},v.prototype.clone=function(){try{return javaemul.internal.ObjectHelper.clone(this)}catch(t){throw new m.lang.InternalError(t)}},v.prototype.hashCode=function(){var t=javaemul.internal.DoubleHelper.doubleToLongBits(this.m00);return(0|(t=31*(t=31*(t=31*(t=31*(t=31*t+javaemul.internal.DoubleHelper.doubleToLongBits(this.m01))+javaemul.internal.DoubleHelper.doubleToLongBits(this.m02))+javaemul.internal.DoubleHelper.doubleToLongBits(this.m10))+javaemul.internal.DoubleHelper.doubleToLongBits(this.m11))+javaemul.internal.DoubleHelper.doubleToLongBits(this.m12)))^(t>>32|0)},v.prototype.equals=function(t){if(!(null!=t&&t instanceof m.awt.geom.AffineTransform))return!1;var e=t;return this.m00===e.m00&&this.m01===e.m01&&this.m02===e.m02&&this.m10===e.m10&&this.m11===e.m11&&this.m12===e.m12},v.TYPE_UNKNOWN=-1,v.TYPE_IDENTITY=0,v.TYPE_TRANSLATION=1,v.TYPE_UNIFORM_SCALE=2,v.TYPE_GENERAL_SCALE=4,v.TYPE_FLIP=64,v.TYPE_QUADRANT_ROTATION=8,v.TYPE_GENERAL_ROTATION=16,v.TYPE_GENERAL_TRANSFORM=32,v.APPLY_IDENTITY=0,v.APPLY_TRANSLATE=1,v.APPLY_SCALE=2,v.APPLY_SHEAR=4,v.HI_SHIFT=3,v.serialVersionUID=0x127891154ad5ff00,v}(),e.AffineTransform=n}(java||(java={})),function(o){var t,e,n;t=o.awt||(o.awt={}),e=t.geom||(t.geom={}),n=function(){function r(t,e){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.geom.PathIterator"]}),this.x=0,this.y=0,this.w=0,this.h=0,this.angStRad=0,this.increment=0,this.cv=0,this.index=0,this.arcSegs=0,this.lineSegs=0,this.w=t.getWidth()/2,this.h=t.getHeight()/2,this.x=t.getX()+this.w,this.y=t.getY()+this.h,this.angStRad=-t.getAngleStart()*Math.PI/180,this.affine=e;var n=-t.getAngleExtent();switch(360<=n||n<=-360?(this.arcSegs=4,this.increment=Math.PI/2,this.cv=.5522847498307933,n<0&&(this.increment=-this.increment,this.cv=-this.cv)):(this.arcSegs=0|Math.ceil(Math.abs(n)/90),this.increment=n/this.arcSegs*Math.PI/180,this.cv=r.btan(this.increment),0===this.cv&&(this.arcSegs=0)),t.getArcType()){case o.awt.geom.Arc2D.OPEN:this.lineSegs=0;break;case o.awt.geom.Arc2D.CHORD:this.lineSegs=1;break;case o.awt.geom.Arc2D.PIE:this.lineSegs=2}(this.w<0||this.h<0)&&(this.arcSegs=this.lineSegs=-1)}return r.prototype.getWindingRule=function(){return o.awt.geom.PathIterator.WIND_NON_ZERO},r.prototype.isDone=function(){return this.index>this.arcSegs+this.lineSegs},r.prototype.next=function(){this.index++},r.btan=function(t){return t/=2,4/3*Math.sin(t)/(1+Math.cos(t))},r.prototype.currentSegment=function(r){var i=this;if(null!=r&&r instanceof Array||null===r)return function(){if(i.isDone())throw new o.util.NoSuchElementException("arc iterator out of bounds");var t=i.angStRad;if(0===i.index)return r[0]=i.x+Math.cos(t)*i.w,r[1]=i.y+Math.sin(t)*i.h,null!=i.affine&&i.affine.transform(r,0,r,0,1),o.awt.geom.PathIterator.SEG_MOVETO;if(i.index>i.arcSegs)return i.index===i.arcSegs+i.lineSegs?o.awt.geom.PathIterator.SEG_CLOSE:(r[0]=i.x,r[1]=i.y,null!=i.affine&&i.affine.transform(r,0,r,0,1),o.awt.geom.PathIterator.SEG_LINETO);t+=i.increment*(i.index-1);var e=Math.cos(t),n=Math.sin(t);return r[0]=i.x+(e-i.cv*n)*i.w,r[1]=i.y+(n+i.cv*e)*i.h,t+=i.increment,e=Math.cos(t),n=Math.sin(t),r[2]=i.x+(e+i.cv*n)*i.w,r[3]=i.y+(n-i.cv*e)*i.h,r[4]=i.x+e*i.w,r[5]=i.y+n*i.h,null!=i.affine&&i.affine.transform(r,0,r,0,3),o.awt.geom.PathIterator.SEG_CUBICTO}();if(null!=r&&r instanceof Array||null===r)return this.currentSegment$double_A(r);throw new Error("invalid overload")},r.prototype.currentSegment$double_A=function(t){if(this.isDone())throw new o.util.NoSuchElementException("arc iterator out of bounds");var e=this.angStRad;if(0===this.index)return t[0]=this.x+Math.cos(e)*this.w,t[1]=this.y+Math.sin(e)*this.h,null!=this.affine&&this.affine.transform(t,0,t,0,1),o.awt.geom.PathIterator.SEG_MOVETO;if(this.index>this.arcSegs)return this.index===this.arcSegs+this.lineSegs?o.awt.geom.PathIterator.SEG_CLOSE:(t[0]=this.x,t[1]=this.y,null!=this.affine&&this.affine.transform(t,0,t,0,1),o.awt.geom.PathIterator.SEG_LINETO);e+=this.increment*(this.index-1);var n=Math.cos(e),r=Math.sin(e);return t[0]=this.x+(n-this.cv*r)*this.w,t[1]=this.y+(r+this.cv*n)*this.h,e+=this.increment,n=Math.cos(e),r=Math.sin(e),t[2]=this.x+(n+this.cv*r)*this.w,t[3]=this.y+(r-this.cv*n)*this.h,t[4]=this.x+n*this.w,t[5]=this.y+r*this.h,null!=this.affine&&this.affine.transform(t,0,t,0,3),o.awt.geom.PathIterator.SEG_CUBICTO},r}(),e.ArcIterator=n}(java||(java={})),function(w){var t,e,n;t=w.awt||(w.awt={}),e=t.geom||(t.geom={}),n=function(){function b(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable"]})}return b.prototype.setCurve=function(t,e,n,r,i,o,a,s){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a||"number"!=typeof s&&null!==s){if((null!=t&&t instanceof w.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof w.awt.geom.Point2D||null===e)&&(null!=n&&n instanceof w.awt.geom.Point2D||null===n)&&(null!=r&&r instanceof w.awt.geom.Point2D||null===r)&&void 0===i&&void 0===o&&void 0===a&&void 0===s)return this.setCurve$java_awt_geom_Point2D$java_awt_geom_Point2D$java_awt_geom_Point2D$java_awt_geom_Point2D(t,e,n,r);if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a||void 0!==s){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a||void 0!==s){if((null!=t&&t instanceof w.awt.geom.CubicCurve2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o&&void 0===a&&void 0===s)return this.setCurve$java_awt_geom_CubicCurve2D(t);throw new Error("invalid overload")}return this.setCurve$java_awt_geom_Point2D_A$int(t,e)}return this.setCurve$double_A$int(t,e)}return this.setCurve$double$double$double$double$double$double$double$double(t,e,n,r,i,o,a,s)},b.prototype.setCurve$double$double$double$double$double$double$double$double=function(t,e,n,r,i,o,a,s){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},b.prototype.setCurve$double_A$int=function(t,e){this.setCurve(t[e+0],t[e+1],t[e+2],t[e+3],t[e+4],t[e+5],t[e+6],t[e+7])},b.prototype.setCurve$java_awt_geom_Point2D$java_awt_geom_Point2D$java_awt_geom_Point2D$java_awt_geom_Point2D=function(t,e,n,r){this.setCurve(t.getX(),t.getY(),e.getX(),e.getY(),n.getX(),n.getY(),r.getX(),r.getY())},b.prototype.setCurve$java_awt_geom_Point2D_A$int=function(t,e){this.setCurve(t[e+0].getX(),t[e+0].getY(),t[e+1].getX(),t[e+1].getY(),t[e+2].getX(),t[e+2].getY(),t[e+3].getX(),t[e+3].getY())},b.prototype.setCurve$java_awt_geom_CubicCurve2D=function(t){this.setCurve(t.getX1(),t.getY1(),t.getCtrlX1(),t.getCtrlY1(),t.getCtrlX2(),t.getCtrlY2(),t.getX2(),t.getY2())},b.getFlatnessSq=function(t,e,n,r,i,o,a,s){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a||"number"!=typeof s&&null!==s){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a||void 0!==s)throw new Error("invalid overload");return w.awt.geom.CubicCurve2D.getFlatnessSq$double_A$int(t,e)}return Math.max(w.awt.geom.Line2D.ptSegDistSq(t,e,a,s,n,r),w.awt.geom.Line2D.ptSegDistSq(t,e,a,s,i,o))},b.getFlatness=function(t,e,n,r,i,o,a,s){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a||"number"!=typeof s&&null!==s){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a||void 0!==s)throw new Error("invalid overload");return w.awt.geom.CubicCurve2D.getFlatness$double_A$int(t,e)}return Math.sqrt(b.getFlatnessSq(t,e,n,r,i,o,a,s))},b.getFlatnessSq$double_A$int=function(t,e){return b.getFlatnessSq(t[e+0],t[e+1],t[e+2],t[e+3],t[e+4],t[e+5],t[e+6],t[e+7])},b.getFlatness$double_A$int=function(t,e){return b.getFlatness(t[e+0],t[e+1],t[e+2],t[e+3],t[e+4],t[e+5],t[e+6],t[e+7])},b.prototype.getFlatnessSq=function(){return b.getFlatnessSq(this.getX1(),this.getY1(),this.getCtrlX1(),this.getCtrlY1(),this.getCtrlX2(),this.getCtrlY2(),this.getX2(),this.getY2())},b.prototype.getFlatness=function(){return b.getFlatness(this.getX1(),this.getY1(),this.getCtrlX1(),this.getCtrlY1(),this.getCtrlX2(),this.getCtrlY2(),this.getX2(),this.getY2())},b.prototype.subdivide=function(t,e){b.subdivide(this,t,e)},b.subdivide$java_awt_geom_CubicCurve2D$java_awt_geom_CubicCurve2D$java_awt_geom_CubicCurve2D=function(t,e,n){var r=t.getX1(),i=t.getY1(),o=t.getCtrlX1(),a=t.getCtrlY1(),s=t.getCtrlX2(),l=t.getCtrlY2(),u=t.getX2(),c=t.getY2(),h=(o+s)/2,f=(a+l)/2,p=((o=(r+o)/2)+h)/2,d=((a=(i+a)/2)+f)/2,v=((s=(u+s)/2)+h)/2,m=((l=(c+l)/2)+f)/2;h=(p+v)/2,f=(d+m)/2,null!=e&&e.setCurve(r,i,o,a,p,d,h,f),null!=n&&n.setCurve(h,f,v,m,s,l,u,c)},b.subdivide=function(c,h,f,p,d,v){if(!(null!=c&&c instanceof Array||null===c)||"number"!=typeof h&&null!==h||!(null!=f&&f instanceof Array||null===f)||"number"!=typeof p&&null!==p||!(null!=d&&d instanceof Array||null===d)||"number"!=typeof v&&null!==v){if((null!=c&&c instanceof w.awt.geom.CubicCurve2D||null===c)&&(null!=h&&h instanceof w.awt.geom.CubicCurve2D||null===h)&&(null!=f&&f instanceof w.awt.geom.CubicCurve2D||null===f)&&void 0===p&&void 0===d&&void 0===v)return w.awt.geom.CubicCurve2D.subdivide$java_awt_geom_CubicCurve2D$java_awt_geom_CubicCurve2D$java_awt_geom_CubicCurve2D(c,h,f);throw new Error("invalid overload")}return function(){var t=c[h+0],e=c[h+1],n=c[h+2],r=c[h+3],i=c[h+4],o=c[h+5],a=c[h+6],s=c[h+7];null!=f&&(f[p+0]=t,f[p+1]=e),null!=d&&(d[v+6]=a,d[v+7]=s);var l=(n+i)/2,u=(r+o)/2;l=((n=((t=(t+n)/2)+l)/2)+(i=((a=(a+i)/2)+l)/2))/2,u=((r=((e=(e+r)/2)+u)/2)+(o=((s=(s+o)/2)+u)/2))/2,null!=f&&(f[p+2]=t,f[p+3]=e,f[p+4]=n,f[p+5]=r,f[p+6]=l,f[p+7]=u),null!=d&&(d[v+0]=l,d[v+1]=u,d[v+2]=i,d[v+3]=o,d[v+4]=a,d[v+5]=s)}()},b.solveCubic$double_A=function(t){return b.solveCubic(t,t)},b.solveCubic=function(y,_){if((null!=y&&y instanceof Array||null===y)&&(null!=_&&_ instanceof Array||null===_))return function(){var t=y[3];if(0===t)return w.awt.geom.QuadCurve2D.solveQuadratic(y,_);var e,n=y[2]/t,r=y[1]/t,i=n*n,o=1/3*(-1/3*i+r),a=.5*(2/27*n*i-1/3*n*r+y[0]/t),s=o*o*o,l=a*a+s,u=1/3*n;if(l<0){var c=1/3*Math.acos(-a/Math.sqrt(-s)),h=2*Math.sqrt(-o);_===y&&(y=w.util.Arrays.copyOf(y,4)),_[0]=h*Math.cos(c),_[1]=-h*Math.cos(c+Math.PI/3),_[2]=-h*Math.cos(c-Math.PI/3),e=3;for(var f=0;f<e;++f)_[f]-=u}else{var p=Math.sqrt(l),d=Math.pow(p-a,1/3),v=-Math.pow(p+a,1/3),m=d+v;e=1;var g=12e8*javaemul.internal.MathHelper.ulp(Math.abs(m)+Math.abs(u));(b.iszero(l,g)||b.within(d,v,g))&&(_===y&&(y=w.util.Arrays.copyOf(y,4)),_[1]=-m/2-u,e=2),_[0]=m-u}return 1<e&&(e=b.fixRoots(y,_,e)),2<e&&(_[2]===_[1]||_[2]===_[0])&&e--,1<e&&_[1]===_[0]&&(_[1]=_[--e]),e}();if((null!=y&&y instanceof Array||null===y)&&void 0===_)return w.awt.geom.CubicCurve2D.solveCubic$double_A(y);throw new Error("invalid overload")},b.fixRoots=function(t,e,n){var r=[t[1],2*t[2],3*t[3]],i=w.awt.geom.QuadCurve2D.solveQuadratic(r,r);if(2===i&&r[0]===r[1]&&i--,2===i&&r[0]>r[1]){var o=r[0];r[0]=r[1],r[1]=o}if(3===n){var a=b.getRootUpperBound(t),s=-a;if(w.util.Arrays.sort(e,0,n),2===i)return e[0]=b.refineRootWithHint(t,s,r[0],e[0]),e[1]=b.refineRootWithHint(t,r[0],r[1],e[1]),e[2]=b.refineRootWithHint(t,r[1],a,e[2]),3;if(1===i){var l=t[3],u=-l,c=r[0],h=b.solveEqn(t,3,c);b.oppositeSigns(u,h)?e[0]=b.bisectRootWithHint(t,s,c,e[0]):b.oppositeSigns(h,l)?e[0]=b.bisectRootWithHint(t,c,a,e[2]):e[0]=c}else 0===i&&(e[0]=b.bisectRootWithHint(t,s,a,e[1]))}else if(2===n&&2===i){var f=e[0],p=e[1],d=(c=r[0],r[1]),v=Math.abs(c-f)>Math.abs(d-f)?c:d,m=b.solveEqn(t,3,v);if(b.iszero(m,1e7*javaemul.internal.MathHelper.ulp(v))){var g=b.solveEqn(t,3,p);return e[1]=Math.abs(g)<Math.abs(m)?p:v,2}}return 1},b.refineRootWithHint=function(t,e,n,r){if(!b.inInterval(r,e,n))return r;for(var i=[t[1],2*t[2],3*t[3]],o=r,a=0;a<3;a++){var s=b.solveEqn(i,2,r),l=b.solveEqn(t,3,r),u=r+-l/s;if(0===s||0===l||r===u)break;r=u}return b.within(r,o,1e3*javaemul.internal.MathHelper.ulp(o))&&b.inInterval(r,e,n)?r:o},b.bisectRootWithHint=function(t,e,n,r){for(var i=Math.min(Math.abs(r-e)/64,.0625),o=Math.min(Math.abs(r-n)/64,.0625),a=r-i,s=r+o,l=b.solveEqn(t,3,a),u=b.solveEqn(t,3,s);b.oppositeSigns(l,u);){if(s<=a)return a;e=a,n=s,s=r+(o/=64),l=b.solveEqn(t,3,a=r-(i/=64)),u=b.solveEqn(t,3,s)}return 0===l?a:0===u?s:b.bisectRoot(t,e,n)},b.bisectRoot=function(t,e,n){for(var r=b.solveEqn(t,3,e),i=e+(n-e)/2;i!==e&&i!==n;){var o=b.solveEqn(t,3,i);if(0===o)return i;b.oppositeSigns(r,o)?n=i:(r=o,e=i),i=e+(n-e)/2}return i},b.inInterval=function(t,e,n){return e<=t&&t<=n},b.within=function(t,e,n){var r=e-t;return r<=n&&-n<=r},b.iszero=function(t,e){return b.within(t,0,e)},b.oppositeSigns=function(t,e){return t<0&&0<e||0<t&&e<0},b.solveEqn=function(t,e,n){for(var r=t[e];0<=--e;)r=r*n+t[e];return r},b.getRootUpperBound=function(t){var e=t[3],n=t[2],r=t[1],i=t[0],o=1+Math.max(Math.max(Math.abs(n),Math.abs(r)),Math.abs(i))/Math.abs(e);return o+=javaemul.internal.MathHelper.ulp(o)+1},b.prototype.contains$double$double=function(t,e){if(0*t+0*e!=0)return!1;var n=this.getX1(),r=this.getY1(),i=this.getX2(),o=this.getY2();return 1==(1&sun.awt.geom.Curve.pointCrossingsForLine(t,e,n,r,i,o)+sun.awt.geom.Curve.pointCrossingsForCubic(t,e,n,r,this.getCtrlX1(),this.getCtrlY1(),this.getCtrlX2(),this.getCtrlY2(),i,o,0))},b.prototype.contains$java_awt_geom_Point2D=function(t){return this.contains(t.getX(),t.getY())},b.prototype.intersects=function(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof w.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.intersects$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return!(n<=0||r<=0)&&0!==i.rectCrossings(t,e,n,r)},b.prototype.intersects$java_awt_geom_Rectangle2D=function(t){return this.intersects(t.getX(),t.getY(),t.getWidth(),t.getHeight())},b.prototype.contains=function(e,n,r,i){var o=this;if("number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i){if("number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||void 0!==r||void 0!==i){if((null!=e&&e instanceof w.awt.geom.Point2D||null===e)&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_geom_Point2D(e);if((null!=e&&e instanceof w.awt.geom.Rectangle2D||null===e)&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_geom_Rectangle2D(e);throw new Error("invalid overload")}return this.contains$double$double(e,n)}return function(){if(r<=0||i<=0)return!1;var t=o.rectCrossings(e,n,r,i);return!(0===t||t===sun.awt.geom.Curve.RECT_INTERSECTS)}()},b.prototype.rectCrossings=function(t,e,n,r){var i=0;return this.getX1()===this.getX2()&&this.getY1()===this.getY2()||(i=sun.awt.geom.Curve.rectCrossingsForLine(i,t,e,t+n,e+r,this.getX1(),this.getY1(),this.getX2(),this.getY2()))!==sun.awt.geom.Curve.RECT_INTERSECTS?sun.awt.geom.Curve.rectCrossingsForCubic(i,t,e,t+n,e+r,this.getX2(),this.getY2(),this.getCtrlX2(),this.getCtrlY2(),this.getCtrlX1(),this.getCtrlY1(),this.getX1(),this.getY1(),0):i},b.prototype.contains$java_awt_geom_Rectangle2D=function(t){return this.contains(t.getX(),t.getY(),t.getWidth(),t.getHeight())},b.prototype.getBounds=function(){return this.getBounds2D().getBounds()},b.prototype.getPathIterator$java_awt_geom_AffineTransform=function(t){return new w.awt.geom.CubicIterator(this,t)},b.prototype.getPathIterator=function(t,e){var n=this;if(!(null!=t&&t instanceof w.awt.geom.AffineTransform||null===t)||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof w.awt.geom.AffineTransform||null===t)&&void 0===e)return this.getPathIterator$java_awt_geom_AffineTransform(t);throw new Error("invalid overload")}return new w.awt.geom.FlatteningPathIterator(n.getPathIterator(t),e)},b.prototype.clone=function(){try{return javaemul.internal.ObjectHelper.clone(this)}catch(t){throw new w.lang.InternalError(t)}},b}(),e.CubicCurve2D=n,function(t){var e=function(u){function t(t,e,n,r,i,o,a,s){var l=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a||"number"!=typeof s&&null!==s){if(void 0!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a||void 0!==s)throw new Error("invalid overload");u.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x1=0,this.y1=0,this.ctrlx1=0,this.ctrly1=0,this.ctrlx2=0,this.ctrly2=0,this.x2=0,this.y2=0}else u.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x1=0,this.y1=0,this.ctrlx1=0,this.ctrly1=0,this.ctrlx2=0,this.ctrly2=0,this.x2=0,this.y2=0,l.setCurve(t,e,n,r,i,o,a,s)}return __extends(t,u),t.prototype.getX1=function(){return this.x1},t.prototype.getY1=function(){return this.y1},t.prototype.getP1=function(){return new w.awt.geom.Point2D.Float(this.x1,this.y1)},t.prototype.getCtrlX1=function(){return this.ctrlx1},t.prototype.getCtrlY1=function(){return this.ctrly1},t.prototype.getCtrlP1=function(){return new w.awt.geom.Point2D.Float(this.ctrlx1,this.ctrly1)},t.prototype.getCtrlX2=function(){return this.ctrlx2},t.prototype.getCtrlY2=function(){return this.ctrly2},t.prototype.getCtrlP2=function(){return new w.awt.geom.Point2D.Float(this.ctrlx2,this.ctrly2)},t.prototype.getX2=function(){return this.x2},t.prototype.getY2=function(){return this.y2},t.prototype.getP2=function(){return new w.awt.geom.Point2D.Float(this.x2,this.y2)},t.prototype.setCurve$double$double$double$double$double$double$double$double=function(t,e,n,r,i,o,a,s){this.x1=t,this.y1=e,this.ctrlx1=n,this.ctrly1=r,this.ctrlx2=i,this.ctrly2=o,this.x2=a,this.y2=s},t.prototype.setCurve=function(t,e,n,r,i,o,a,s){var l=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a||"number"!=typeof s&&null!==s){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a||"number"!=typeof s&&null!==s){if((null!=t&&t instanceof w.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof w.awt.geom.Point2D||null===e)&&(null!=n&&n instanceof w.awt.geom.Point2D||null===n)&&(null!=r&&r instanceof w.awt.geom.Point2D||null===r)&&void 0===i&&void 0===o&&void 0===a&&void 0===s)return this.setCurve$java_awt_geom_Point2D$java_awt_geom_Point2D$java_awt_geom_Point2D$java_awt_geom_Point2D(t,e,n,r);if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a||void 0!==s){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a||void 0!==s){if((null!=t&&t instanceof w.awt.geom.CubicCurve2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o&&void 0===a&&void 0===s)return this.setCurve$java_awt_geom_CubicCurve2D(t);throw new Error("invalid overload")}return this.setCurve$java_awt_geom_Point2D_A$int(t,e)}return this.setCurve$double_A$int(t,e)}return this.setCurve$double$double$double$double$double$double$double$double(t,e,n,r,i,o,a,s)}return l.x1=t,l.y1=e,l.ctrlx1=n,l.ctrly1=r,l.ctrlx2=i,l.ctrly2=o,l.x2=a,void(l.y2=s)},t.prototype.getBounds2D=function(){var t=Math.min(Math.min(this.x1,this.x2),Math.min(this.ctrlx1,this.ctrlx2)),e=Math.min(Math.min(this.y1,this.y2),Math.min(this.ctrly1,this.ctrly2)),n=Math.max(Math.max(this.x1,this.x2),Math.max(this.ctrlx1,this.ctrlx2)),r=Math.max(Math.max(this.y1,this.y2),Math.max(this.ctrly1,this.ctrly2));return new w.awt.geom.Rectangle2D.Float(t,e,n-t,r-e)},t.serialVersionUID=-0x11a71b721ee8b900,t}(w.awt.geom.CubicCurve2D);t.Float=e;var n=function(u){function t(t,e,n,r,i,o,a,s){var l=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a||"number"!=typeof s&&null!==s){if(void 0!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a||void 0!==s)throw new Error("invalid overload");u.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x1=0,this.y1=0,this.ctrlx1=0,this.ctrly1=0,this.ctrlx2=0,this.ctrly2=0,this.x2=0,this.y2=0}else u.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x1=0,this.y1=0,this.ctrlx1=0,this.ctrly1=0,this.ctrlx2=0,this.ctrly2=0,this.x2=0,this.y2=0,l.setCurve(t,e,n,r,i,o,a,s)}return __extends(t,u),t.prototype.getX1=function(){return this.x1},t.prototype.getY1=function(){return this.y1},t.prototype.getP1=function(){return new w.awt.geom.Point2D.Double(this.x1,this.y1)},t.prototype.getCtrlX1=function(){return this.ctrlx1},t.prototype.getCtrlY1=function(){return this.ctrly1},t.prototype.getCtrlP1=function(){return new w.awt.geom.Point2D.Double(this.ctrlx1,this.ctrly1)},t.prototype.getCtrlX2=function(){return this.ctrlx2},t.prototype.getCtrlY2=function(){return this.ctrly2},t.prototype.getCtrlP2=function(){return new w.awt.geom.Point2D.Double(this.ctrlx2,this.ctrly2)},t.prototype.getX2=function(){return this.x2},t.prototype.getY2=function(){return this.y2},t.prototype.getP2=function(){return new w.awt.geom.Point2D.Double(this.x2,this.y2)},t.prototype.setCurve=function(t,e,n,r,i,o,a,s){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a||"number"!=typeof s&&null!==s){if((null!=t&&t instanceof w.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof w.awt.geom.Point2D||null===e)&&(null!=n&&n instanceof w.awt.geom.Point2D||null===n)&&(null!=r&&r instanceof w.awt.geom.Point2D||null===r)&&void 0===i&&void 0===o&&void 0===a&&void 0===s)return this.setCurve$java_awt_geom_Point2D$java_awt_geom_Point2D$java_awt_geom_Point2D$java_awt_geom_Point2D(t,e,n,r);if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a||void 0!==s){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a||void 0!==s){if((null!=t&&t instanceof w.awt.geom.CubicCurve2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o&&void 0===a&&void 0===s)return this.setCurve$java_awt_geom_CubicCurve2D(t);throw new Error("invalid overload")}return this.setCurve$java_awt_geom_Point2D_A$int(t,e)}return this.setCurve$double_A$int(t,e)}return this.setCurve$double$double$double$double$double$double$double$double(t,e,n,r,i,o,a,s)},t.prototype.setCurve$double$double$double$double$double$double$double$double=function(t,e,n,r,i,o,a,s){this.x1=t,this.y1=e,this.ctrlx1=n,this.ctrly1=r,this.ctrlx2=i,this.ctrly2=o,this.x2=a,this.y2=s},t.prototype.getBounds2D=function(){var t=Math.min(Math.min(this.x1,this.x2),Math.min(this.ctrlx1,this.ctrlx2)),e=Math.min(Math.min(this.y1,this.y2),Math.min(this.ctrly1,this.ctrly2)),n=Math.max(Math.max(this.x1,this.x2),Math.max(this.ctrlx1,this.ctrlx2)),r=Math.max(Math.max(this.y1,this.y2),Math.max(this.ctrly1,this.ctrly2));return new w.awt.geom.Rectangle2D.Double(t,e,n-t,r-e)},t.serialVersionUID=-0x3a53e9f6a6fe2e00,t}(w.awt.geom.CubicCurve2D);t.Double=n}(n=e.CubicCurve2D||(e.CubicCurve2D={}))}(java||(java={})),function(r){var t,e,n;t=r.awt||(r.awt={}),e=t.geom||(t.geom={}),n=function(){function t(t,e){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.geom.PathIterator"]}),this.index=0,this.cubic=t,this.affine=e}return t.prototype.getWindingRule=function(){return r.awt.geom.PathIterator.WIND_NON_ZERO},t.prototype.isDone=function(){return 1<this.index},t.prototype.next=function(){this.index++},t.prototype.currentSegment=function(e){var n=this;if(null!=e&&e instanceof Array||null===e)return function(){if(n.isDone())throw new r.util.NoSuchElementException("cubic iterator iterator out of bounds");var t;return 0===n.index?(e[0]=n.cubic.getX1(),e[1]=n.cubic.getY1(),t=r.awt.geom.PathIterator.SEG_MOVETO):(e[0]=n.cubic.getCtrlX1(),e[1]=n.cubic.getCtrlY1(),e[2]=n.cubic.getCtrlX2(),e[3]=n.cubic.getCtrlY2(),e[4]=n.cubic.getX2(),e[5]=n.cubic.getY2(),t=r.awt.geom.PathIterator.SEG_CUBICTO),null!=n.affine&&n.affine.transform(e,0,e,0,0===n.index?1:3),t}();if(null!=e&&e instanceof Array||null===e)return this.currentSegment$double_A(e);throw new Error("invalid overload")},t.prototype.currentSegment$double_A=function(t){if(this.isDone())throw new r.util.NoSuchElementException("cubic iterator iterator out of bounds");var e;return 0===this.index?(t[0]=this.cubic.getX1(),t[1]=this.cubic.getY1(),e=r.awt.geom.PathIterator.SEG_MOVETO):(t[0]=this.cubic.getCtrlX1(),t[1]=this.cubic.getCtrlY1(),t[2]=this.cubic.getCtrlX2(),t[3]=this.cubic.getCtrlY2(),t[4]=this.cubic.getX2(),t[5]=this.cubic.getY2(),e=r.awt.geom.PathIterator.SEG_CUBICTO),null!=this.affine&&this.affine.transform(t,0,t,0,0===this.index?1:3),e},t}(),e.CubicIterator=n}(java||(java={})),function(n){var t,e,r;t=n.awt||(n.awt={}),e=t.geom||(t.geom={}),r=function(){function t(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable"]})}return t.prototype.setSize=function(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof n.awt.geom.Dimension2D||null===t)&&void 0===e)return this.setSize$java_awt_geom_Dimension2D(t);throw new Error("invalid overload")}return this.setSize$double$double(t,e)},t.prototype.setSize$double$double=function(t,e){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},t.prototype.setSize$java_awt_geom_Dimension2D=function(t){this.setSize(t.getWidth(),t.getHeight())},t.prototype.clone=function(){try{return javaemul.internal.ObjectHelper.clone(this)}catch(t){throw new n.lang.InternalError(t)}},t}(),e.Dimension2D=r}(java||(java={})),function(i){var t,e,n;t=i.awt||(i.awt={}),e=t.geom||(t.geom={}),n=function(){function r(t,e){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.geom.PathIterator"]}),this.x=0,this.y=0,this.w=0,this.h=0,this.index=0,this.x=t.getX(),this.y=t.getY(),this.w=t.getWidth(),this.h=t.getHeight(),this.affine=e,(this.w<0||this.h<0)&&(this.index=6)}return r.prototype.getWindingRule=function(){return i.awt.geom.PathIterator.WIND_NON_ZERO},r.prototype.isDone=function(){return 5<this.index},r.prototype.next=function(){this.index++},r.pcv_$LI$=function(){return null==r.pcv&&(r.pcv=.5+.5*r.CtrlVal),r.pcv},r.ncv_$LI$=function(){return null==r.ncv&&(r.ncv=.5-.5*r.CtrlVal),r.ncv},r.ctrlpts_$LI$=function(){return null==r.ctrlpts&&(r.ctrlpts=[[1,r.pcv_$LI$(),r.pcv_$LI$(),1,.5,1],[r.ncv_$LI$(),1,0,r.pcv_$LI$(),0,.5],[0,r.ncv_$LI$(),r.ncv_$LI$(),0,.5,0],[r.pcv_$LI$(),0,1,r.ncv_$LI$(),1,.5]]),r.ctrlpts},r.prototype.currentSegment=function(e){var n=this;if(null!=e&&e instanceof Array||null===e)return function(){if(n.isDone())throw new i.util.NoSuchElementException("ellipse iterator out of bounds");if(5===n.index)return i.awt.geom.PathIterator.SEG_CLOSE;if(0===n.index){var t=r.ctrlpts_$LI$()[3];return e[0]=n.x+t[4]*n.w,e[1]=n.y+t[5]*n.h,null!=n.affine&&n.affine.transform(e,0,e,0,1),i.awt.geom.PathIterator.SEG_MOVETO}return t=r.ctrlpts_$LI$()[n.index-1],e[0]=n.x+t[0]*n.w,e[1]=n.y+t[1]*n.h,e[2]=n.x+t[2]*n.w,e[3]=n.y+t[3]*n.h,e[4]=n.x+t[4]*n.w,e[5]=n.y+t[5]*n.h,null!=n.affine&&n.affine.transform(e,0,e,0,3),i.awt.geom.PathIterator.SEG_CUBICTO}();if(null!=e&&e instanceof Array||null===e)return this.currentSegment$double_A(e);throw new Error("invalid overload")},r.prototype.currentSegment$double_A=function(t){if(this.isDone())throw new i.util.NoSuchElementException("ellipse iterator out of bounds");if(5===this.index)return i.awt.geom.PathIterator.SEG_CLOSE;if(0===this.index){var e=r.ctrlpts_$LI$()[3];return t[0]=this.x+e[4]*this.w,t[1]=this.y+e[5]*this.h,null!=this.affine&&this.affine.transform(t,0,t,0,1),i.awt.geom.PathIterator.SEG_MOVETO}return e=r.ctrlpts_$LI$()[this.index-1],t[0]=this.x+e[0]*this.w,t[1]=this.y+e[1]*this.h,t[2]=this.x+e[2]*this.w,t[3]=this.y+e[3]*this.h,t[4]=this.x+e[4]*this.w,t[5]=this.y+e[5]*this.h,null!=this.affine&&this.affine.transform(t,0,t,0,3),i.awt.geom.PathIterator.SEG_CUBICTO},r.CtrlVal=.5522847498307933,r}(),e.EllipseIterator=n}(java||(java={})),function(o){var t,e,n;t=o.awt||(o.awt={}),e=t.geom||(t.geom={}),n=function(){function i(t,e,n){if(void 0===n&&(n=10),this.hold=new Array(14),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.geom.PathIterator"]}),this.squareflat=0,this.limit=0,this.curx=0,this.cury=0,this.movx=0,this.movy=0,this.holdType=0,this.holdEnd=0,this.holdIndex=0,this.levelIndex=0,this.done=!1,e<0)throw new o.lang.IllegalArgumentException("flatness must be >= 0");if(n<0)throw new o.lang.IllegalArgumentException("limit must be >= 0");this.src=t,this.squareflat=e*e,this.limit=n,this.levels=new Array(n+1),this.next(!1)}return i.prototype.getFlatness=function(){return Math.sqrt(this.squareflat)},i.prototype.getRecursionLimit=function(){return this.limit},i.prototype.getWindingRule=function(){return this.src.getWindingRule()},i.prototype.isDone=function(){return this.done},i.prototype.ensureHoldCapacity=function(t){if(this.holdIndex-t<0){var e=this.hold.length-this.holdIndex,n=this.hold.length+i.GROW_SIZE,r=new Array(n);o.lang.System.arraycopy(this.hold,this.holdIndex,r,this.holdIndex+i.GROW_SIZE,e),this.hold=r,this.holdIndex+=i.GROW_SIZE,this.holdEnd+=i.GROW_SIZE}},i.prototype.next$=function(){this.next(!0)},i.prototype.next=function(e){var n=this;if("boolean"==typeof e||null===e)return function(){var t;if(n.holdIndex>=n.holdEnd){if(e&&n.src.next(),n.src.isDone())return void(n.done=!0);n.holdType=n.src.currentSegment(n.hold),n.levelIndex=0,n.levels[0]=0}switch(n.holdType){case o.awt.geom.PathIterator.SEG_MOVETO:case o.awt.geom.PathIterator.SEG_LINETO:n.curx=n.hold[0],n.cury=n.hold[1],n.holdType===o.awt.geom.PathIterator.SEG_MOVETO&&(n.movx=n.curx,n.movy=n.cury),n.holdIndex=0,n.holdEnd=0;break;case o.awt.geom.PathIterator.SEG_CLOSE:n.curx=n.movx,n.cury=n.movy,n.holdIndex=0,n.holdEnd=0;break;case o.awt.geom.PathIterator.SEG_QUADTO:for(n.holdIndex>=n.holdEnd&&(n.holdIndex=n.hold.length-6,n.holdEnd=n.hold.length-2,n.hold[n.holdIndex+0]=n.curx,n.hold[n.holdIndex+1]=n.cury,n.hold[n.holdIndex+2]=n.hold[0],n.hold[n.holdIndex+3]=n.hold[1],n.hold[n.holdIndex+4]=n.curx=n.hold[2],n.hold[n.holdIndex+5]=n.cury=n.hold[3]),t=n.levels[n.levelIndex];t<n.limit&&!(o.awt.geom.QuadCurve2D.getFlatnessSq(n.hold,n.holdIndex)<n.squareflat);)n.ensureHoldCapacity(4),o.awt.geom.QuadCurve2D.subdivide(n.hold,n.holdIndex,n.hold,n.holdIndex-4,n.hold,n.holdIndex),n.holdIndex-=4,t++,n.levels[n.levelIndex]=t,n.levelIndex++,n.levels[n.levelIndex]=t;n.holdIndex+=4,n.levelIndex--;break;case o.awt.geom.PathIterator.SEG_CUBICTO:for(n.holdIndex>=n.holdEnd&&(n.holdIndex=n.hold.length-8,n.holdEnd=n.hold.length-2,n.hold[n.holdIndex+0]=n.curx,n.hold[n.holdIndex+1]=n.cury,n.hold[n.holdIndex+2]=n.hold[0],n.hold[n.holdIndex+3]=n.hold[1],n.hold[n.holdIndex+4]=n.hold[2],n.hold[n.holdIndex+5]=n.hold[3],n.hold[n.holdIndex+6]=n.curx=n.hold[4],n.hold[n.holdIndex+7]=n.cury=n.hold[5]),t=n.levels[n.levelIndex];t<n.limit&&!(o.awt.geom.CubicCurve2D.getFlatnessSq(n.hold,n.holdIndex)<n.squareflat);)n.ensureHoldCapacity(6),o.awt.geom.CubicCurve2D.subdivide(n.hold,n.holdIndex,n.hold,n.holdIndex-6,n.hold,n.holdIndex),n.holdIndex-=6,t++,n.levels[n.levelIndex]=t,n.levelIndex++,n.levels[n.levelIndex]=t;n.holdIndex+=6,n.levelIndex--}}();if(void 0===e)return this.next$();throw new Error("invalid overload")},i.prototype.currentSegment=function(e){var n=this;if(null!=e&&e instanceof Array||null===e)return function(){if(n.isDone())throw new o.util.NoSuchElementException("flattening iterator out of bounds");var t=n.holdType;return t!==o.awt.geom.PathIterator.SEG_CLOSE&&(e[0]=n.hold[n.holdIndex+0],e[1]=n.hold[n.holdIndex+1],t!==o.awt.geom.PathIterator.SEG_MOVETO&&(t=o.awt.geom.PathIterator.SEG_LINETO)),t}();if(null!=e&&e instanceof Array||null===e)return this.currentSegment$double_A(e);throw new Error("invalid overload")},i.prototype.currentSegment$double_A=function(t){if(this.isDone())throw new o.util.NoSuchElementException("flattening iterator out of bounds");var e=this.holdType;return e!==o.awt.geom.PathIterator.SEG_CLOSE&&(t[0]=this.hold[this.holdIndex+0],t[1]=this.hold[this.holdIndex+1],e!==o.awt.geom.PathIterator.SEG_MOVETO&&(e=o.awt.geom.PathIterator.SEG_LINETO)),e},i.GROW_SIZE=24,i}(),e.FlatteningPathIterator=n}(java||(java={})),function(u){var t,e,n;t=u.awt||(u.awt={}),e=t.geom||(t.geom={}),n=function(){function l(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable"]})}return l.prototype.setLine=function(t,e,n,r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof u.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof u.awt.geom.Point2D||null===e)&&void 0===n&&void 0===r)return this.setLine$java_awt_geom_Point2D$java_awt_geom_Point2D(t,e);if((null!=t&&t instanceof u.awt.geom.Line2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.setLine$java_awt_geom_Line2D(t);throw new Error("invalid overload")}return this.setLine$double$double$double$double(t,e,n,r)},l.prototype.setLine$double$double$double$double=function(t,e,n,r){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},l.prototype.setLine$java_awt_geom_Point2D$java_awt_geom_Point2D=function(t,e){this.setLine(t.getX(),t.getY(),e.getX(),e.getY())},l.prototype.setLine$java_awt_geom_Line2D=function(t){this.setLine(t.getX1(),t.getY1(),t.getX2(),t.getY2())},l.relativeCCW=function(t,e,n,r,i,o){var a=(i-=t)*(r-=e)-(o-=e)*(n-=t);return 0===a&&0<(a=i*n+o*r)&&(a=(i-=n)*n+(o-=r)*r)<0&&(a=0),a<0?-1:0<a?1:0},l.prototype.relativeCCW=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof u.awt.geom.Point2D||null===t)&&void 0===e)return this.relativeCCW$java_awt_geom_Point2D(t);throw new Error("invalid overload")}return l.relativeCCW(n.getX1(),n.getY1(),n.getX2(),n.getY2(),t,e)},l.prototype.relativeCCW$java_awt_geom_Point2D=function(t){return l.relativeCCW(this.getX1(),this.getY1(),this.getX2(),this.getY2(),t.getX(),t.getY())},l.linesIntersect=function(t,e,n,r,i,o,a,s){return l.relativeCCW(t,e,n,r,i,o)*l.relativeCCW(t,e,n,r,a,s)<=0&&l.relativeCCW(i,o,a,s,t,e)*l.relativeCCW(i,o,a,s,n,r)<=0},l.prototype.intersectsLine=function(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof u.awt.geom.Line2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.intersectsLine$java_awt_geom_Line2D(t);throw new Error("invalid overload")}return l.linesIntersect(t,e,n,r,i.getX1(),i.getY1(),i.getX2(),i.getY2())},l.prototype.intersectsLine$java_awt_geom_Line2D=function(t){return l.linesIntersect(t.getX1(),t.getY1(),t.getX2(),t.getY2(),this.getX1(),this.getY1(),this.getX2(),this.getY2())},l.ptSegDistSq=function(t,e,n,r,i,o){var a,s=(i-=t)*(n-=t)+(o-=e)*(r-=e);a=s<=0?0:(s=(i=n-i)*n+(o=r-o)*r)<=0?0:s*s/(n*n+r*r);var l=i*i+o*o-a;return l<0&&(l=0),l},l.ptSegDist=function(t,e,n,r,i,o){return Math.sqrt(l.ptSegDistSq(t,e,n,r,i,o))},l.prototype.ptSegDistSq=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof u.awt.geom.Point2D||null===t)&&void 0===e)return this.ptSegDistSq$java_awt_geom_Point2D(t);throw new Error("invalid overload")}return l.ptSegDistSq(n.getX1(),n.getY1(),n.getX2(),n.getY2(),t,e)},l.prototype.ptSegDistSq$java_awt_geom_Point2D=function(t){return l.ptSegDistSq(this.getX1(),this.getY1(),this.getX2(),this.getY2(),t.getX(),t.getY())},l.prototype.ptSegDist=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof u.awt.geom.Point2D||null===t)&&void 0===e)return this.ptSegDist$java_awt_geom_Point2D(t);throw new Error("invalid overload")}return l.ptSegDist(n.getX1(),n.getY1(),n.getX2(),n.getY2(),t,e)},l.prototype.ptSegDist$java_awt_geom_Point2D=function(t){return l.ptSegDist(this.getX1(),this.getY1(),this.getX2(),this.getY2(),t.getX(),t.getY())},l.ptLineDistSq=function(t,e,n,r,i,o){var a=(i-=t)*(n-=t)+(o-=e)*(r-=e),s=i*i+o*o-a*a/(n*n+r*r);return s<0&&(s=0),s},l.ptLineDist=function(t,e,n,r,i,o){return Math.sqrt(l.ptLineDistSq(t,e,n,r,i,o))},l.prototype.ptLineDistSq=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof u.awt.geom.Point2D||null===t)&&void 0===e)return this.ptLineDistSq$java_awt_geom_Point2D(t);throw new Error("invalid overload")}return l.ptLineDistSq(n.getX1(),n.getY1(),n.getX2(),n.getY2(),t,e)},l.prototype.ptLineDistSq$java_awt_geom_Point2D=function(t){return l.ptLineDistSq(this.getX1(),this.getY1(),this.getX2(),this.getY2(),t.getX(),t.getY())},l.prototype.ptLineDist=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof u.awt.geom.Point2D||null===t)&&void 0===e)return this.ptLineDist$java_awt_geom_Point2D(t);throw new Error("invalid overload")}return l.ptLineDist(n.getX1(),n.getY1(),n.getX2(),n.getY2(),t,e)},l.prototype.ptLineDist$java_awt_geom_Point2D=function(t){return l.ptLineDist(this.getX1(),this.getY1(),this.getX2(),this.getY2(),t.getX(),t.getY())},l.prototype.contains$double$double=function(t,e){return!1},l.prototype.contains$java_awt_geom_Point2D=function(t){return!1},l.prototype.intersects=function(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof u.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.intersects$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return i.intersects(new u.awt.geom.Rectangle2D.Double(t,e,n,r))},l.prototype.intersects$java_awt_geom_Rectangle2D=function(t){return t.intersectsLine(this.getX1(),this.getY1(),this.getX2(),this.getY2())},l.prototype.contains=function(t,e,n,r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r){if((null!=t&&t instanceof u.awt.geom.Point2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.contains$java_awt_geom_Point2D(t);if((null!=t&&t instanceof u.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.contains$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.contains$double$double(t,e)}return!1},l.prototype.contains$java_awt_geom_Rectangle2D=function(t){return!1},l.prototype.getBounds=function(){return this.getBounds2D().getBounds()},l.prototype.getPathIterator$java_awt_geom_AffineTransform=function(t){return new u.awt.geom.LineIterator(this,t)},l.prototype.getPathIterator=function(t,e){var n=this;if(!(null!=t&&t instanceof u.awt.geom.AffineTransform||null===t)||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof u.awt.geom.AffineTransform||null===t)&&void 0===e)return this.getPathIterator$java_awt_geom_AffineTransform(t);throw new Error("invalid overload")}return new u.awt.geom.LineIterator(n,t)},l.prototype.clone=function(){try{return javaemul.internal.ObjectHelper.clone(this)}catch(t){throw new u.lang.InternalError(t)}},l}(),e.Line2D=n,function(t){var e=function(s){function t(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r)if((null!=t&&t instanceof u.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof u.awt.geom.Point2D||null===e)&&void 0===n&&void 0===r){var o=t,a=e;s.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,i.setLine(o,a)}else{if(void 0!==t||void 0!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");s.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x1=0,this.y1=0,this.x2=0,this.y2=0}else s.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,i.setLine(t,e,n,r)}return __extends(t,s),t.prototype.getX1=function(){return this.x1},t.prototype.getY1=function(){return this.y1},t.prototype.getP1=function(){return new u.awt.geom.Point2D.Float(this.x1,this.y1)},t.prototype.getX2=function(){return this.x2},t.prototype.getY2=function(){return this.y2},t.prototype.getP2=function(){return new u.awt.geom.Point2D.Float(this.x2,this.y2)},t.prototype.setLine$double$double$double$double=function(t,e,n,r){this.x1=t,this.y1=e,this.x2=n,this.y2=r},t.prototype.setLine=function(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof u.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof u.awt.geom.Point2D||null===e)&&void 0===n&&void 0===r)return this.setLine$java_awt_geom_Point2D$java_awt_geom_Point2D(t,e);if((null!=t&&t instanceof u.awt.geom.Line2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.setLine$java_awt_geom_Line2D(t);throw new Error("invalid overload")}return this.setLine$double$double$double$double(t,e,n,r)}return i.x1=t,i.y1=e,i.x2=n,void(i.y2=r)},t.prototype.getBounds2D=function(){var t,e,n,r;return this.x1<this.x2?(t=this.x1,n=this.x2-this.x1):(t=this.x2,n=this.x1-this.x2),this.y1<this.y2?(e=this.y1,r=this.y2-this.y1):(e=this.y2,r=this.y1-this.y2),new u.awt.geom.Rectangle2D.Float(t,e,n,r)},t.serialVersionUID=0x55830373efa19400,t}(u.awt.geom.Line2D);t.Float=e;var n=function(s){function t(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r)if((null!=t&&t instanceof u.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof u.awt.geom.Point2D||null===e)&&void 0===n&&void 0===r){var o=t,a=e;s.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,i.setLine(o,a)}else{if(void 0!==t||void 0!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");s.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x1=0,this.y1=0,this.x2=0,this.y2=0}else s.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,i.setLine(t,e,n,r)}return __extends(t,s),t.prototype.getX1=function(){return this.x1},t.prototype.getY1=function(){return this.y1},t.prototype.getP1=function(){return new u.awt.geom.Point2D.Double(this.x1,this.y1)},t.prototype.getX2=function(){return this.x2},t.prototype.getY2=function(){return this.y2},t.prototype.getP2=function(){return new u.awt.geom.Point2D.Double(this.x2,this.y2)},t.prototype.setLine=function(t,e,n,r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof u.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof u.awt.geom.Point2D||null===e)&&void 0===n&&void 0===r)return this.setLine$java_awt_geom_Point2D$java_awt_geom_Point2D(t,e);if((null!=t&&t instanceof u.awt.geom.Line2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.setLine$java_awt_geom_Line2D(t);throw new Error("invalid overload")}return this.setLine$double$double$double$double(t,e,n,r)},t.prototype.setLine$double$double$double$double=function(t,e,n,r){this.x1=t,this.y1=e,this.x2=n,this.y2=r},t.prototype.getBounds2D=function(){var t,e,n,r;return this.x1<this.x2?(t=this.x1,n=this.x2-this.x1):(t=this.x2,n=this.x1-this.x2),this.y1<this.y2?(e=this.y1,r=this.y2-this.y1):(e=this.y2,r=this.y1-this.y2),new u.awt.geom.Rectangle2D.Double(t,e,n,r)},t.serialVersionUID=0x6ebd54d799dcb800,t}(u.awt.geom.Line2D);t.Double=n}(n=e.Line2D||(e.Line2D={}))}(java||(java={})),function(r){var t,e,n;t=r.awt||(r.awt={}),e=t.geom||(t.geom={}),n=function(){function t(t,e){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.geom.PathIterator"]}),this.index=0,this.line=t,this.affine=e}return t.prototype.getWindingRule=function(){return r.awt.geom.PathIterator.WIND_NON_ZERO},t.prototype.isDone=function(){return 1<this.index},t.prototype.next=function(t){if(void 0===t)return this.next$();throw new Error("invalid overload")},t.prototype.next$=function(){this.index++},t.prototype.currentSegment=function(e){var n=this;if(null!=e&&e instanceof Array||null===e)return function(){if(n.isDone())throw new r.util.NoSuchElementException("line iterator out of bounds");var t;return 0===n.index?(e[0]=n.line.getX1(),e[1]=n.line.getY1(),t=r.awt.geom.PathIterator.SEG_MOVETO):(e[0]=n.line.getX2(),e[1]=n.line.getY2(),t=r.awt.geom.PathIterator.SEG_LINETO),null!=n.affine&&n.affine.transform(e,0,e,0,1),t}();if(null!=e&&e instanceof Array||null===e)return this.currentSegment$double_A(e);throw new Error("invalid overload")},t.prototype.currentSegment$double_A=function(t){if(this.isDone())throw new r.util.NoSuchElementException("line iterator out of bounds");var e;return 0===this.index?(t[0]=this.line.getX1(),t[1]=this.line.getY1(),e=r.awt.geom.PathIterator.SEG_MOVETO):(t[0]=this.line.getX2(),t[1]=this.line.getY2(),e=r.awt.geom.PathIterator.SEG_LINETO),null!=this.affine&&this.affine.transform(t,0,t,0,1),e},t}(),e.LineIterator=n}(java||(java={})),function(t){var e,n,r;e=t.awt||(t.awt={}),n=e.geom||(e.geom={}),(r=n.PathIterator||(n.PathIterator={})).WIND_EVEN_ODD=0,r.WIND_NON_ZERO=1,r.SEG_MOVETO=0,r.SEG_LINETO=1,r.SEG_QUADTO=2,r.SEG_CUBICTO=3,r.SEG_CLOSE=4}(java||(java={})),function(i){var t,e,n;t=i.awt||(i.awt={}),e=t.geom||(t.geom={}),n=function(){function t(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable"]})}return t.prototype.setLocation=function(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof i.awt.geom.Point2D||null===t)&&void 0===e)return this.setLocation$java_awt_geom_Point2D(t);throw new Error("invalid overload")}return this.setLocation$double$double(t,e)},t.prototype.setLocation$double$double=function(t,e){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},t.prototype.setLocation$java_awt_geom_Point2D=function(t){this.setLocation(t.getX(),t.getY())},t.distanceSq=function(t,e,n,r){return(t-=n)*t+(e-=r)*e},t.distance=function(t,e,n,r){return t-=n,e-=r,Math.sqrt(t*t+e*e)},t.prototype.distanceSq=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof i.awt.geom.Point2D||null===t)&&void 0===e)return this.distanceSq$java_awt_geom_Point2D(t);throw new Error("invalid overload")}return t-=n.getX(),e-=n.getY(),t*t+e*e},t.prototype.distanceSq$java_awt_geom_Point2D=function(t){var e=t.getX()-this.getX(),n=t.getY()-this.getY();return e*e+n*n},t.prototype.distance=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof i.awt.geom.Point2D||null===t)&&void 0===e)return this.distance$java_awt_geom_Point2D(t);throw new Error("invalid overload")}return t-=n.getX(),e-=n.getY(),Math.sqrt(t*t+e*e)},t.prototype.distance$java_awt_geom_Point2D=function(t){var e=t.getX()-this.getX(),n=t.getY()-this.getY();return Math.sqrt(e*e+n*n)},t.prototype.clone=function(){try{return javaemul.internal.ObjectHelper.clone(this)}catch(t){throw new i.lang.InternalError(t)}},t.prototype.hashCode=function(){var t=javaemul.internal.DoubleHelper.doubleToLongBits(this.getX());return(0|(t^=31*javaemul.internal.DoubleHelper.doubleToLongBits(this.getY())))^(t>>32|0)},t.prototype.equals=function(t){if(null!=t&&t instanceof i.awt.geom.Point2D){var e=t;return this.getX()===e.getX()&&this.getY()===e.getY()}return this===t},t}(),e.Point2D=n,function(t){var e=function(r){function t(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if(void 0!==t||void 0!==e)throw new Error("invalid overload");r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0}else r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,n.x=t,n.y=e}return __extends(t,r),t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.setLocation$double$double=function(t,e){this.x=t,this.y=e},t.prototype.setLocation=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof i.awt.geom.Point2D||null===t)&&void 0===e)return this.setLocation$java_awt_geom_Point2D(t);throw new Error("invalid overload")}return this.setLocation$double$double(t,e)}return n.x=t,void(n.y=e)},t.prototype.toString=function(){return"Point2D.Float["+this.x+", "+this.y+"]"},t.serialVersionUID=-0x27d6526f25451c00,t}(i.awt.geom.Point2D);t.Float=e;var n=function(r){function t(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if(void 0!==t||void 0!==e)throw new Error("invalid overload");r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0}else r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,n.x=t,n.y=e}return __extends(t,r),t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.setLocation=function(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof i.awt.geom.Point2D||null===t)&&void 0===e)return this.setLocation$java_awt_geom_Point2D(t);throw new Error("invalid overload")}return this.setLocation$double$double(t,e)},t.prototype.setLocation$double$double=function(t,e){this.x=t,this.y=e},t.prototype.toString=function(){return"Point2D.Double["+this.x+", "+this.y+"]"},t.serialVersionUID=0x555bf8ca09a31c00,t}(i.awt.geom.Point2D);t.Double=n}(n=e.Point2D||(e.Point2D={}))}(java||(java={})),function(f){var t,e,n;t=f.awt||(f.awt={}),e=t.geom||(t.geom={}),n=function(){function L(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable"]})}return L.prototype.setCurve=function(t,e,n,r,i,o){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if((null!=t&&t instanceof f.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof f.awt.geom.Point2D||null===e)&&(null!=n&&n instanceof f.awt.geom.Point2D||null===n)&&void 0===r&&void 0===i&&void 0===o)return this.setCurve$java_awt_geom_Point2D$java_awt_geom_Point2D$java_awt_geom_Point2D(t,e,n);if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o){if((null!=t&&t instanceof f.awt.geom.QuadCurve2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o)return this.setCurve$java_awt_geom_QuadCurve2D(t);throw new Error("invalid overload")}return this.setCurve$java_awt_geom_Point2D_A$int(t,e)}return this.setCurve$double_A$int(t,e)}return this.setCurve$double$double$double$double$double$double(t,e,n,r,i,o)},L.prototype.setCurve$double$double$double$double$double$double=function(t,e,n,r,i,o){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},L.prototype.setCurve$double_A$int=function(t,e){this.setCurve(t[e+0],t[e+1],t[e+2],t[e+3],t[e+4],t[e+5])},L.prototype.setCurve$java_awt_geom_Point2D$java_awt_geom_Point2D$java_awt_geom_Point2D=function(t,e,n){this.setCurve(t.getX(),t.getY(),e.getX(),e.getY(),n.getX(),n.getY())},L.prototype.setCurve$java_awt_geom_Point2D_A$int=function(t,e){this.setCurve(t[e+0].getX(),t[e+0].getY(),t[e+1].getX(),t[e+1].getY(),t[e+2].getX(),t[e+2].getY())},L.prototype.setCurve$java_awt_geom_QuadCurve2D=function(t){this.setCurve(t.getX1(),t.getY1(),t.getCtrlX(),t.getCtrlY(),t.getX2(),t.getY2())},L.getFlatnessSq=function(t,e,n,r,i,o){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o)throw new Error("invalid overload");return f.awt.geom.QuadCurve2D.getFlatnessSq$double_A$int(t,e)}return f.awt.geom.Line2D.ptSegDistSq(t,e,i,o,n,r)},L.getFlatness=function(t,e,n,r,i,o){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o)throw new Error("invalid overload");return f.awt.geom.QuadCurve2D.getFlatness$double_A$int(t,e)}return f.awt.geom.Line2D.ptSegDist(t,e,i,o,n,r)},L.getFlatnessSq$double_A$int=function(t,e){return f.awt.geom.Line2D.ptSegDistSq(t[e+0],t[e+1],t[e+4],t[e+5],t[e+2],t[e+3])},L.getFlatness$double_A$int=function(t,e){return f.awt.geom.Line2D.ptSegDist(t[e+0],t[e+1],t[e+4],t[e+5],t[e+2],t[e+3])},L.prototype.getFlatnessSq=function(){return f.awt.geom.Line2D.ptSegDistSq(this.getX1(),this.getY1(),this.getX2(),this.getY2(),this.getCtrlX(),this.getCtrlY())},L.prototype.getFlatness=function(){return f.awt.geom.Line2D.ptSegDist(this.getX1(),this.getY1(),this.getX2(),this.getY2(),this.getCtrlX(),this.getCtrlY())},L.prototype.subdivide=function(t,e){L.subdivide(this,t,e)},L.subdivide$java_awt_geom_QuadCurve2D$java_awt_geom_QuadCurve2D$java_awt_geom_QuadCurve2D=function(t,e,n){var r=t.getX1(),i=t.getY1(),o=t.getCtrlX(),a=t.getCtrlY(),s=t.getX2(),l=t.getY2(),u=(r+o)/2,c=(i+a)/2,h=(s+o)/2,f=(l+a)/2;o=(u+h)/2,a=(c+f)/2,null!=e&&e.setCurve(r,i,u,c,o,a),null!=n&&n.setCurve(o,a,h,f,s,l)},L.subdivide=function(t,e,n,r,i,o){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||!(null!=n&&n instanceof Array||null===n)||"number"!=typeof r&&null!==r||!(null!=i&&i instanceof Array||null===i)||"number"!=typeof o&&null!==o){if((null!=t&&t instanceof f.awt.geom.QuadCurve2D||null===t)&&(null!=e&&e instanceof f.awt.geom.QuadCurve2D||null===e)&&(null!=n&&n instanceof f.awt.geom.QuadCurve2D||null===n)&&void 0===r&&void 0===i&&void 0===o)return f.awt.geom.QuadCurve2D.subdivide$java_awt_geom_QuadCurve2D$java_awt_geom_QuadCurve2D$java_awt_geom_QuadCurve2D(t,e,n);throw new Error("invalid overload")}return a=t[e+0],s=t[e+1],l=t[e+2],u=t[e+3],c=t[e+4],h=t[e+5],null!=n&&(n[r+0]=a,n[r+1]=s),null!=i&&(i[o+4]=c,i[o+5]=h),l=((a=(a+l)/2)+(c=(c+l)/2))/2,u=((s=(s+u)/2)+(h=(h+u)/2))/2,null!=n&&(n[r+2]=a,n[r+3]=s,n[r+4]=l,n[r+5]=u),void(null!=i&&(i[o+0]=l,i[o+1]=u,i[o+2]=c,i[o+3]=h));var a,s,l,u,c,h},L.solveQuadratic$double_A=function(t){return L.solveQuadratic(t,t)},L.solveQuadratic=function(a,s){if((null!=a&&a instanceof Array||null===a)&&(null!=s&&s instanceof Array||null===s))return function(){var t=a[2],e=a[1],n=a[0],r=0;if(0===t){if(0===e)return-1;s[r++]=-n/e}else{var i=e*e-4*t*n;if(i<0)return 0;i=Math.sqrt(i),e<0&&(i=-i);var o=(e+i)/-2;s[r++]=o/t,0!==o&&(s[r++]=n/o)}return r}();if((null!=a&&a instanceof Array||null===a)&&void 0===s)return f.awt.geom.QuadCurve2D.solveQuadratic$double_A(a);throw new Error("invalid overload")},L.prototype.contains$double$double=function(t,e){var n=this.getX1(),r=this.getY1(),i=this.getCtrlX(),o=this.getCtrlY(),a=this.getX2(),s=this.getY2(),l=n-2*i+a,u=r-2*o+s,c=a-n,h=s-r,f=((t-n)*u-(e-r)*l)/(c*u-h*l);if(f<0||1<f||f!=f)return!1;var p=l*f*f+2*(i-n)*f+n,d=u*f*f+2*(o-r)*f+r,v=c*f+n,m=h*f+r;return p<=t&&t<v||v<=t&&t<p||d<=e&&e<m||m<=e&&e<d},L.prototype.contains$java_awt_geom_Point2D=function(t){return this.contains(t.getX(),t.getY())},L.fillEqn=function(t,e,n,r,i){t[0]=n-e,t[1]=r+r-n-n,t[2]=n-r-r+i},L.evalQuadratic=function(t,e,n,r,i,o,a,s){for(var l=0,u=0;u<e;u++){var c=t[u];if((n?0<=c:0<c)&&(r?c<=1:c<1)&&(null==i||i[1]+2*i[2]*c!==0)){var h=1-c;t[l++]=o*h*h+2*a*c*h+s*c*c}}return l},L.getTag=function(t,e,n){return t<=e?t<e?L.BELOW:L.LOWEDGE:n<=t?n<t?L.ABOVE:L.HIGHEDGE:L.INSIDE},L.inwards=function(t,e,n){switch(t){case L.BELOW:case L.ABOVE:default:return!1;case L.LOWEDGE:return L.INSIDE<=e||L.INSIDE<=n;case L.INSIDE:return!0;case L.HIGHEDGE:return e<=L.INSIDE||n<=L.INSIDE}},L.prototype.intersects=function(E,x,A,S){var T=this;if("number"!=typeof E&&null!==E||"number"!=typeof x&&null!==x||"number"!=typeof A&&null!==A||"number"!=typeof S&&null!==S){if((null!=E&&E instanceof f.awt.geom.Rectangle2D||null===E)&&void 0===x&&void 0===A&&void 0===S)return this.intersects$java_awt_geom_Rectangle2D(E);throw new Error("invalid overload")}return function(){if(A<=0||S<=0)return!1;var t=T.getX1(),e=T.getY1(),n=L.getTag(t,E,E+A),r=L.getTag(e,x,x+S);if(n===L.INSIDE&&r===L.INSIDE)return!0;var i=T.getX2(),o=T.getY2(),a=L.getTag(i,E,E+A),s=L.getTag(o,x,x+S);if(a===L.INSIDE&&s===L.INSIDE)return!0;var l=T.getCtrlX(),u=T.getCtrlY(),c=L.getTag(l,E,E+A),h=L.getTag(u,x,x+S);if(n<L.INSIDE&&a<L.INSIDE&&c<L.INSIDE)return!1;if(r<L.INSIDE&&s<L.INSIDE&&h<L.INSIDE)return!1;if(L.INSIDE<n&&L.INSIDE<a&&L.INSIDE<c)return!1;if(L.INSIDE<r&&L.INSIDE<s&&L.INSIDE<h)return!1;if(L.inwards(n,a,c)&&L.inwards(r,s,h))return!0;if(L.inwards(a,n,c)&&L.inwards(s,r,h))return!0;var f=n*a<=0,p=r*s<=0;if(n===L.INSIDE&&a===L.INSIDE&&p)return!0;if(r===L.INSIDE&&s===L.INSIDE&&f)return!0;var d=new Array(3),v=new Array(3);if(!p)return L.fillEqn(d,r<L.INSIDE?x:x+S,e,u,o),2===L.solveQuadratic(d,v)&&2===L.evalQuadratic(v,2,!0,!0,null,t,l,i)&&L.getTag(v[0],E,E+A)*L.getTag(v[1],E,E+A)<=0;if(!f)return L.fillEqn(d,n<L.INSIDE?E:E+A,t,l,i),2===L.solveQuadratic(d,v)&&2===L.evalQuadratic(v,2,!0,!0,null,e,u,o)&&L.getTag(v[0],x,x+S)*L.getTag(v[1],x,x+S)<=0;var m,g,y=i-t,_=o-e,b=o*t-i*e;if((m=r===L.INSIDE?n:L.getTag((b+y*(r<L.INSIDE?x:x+S))/_,E,E+A))*(g=s===L.INSIDE?a:L.getTag((b+y*(s<L.INSIDE?x:x+S))/_,E,E+A))<=0)return!0;m=m*n<=0?r:s,L.fillEqn(d,g<L.INSIDE?E:E+A,t,l,i);var w=L.solveQuadratic(d,v);return L.evalQuadratic(v,w,!0,!0,null,e,u,o),m*(g=L.getTag(v[0],x,x+S))<=0}()},L.prototype.intersects$java_awt_geom_Rectangle2D=function(t){return this.intersects(t.getX(),t.getY(),t.getWidth(),t.getHeight())},L.prototype.contains=function(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r){if((null!=t&&t instanceof f.awt.geom.Point2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.contains$java_awt_geom_Point2D(t);if((null!=t&&t instanceof f.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.contains$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.contains$double$double(t,e)}return!(n<=0||r<=0)&&i.contains(t,e)&&i.contains(t+n,e)&&i.contains(t+n,e+r)&&i.contains(t,e+r)},L.prototype.contains$java_awt_geom_Rectangle2D=function(t){return this.contains(t.getX(),t.getY(),t.getWidth(),t.getHeight())},L.prototype.getBounds=function(){return this.getBounds2D().getBounds()},L.prototype.getPathIterator$java_awt_geom_AffineTransform=function(t){return new f.awt.geom.QuadIterator(this,t)},L.prototype.getPathIterator=function(t,e){var n=this;if(!(null!=t&&t instanceof f.awt.geom.AffineTransform||null===t)||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof f.awt.geom.AffineTransform||null===t)&&void 0===e)return this.getPathIterator$java_awt_geom_AffineTransform(t);throw new Error("invalid overload")}return new f.awt.geom.FlatteningPathIterator(n.getPathIterator(t),e)},L.prototype.clone=function(){try{return javaemul.internal.ObjectHelper.clone(this)}catch(t){throw new f.lang.InternalError(t)}},L.BELOW=-2,L.LOWEDGE=-1,L.INSIDE=0,L.HIGHEDGE=1,L.ABOVE=2,L}(),e.QuadCurve2D=n,function(t){var e=function(s){function t(t,e,n,r,i,o){var a=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if(void 0!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o)throw new Error("invalid overload");s.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x1=0,this.y1=0,this.ctrlx=0,this.ctrly=0,this.x2=0,this.y2=0}else s.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x1=0,this.y1=0,this.ctrlx=0,this.ctrly=0,this.x2=0,this.y2=0,a.setCurve(t,e,n,r,i,o)}return __extends(t,s),t.prototype.getX1=function(){return this.x1},t.prototype.getY1=function(){return this.y1},t.prototype.getP1=function(){return new f.awt.geom.Point2D.Float(this.x1,this.y1)},t.prototype.getCtrlX=function(){return this.ctrlx},t.prototype.getCtrlY=function(){return this.ctrly},t.prototype.getCtrlPt=function(){return new f.awt.geom.Point2D.Float(this.ctrlx,this.ctrly)},t.prototype.getX2=function(){return this.x2},t.prototype.getY2=function(){return this.y2},t.prototype.getP2=function(){return new f.awt.geom.Point2D.Float(this.x2,this.y2)},t.prototype.setCurve$double$double$double$double$double$double=function(t,e,n,r,i,o){this.x1=t,this.y1=e,this.ctrlx=n,this.ctrly=r,this.x2=i,this.y2=o},t.prototype.setCurve=function(t,e,n,r,i,o){var a=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if((null!=t&&t instanceof f.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof f.awt.geom.Point2D||null===e)&&(null!=n&&n instanceof f.awt.geom.Point2D||null===n)&&void 0===r&&void 0===i&&void 0===o)return this.setCurve$java_awt_geom_Point2D$java_awt_geom_Point2D$java_awt_geom_Point2D(t,e,n);if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o){if((null!=t&&t instanceof f.awt.geom.QuadCurve2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o)return this.setCurve$java_awt_geom_QuadCurve2D(t);throw new Error("invalid overload")}return this.setCurve$java_awt_geom_Point2D_A$int(t,e)}return this.setCurve$double_A$int(t,e)}return this.setCurve$double$double$double$double$double$double(t,e,n,r,i,o)}return a.x1=t,a.y1=e,a.ctrlx=n,a.ctrly=r,a.x2=i,void(a.y2=o)},t.prototype.getBounds2D=function(){var t=Math.min(Math.min(this.x1,this.x2),this.ctrlx),e=Math.min(Math.min(this.y1,this.y2),this.ctrly),n=Math.max(Math.max(this.x1,this.x2),this.ctrlx),r=Math.max(Math.max(this.y1,this.y2),this.ctrly);return new f.awt.geom.Rectangle2D.Float(t,e,n-t,r-e)},t.serialVersionUID=-851118840213072e4,t}(f.awt.geom.QuadCurve2D);t.Float=e;var n=function(s){function t(t,e,n,r,i,o){var a=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if(void 0!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o)throw new Error("invalid overload");s.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x1=0,this.y1=0,this.ctrlx=0,this.ctrly=0,this.x2=0,this.y2=0}else s.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x1=0,this.y1=0,this.ctrlx=0,this.ctrly=0,this.x2=0,this.y2=0,a.setCurve(t,e,n,r,i,o)}return __extends(t,s),t.prototype.getX1=function(){return this.x1},t.prototype.getY1=function(){return this.y1},t.prototype.getP1=function(){return new f.awt.geom.Point2D.Double(this.x1,this.y1)},t.prototype.getCtrlX=function(){return this.ctrlx},t.prototype.getCtrlY=function(){return this.ctrly},t.prototype.getCtrlPt=function(){return new f.awt.geom.Point2D.Double(this.ctrlx,this.ctrly)},t.prototype.getX2=function(){return this.x2},t.prototype.getY2=function(){return this.y2},t.prototype.getP2=function(){return new f.awt.geom.Point2D.Double(this.x2,this.y2)},t.prototype.setCurve=function(t,e,n,r,i,o){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if((null!=t&&t instanceof f.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof f.awt.geom.Point2D||null===e)&&(null!=n&&n instanceof f.awt.geom.Point2D||null===n)&&void 0===r&&void 0===i&&void 0===o)return this.setCurve$java_awt_geom_Point2D$java_awt_geom_Point2D$java_awt_geom_Point2D(t,e,n);if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o){if((null!=t&&t instanceof f.awt.geom.QuadCurve2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o)return this.setCurve$java_awt_geom_QuadCurve2D(t);throw new Error("invalid overload")}return this.setCurve$java_awt_geom_Point2D_A$int(t,e)}return this.setCurve$double_A$int(t,e)}return this.setCurve$double$double$double$double$double$double(t,e,n,r,i,o)},t.prototype.setCurve$double$double$double$double$double$double=function(t,e,n,r,i,o){this.x1=t,this.y1=e,this.ctrlx=n,this.ctrly=r,this.x2=i,this.y2=o},t.prototype.getBounds2D=function(){var t=Math.min(Math.min(this.x1,this.x2),this.ctrlx),e=Math.min(Math.min(this.y1,this.y2),this.ctrly),n=Math.max(Math.max(this.x1,this.x2),this.ctrlx),r=Math.max(Math.max(this.y1,this.y2),this.ctrly);return new f.awt.geom.Rectangle2D.Double(t,e,n-t,r-e)},t.serialVersionUID=421714992842856e4,t}(f.awt.geom.QuadCurve2D);t.Double=n}(n=e.QuadCurve2D||(e.QuadCurve2D={}))}(java||(java={})),function(r){var t,e,n;t=r.awt||(r.awt={}),e=t.geom||(t.geom={}),n=function(){function t(t,e){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.geom.PathIterator"]}),this.index=0,this.quad=t,this.affine=e}return t.prototype.getWindingRule=function(){return r.awt.geom.PathIterator.WIND_NON_ZERO},t.prototype.isDone=function(){return 1<this.index},t.prototype.next=function(t){if(void 0===t)return this.next$();throw new Error("invalid overload")},t.prototype.next$=function(){this.index++},t.prototype.currentSegment=function(e){var n=this;if(null!=e&&e instanceof Array||null===e)return function(){if(n.isDone())throw new r.util.NoSuchElementException("quad iterator iterator out of bounds");var t;return 0===n.index?(e[0]=n.quad.getX1(),e[1]=n.quad.getY1(),t=r.awt.geom.PathIterator.SEG_MOVETO):(e[0]=n.quad.getCtrlX(),e[1]=n.quad.getCtrlY(),e[2]=n.quad.getX2(),e[3]=n.quad.getY2(),t=r.awt.geom.PathIterator.SEG_QUADTO),null!=n.affine&&n.affine.transform(e,0,e,0,0===n.index?1:2),t}();if(null!=e&&e instanceof Array||null===e)return this.currentSegment$double_A(e);throw new Error("invalid overload")},t.prototype.currentSegment$double_A=function(t){if(this.isDone())throw new r.util.NoSuchElementException("quad iterator iterator out of bounds");var e;return 0===this.index?(t[0]=this.quad.getX1(),t[1]=this.quad.getY1(),e=r.awt.geom.PathIterator.SEG_MOVETO):(t[0]=this.quad.getCtrlX(),t[1]=this.quad.getCtrlY(),t[2]=this.quad.getX2(),t[3]=this.quad.getY2(),e=r.awt.geom.PathIterator.SEG_QUADTO),null!=this.affine&&this.affine.transform(t,0,t,0,0===this.index?1:2),e},t}(),e.QuadIterator=n}(java||(java={})),function(l){var t,e,n;t=l.awt||(l.awt={}),e=t.geom||(t.geom={}),n=function(){function t(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable"]})}return t.prototype.getMinX=function(){return this.getX()},t.prototype.getMinY=function(){return this.getY()},t.prototype.getMaxX=function(){return this.getX()+this.getWidth()},t.prototype.getMaxY=function(){return this.getY()+this.getHeight()},t.prototype.getCenterX=function(){return this.getX()+this.getWidth()/2},t.prototype.getCenterY=function(){return this.getY()+this.getHeight()/2},t.prototype.getFrame=function(){return new l.awt.geom.Rectangle2D.Double(this.getX(),this.getY(),this.getWidth(),this.getHeight())},t.prototype.setFrame=function(t,e,n,r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof l.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof l.awt.geom.Dimension2D||null===e)&&void 0===n&&void 0===r)return this.setFrame$java_awt_geom_Point2D$java_awt_geom_Dimension2D(t,e);if((null!=t&&t instanceof l.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.setFrame$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.setFrame$double$double$double$double(t,e,n,r)},t.prototype.setFrame$double$double$double$double=function(t,e,n,r){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},t.prototype.setFrame$java_awt_geom_Point2D$java_awt_geom_Dimension2D=function(t,e){this.setFrame(t.getX(),t.getY(),e.getWidth(),e.getHeight())},t.prototype.setFrame$java_awt_geom_Rectangle2D=function(t){this.setFrame(t.getX(),t.getY(),t.getWidth(),t.getHeight())},t.prototype.setFrameFromDiagonal=function(e,n,r,i){var o=this;if("number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i){if((null!=e&&e instanceof l.awt.geom.Point2D||null===e)&&(null!=n&&n instanceof l.awt.geom.Point2D||null===n)&&void 0===r&&void 0===i)return this.setFrameFromDiagonal$java_awt_geom_Point2D$java_awt_geom_Point2D(e,n);throw new Error("invalid overload")}return function(){if(r<e){var t=e;e=r,r=t}i<n&&(t=n,n=i,i=t),o.setFrame(e,n,r-e,i-n)}()},t.prototype.setFrameFromDiagonal$java_awt_geom_Point2D$java_awt_geom_Point2D=function(t,e){this.setFrameFromDiagonal(t.getX(),t.getY(),e.getX(),e.getY())},t.prototype.setFrameFromCenter=function(t,e,n,r){var i,o,a=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof l.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof l.awt.geom.Point2D||null===e)&&void 0===n&&void 0===r)return this.setFrameFromCenter$java_awt_geom_Point2D$java_awt_geom_Point2D(t,e);throw new Error("invalid overload")}return i=Math.abs(n-t),o=Math.abs(r-e),void a.setFrame(t-i,e-o,2*i,2*o)},t.prototype.setFrameFromCenter$java_awt_geom_Point2D$java_awt_geom_Point2D=function(t,e){this.setFrameFromCenter(t.getX(),t.getY(),e.getX(),e.getY())},t.prototype.contains=function(t,e,n,r,i){if((null!=t&&t instanceof l.awt.geom.Point2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_geom_Point2D(t);if((null!=t&&t instanceof l.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")},t.prototype.contains$java_awt_geom_Point2D=function(t){return this.contains(t.getX(),t.getY())},t.prototype.intersects$java_awt_geom_Rectangle2D=function(t){return this.intersects(t.getX(),t.getY(),t.getWidth(),t.getHeight())},t.prototype.contains$java_awt_geom_Rectangle2D=function(t){return this.contains(t.getX(),t.getY(),t.getWidth(),t.getHeight())},t.prototype.getBounds=function(){var t=this.getWidth(),e=this.getHeight();if(t<0||e<0)return new l.awt.Rectangle;var n=this.getX(),r=this.getY(),i=Math.floor(n),o=Math.floor(r),a=Math.ceil(n+t),s=Math.ceil(r+e);return new l.awt.Rectangle(0|i,0|o,a-i|0,s-o|0)},t.prototype.getPathIterator=function(t,e){var n=this;if(!(null!=t&&t instanceof l.awt.geom.AffineTransform||null===t)||"number"!=typeof e&&null!==e)throw new Error("invalid overload");return new l.awt.geom.FlatteningPathIterator(n.getPathIterator(t),e)},t.prototype.clone=function(){try{return javaemul.internal.ObjectHelper.clone(this)}catch(t){throw new l.lang.InternalError(t)}},t}(),e.RectangularShape=n}(java||(java={})),function(n){var t,e,r;t=n.awt||(n.awt={}),e=t.geom||(t.geom={}),r=function(){function t(t,e){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.geom.PathIterator"]}),this.x=0,this.y=0,this.w=0,this.h=0,this.index=0,this.x=t.getX(),this.y=t.getY(),this.w=t.getWidth(),this.h=t.getHeight(),this.affine=e,(this.w<0||this.h<0)&&(this.index=6)}return t.prototype.getWindingRule=function(){return n.awt.geom.PathIterator.WIND_NON_ZERO},t.prototype.isDone=function(){return 5<this.index},t.prototype.next=function(t){if(void 0===t)return this.next$();throw new Error("invalid overload")},t.prototype.next$=function(){this.index++},t.prototype.currentSegment=function(t){var e=this;if(null!=t&&t instanceof Array||null===t)return function(){if(e.isDone())throw new n.util.NoSuchElementException("rect iterator out of bounds");return 5===e.index?n.awt.geom.PathIterator.SEG_CLOSE:(t[0]=e.x,t[1]=e.y,1!==e.index&&2!==e.index||(t[0]+=e.w),2!==e.index&&3!==e.index||(t[1]+=e.h),null!=e.affine&&e.affine.transform(t,0,t,0,1),0===e.index?n.awt.geom.PathIterator.SEG_MOVETO:n.awt.geom.PathIterator.SEG_LINETO)}();if(null!=t&&t instanceof Array||null===t)return this.currentSegment$double_A(t);throw new Error("invalid overload")},t.prototype.currentSegment$double_A=function(t){if(this.isDone())throw new n.util.NoSuchElementException("rect iterator out of bounds");return 5===this.index?n.awt.geom.PathIterator.SEG_CLOSE:(t[0]=this.x,t[1]=this.y,1!==this.index&&2!==this.index||(t[0]+=this.w),2!==this.index&&3!==this.index||(t[1]+=this.h),null!=this.affine&&this.affine.transform(t,0,t,0,1),0===this.index?n.awt.geom.PathIterator.SEG_MOVETO:n.awt.geom.PathIterator.SEG_LINETO)},t}(),e.RectIterator=r}(java||(java={})),function(a){var t,e,n;t=a.awt||(a.awt={}),e=t.geom||(t.geom={}),n=function(){function o(t,e){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.geom.PathIterator"]}),this.x=0,this.y=0,this.w=0,this.h=0,this.aw=0,this.ah=0,this.index=0,this.x=t.getX(),this.y=t.getY(),this.w=t.getWidth(),this.h=t.getHeight(),this.aw=Math.min(this.w,Math.abs(t.getArcWidth())),this.ah=Math.min(this.h,Math.abs(t.getArcHeight())),this.affine=e,(this.aw<0||this.ah<0)&&(this.index=o.ctrlpts_$LI$().length)}return o.prototype.getWindingRule=function(){return a.awt.geom.PathIterator.WIND_NON_ZERO},o.prototype.isDone=function(){return this.index>=o.ctrlpts_$LI$().length},o.prototype.next=function(t){if(void 0===t)return this.next$();throw new Error("invalid overload")},o.prototype.next$=function(){this.index++},o.angle_$LI$=function(){return null==o.angle&&(o.angle=Math.PI/4),o.angle},o.a_$LI$=function(){return null==o.a&&(o.a=1-Math.cos(o.angle_$LI$())),o.a},o.b_$LI$=function(){return null==o.b&&(o.b=Math.tan(o.angle_$LI$())),o.b},o.c_$LI$=function(){return null==o.c&&(o.c=Math.sqrt(1+o.b_$LI$()*o.b_$LI$())-1+o.a_$LI$()),o.c},o.cv_$LI$=function(){return null==o.cv&&(o.cv=4/3*o.a_$LI$()*o.b_$LI$()/o.c_$LI$()),o.cv},o.acv_$LI$=function(){return null==o.acv&&(o.acv=(1-o.cv_$LI$())/2),o.acv},o.ctrlpts_$LI$=function(){return null==o.ctrlpts&&(o.ctrlpts=[[0,0,0,.5],[0,0,1,-.5],[0,0,1,-o.acv_$LI$(),0,o.acv_$LI$(),1,0,0,.5,1,0],[1,-.5,1,0],[1,-o.acv_$LI$(),1,0,1,0,1,-o.acv_$LI$(),1,0,1,-.5],[1,0,0,.5],[1,0,0,o.acv_$LI$(),1,-o.acv_$LI$(),0,0,1,-.5,0,0],[0,.5,0,0],[0,o.acv_$LI$(),0,0,0,0,0,o.acv_$LI$(),0,0,0,.5],[]]),o.ctrlpts},o.types_$LI$=function(){return null==o.types&&(o.types=[a.awt.geom.PathIterator.SEG_MOVETO,a.awt.geom.PathIterator.SEG_LINETO,a.awt.geom.PathIterator.SEG_CUBICTO,a.awt.geom.PathIterator.SEG_LINETO,a.awt.geom.PathIterator.SEG_CUBICTO,a.awt.geom.PathIterator.SEG_LINETO,a.awt.geom.PathIterator.SEG_CUBICTO,a.awt.geom.PathIterator.SEG_LINETO,a.awt.geom.PathIterator.SEG_CUBICTO,a.awt.geom.PathIterator.SEG_CLOSE]),o.types},o.prototype.currentSegment=function(r){var i=this;if(null!=r&&r instanceof Array||null===r)return function(){if(i.isDone())throw new a.util.NoSuchElementException("roundrect iterator out of bounds");for(var t=o.ctrlpts_$LI$()[i.index],e=0,n=0;n<t.length;n+=4)r[e++]=i.x+t[n+0]*i.w+t[n+1]*i.aw,r[e++]=i.y+t[n+2]*i.h+t[n+3]*i.ah;return null!=i.affine&&i.affine.transform(r,0,r,0,e/2|0),o.types_$LI$()[i.index]}();if(null!=r&&r instanceof Array||null===r)return this.currentSegment$double_A(r);throw new Error("invalid overload")},o.prototype.currentSegment$double_A=function(t){if(this.isDone())throw new a.util.NoSuchElementException("roundrect iterator out of bounds");for(var e=o.ctrlpts_$LI$()[this.index],n=0,r=0;r<e.length;r+=4)t[n++]=this.x+e[r+0]*this.w+e[r+1]*this.aw,t[n++]=this.y+e[r+2]*this.h+e[r+3]*this.ah;return null!=this.affine&&this.affine.transform(t,0,t,0,n/2|0),o.types_$LI$()[this.index]},o}(),e.RoundRectIterator=n}(java||(java={})),function(t){var e;e=function(){},(t.awt||(t.awt={})).Graphics=e}(java||(java={})),function(t){var e,n;e=t.awt||(t.awt={}),n=function(){function t(t,e){this.currentPosition=0,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.HTMLComponent","java.awt.Layout"]}),this.cols=0,this.rows=0,this.rows=t,this.cols=e}return t.prototype.add=function(t){null==this.table&&this.init();for(var e=0,n=0;n<this.rows;n++)for(var r=this.table.childNodes[n],i=0;i<this.cols;i++){var o=r.childNodes[i];if(e++===this.currentPosition)return o.appendChild(t.getHTMLElement()),t.getHTMLElement().style.width="100%",t.getHTMLElement().style.height="100%",void this.currentPosition++}},t.prototype.getHTMLElement=function(){return null==this.table&&this.init(),this.table},t.prototype.bind=function(t){},t.prototype.init=function(){this.table=document.createElement("table"),this.table.style.width="100%",this.table.style.height="100%",this.table.style.position="absolute",this.table.style.left="0px",this.table.style.right="0px",this.table.style.zIndex="0";for(var t=0;t<this.rows;t++){var e=document.createElement("tr");this.table.appendChild(e);for(var n=0;n<this.cols;n++){var r=document.createElement("td");e.appendChild(r),r.style.width=(100/this.cols|0)+"%"}}},t}(),e.GridLayout=n}(java||(java={})),function(t){var e,n;e=t.beans||(t.beans={}),n=function(){function t(){}return t.isDesignTime=function(){return!1},t}(),e.Beans=n}(java||(java={})),function(r){var t,e;t=r.io||(r.io={}),e=function(){function t(){}return t.__static_initialize=function(){t.__static_initialized||(t.__static_initialized=!0,t.__static_initializer_0())},t.prototype.normalize=function(t,e,n){if("string"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return this.normalize$java_lang_String(t)},t.prototype.normalize$java_lang_String=function(t){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},t.prototype.resolve=function(t,e){if("string"!=typeof t&&null!==t||"string"!=typeof e&&null!==e){if((null!=t&&t instanceof r.io.File||null===t)&&void 0===e)return this.resolve$java_io_File(t);throw new Error("invalid overload")}return null},t.prototype.resolve$java_io_File=function(t){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},t.getBooleanProperty=function(t,e){var n=r.lang.System.getProperty(t);return null==n?e:n.toUpperCase()==="true".toUpperCase()},t.__static_initializer_0=function(){t.useCanonCaches=t.getBooleanProperty("sun.io.useCanonCaches",t.useCanonCaches),t.useCanonPrefixCache=t.getBooleanProperty("sun.io.useCanonPrefixCache",t.useCanonPrefixCache)},t.__static_initialized=!1,t.BA_EXISTS=1,t.BA_REGULAR=2,t.BA_DIRECTORY=4,t.BA_HIDDEN=8,t.ACCESS_READ=4,t.ACCESS_WRITE=2,t.ACCESS_EXECUTE=1,t.SPACE_TOTAL=0,t.SPACE_FREE=1,t.SPACE_USABLE=2,t.useCanonCaches=!0,t.useCanonPrefixCache=!0,t}(),t.FileSystem=e}(java||(java={})),function(s){var t,e;t=s.io||(s.io={}),e=function(){function a(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable"]})}return a.prototype.available=function(){return 0},a.prototype.close=function(){},a.prototype.mark=function(t){},a.prototype.markSupported=function(){return!1},a.prototype.read$=function(){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},a.prototype.read$byte_A=function(t){return javaemul.internal.InternalPreconditions.checkNotNull(t),this.read(t,0,t.length)},a.prototype.read=function(n,r,i){var o=this;if(!(null!=n&&n instanceof Array||null===n)||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i){if((null!=n&&n instanceof Array||null===n)&&void 0===r&&void 0===i)return this.read$byte_A(n);if(void 0===n&&void 0===r&&void 0===i)return this.read$();throw new Error("invalid overload")}return function(){s.io.IOUtils.checkOffsetAndCount(n,r,i);for(var e=0;e<i;++e){var t;try{if(-1===(t=o.read()))return 0===e?-1:e}catch(t){if(0!==e)return e;throw t}n[r+e]=0|t}return i}()},a.prototype.reset=function(){throw new s.io.IOException},a.prototype.skip=function(t){if(t<=0)return 0;for(var e=0|Math.min(a.MAX_SKIP_BUFFER_SIZE,t),n=new Array(e),r=0;r<t;){var i=0|Math.min(t-r,n.length),o=this.read(n,0,i);if(-1===o)break;if(r+=o,o<i)break}return r},a.MAX_SKIP_BUFFER_SIZE=4096,a}(),t.InputStream=e}(java||(java={})),function(i){var t,e;t=i.io||(i.io={}),e=function(){function r(){}return r.checkOffsetAndCount=function(t,e,n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n)throw new Error("invalid overload");return i.io.IOUtils.checkOffsetAndCount$int$int$int(t,e,n)}return i.io.IOUtils.checkOffsetAndCount$char_A$int$int(t,e,n)}return javaemul.internal.InternalPreconditions.checkNotNull(t),void r.checkOffsetAndCount(t.length,e,n)},r.checkOffsetAndCount$char_A$int$int=function(t,e,n){javaemul.internal.InternalPreconditions.checkNotNull(t),r.checkOffsetAndCount(t.length,e,n)},r.checkOffsetAndCount$int$int$int=function(t,e,n){if(e<0||n<0||t<e+n)throw new i.lang.IndexOutOfBoundsException},r}(),t.IOUtils=e}(java||(java={})),function(o){var t,e;t=o.io||(o.io={}),e=function(){function t(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]})}return t.prototype.close=function(){},t.prototype.flush=function(){},t.prototype.write$byte_A=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t),this.write(t,0,t.length)},t.prototype.write=function(e,n,r){var i=this;if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=e&&e instanceof Array||null===e)&&void 0===n&&void 0===r)return this.write$byte_A(e);if("number"!=typeof e&&null!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.write$int(e)}return function(){o.io.IOUtils.checkOffsetAndCount(e,n,r);for(var t=n;t<n+r;t++)i.write(e[t])}()},t.prototype.write$int=function(t){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},t}(),t.OutputStream=e}(java||(java={})),function(o){var t,e;t=o.io||(o.io={}),e=function(){function i(t){var e=this;if((this.skipBuffer=null)!=t||null===t)Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable"]}),function(){if(null==t)throw new o.lang.NullPointerException;e.lock=t}();else{if(void 0!==t)throw new Error("invalid overload");Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable"]}),e.lock=e}}return i.prototype.read$=function(){var t=new Array(1);return-1===this.read(t,0,1)?-1:t[0].charCodeAt(0)},i.prototype.read$char_A=function(t){return this.read(t,0,t.length)},i.prototype.read=function(t,e,n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n)return this.read$char_A(t);if(void 0===t&&void 0===e&&void 0===n)return this.read$();throw new Error("invalid overload")}return 0},i.prototype.skip=function(t){if(t<0)throw new o.lang.IllegalArgumentException("skip value is negative");var e=0|Math.min(t,i.maxSkipBufferSize);(null==this.skipBuffer||this.skipBuffer.length<e)&&(this.skipBuffer=new Array(e));for(var n=t;0<n;){var r=this.read(this.skipBuffer,0,0|Math.min(n,e));if(-1===r)break;n-=r}return t-n},i.prototype.ready=function(){return!1},i.prototype.markSupported=function(){return!1},i.prototype.mark=function(t){throw new o.io.IOException("mark() not supported")},i.prototype.reset=function(){throw new o.io.IOException("reset() not supported")},i.maxSkipBufferSize=8192,i}(),t.Reader=e}(java||(java={})),function(n){var t,e;t=n.io||(n.io={}),e=function(){function o(t){var e=this;if(null!=t||null===t)Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Appendable","java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}),function(){if(null==t)throw new n.lang.NullPointerException;e.lock=t}();else{if(void 0!==t)throw new Error("invalid overload");Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Appendable","java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}),e.lock=e}}return o.prototype.write$int=function(t){null==this.writeBuffer&&(this.writeBuffer=new Array(o.WRITE_BUFFER_SIZE)),this.writeBuffer[0]=String.fromCharCode(t),this.write(this.writeBuffer,0,1)},o.prototype.write$char_A=function(t){this.write(t,0,t.length)},o.prototype.write$char_A$int$int=function(t,e,n){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},o.prototype.write$java_lang_String=function(t){this.write(t,0,t.length)},o.prototype.write=function(t,e,n){var r,i=this;if("string"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n)return this.write$char_A(t);if("string"!=typeof t&&null!==t||void 0!==e||void 0!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return this.write$int(t)}return this.write$java_lang_String(t)}return this.write$char_A$int$int(t,e,n)}return n<=o.WRITE_BUFFER_SIZE?(null==i.writeBuffer&&(i.writeBuffer=new Array(o.WRITE_BUFFER_SIZE)),r=i.writeBuffer):r=new Array(n),t.getChars(e,e+n,r,0),void i.write(r,0,n)},o.prototype.append$java_lang_CharSequence=function(t){return null==t?this.write("null"):this.write(t.toString()),this},o.prototype.append=function(t,e,n){var r,i=this;if(!(null!=t&&(null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof t)||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if((null!=t&&(null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof t)||null===t)&&void 0===e&&void 0===n)return this.append$java_lang_CharSequence(t);if("string"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return this.append$char(t)}return r=null==t?"null":t,i.write(r.substring(e,n).toString()),i},o.prototype.append$char=function(t){return this.write(t),this},o.WRITE_BUFFER_SIZE=1024,o}(),t.Writer=e}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(){function r(t){this.string=t}return r.prototype.length=function(){return this.string.length},r.prototype.setLength=function(t){var e=this.length();t<e?this.string=this.string.substring(0,t):e<t&&(this.string+=new String(new Array(t-e)).toString())},r.prototype.capacity=function(){return javaemul.internal.IntegerHelper.MAX_VALUE},r.prototype.ensureCapacity=function(t){},r.prototype.trimToSize=function(){},r.prototype.charAt=function(t){return this.string.charAt(t)},r.prototype.getChars=function(t,e,n,r){for(javaemul.internal.InternalPreconditions.checkStringBounds(t,e,this.length()),javaemul.internal.InternalPreconditions.checkStringBounds(r,r+(e-t),n.length);t<e;)n[r++]=this.string.charAt(t++)},r.prototype.setCharAt=function(t,e){this.replace0(t,t+1,new String(e).toString())},r.prototype.subSequence=function(t,e){return this.string.substring(t,e)},r.prototype.substring$int=function(t){return this.string.substring(t)},r.prototype.substring=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.substring$int(t)}return n.string.substring(t,e)},r.prototype.indexOf$java_lang_String=function(t){return this.string.indexOf(t)},r.prototype.indexOf=function(t,e){var n=this;if("string"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("string"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.indexOf$java_lang_String(t)}return n.string.indexOf(t,e)},r.prototype.lastIndexOf$java_lang_String=function(t){return this.string.lastIndexOf(t)},r.prototype.lastIndexOf=function(t,e){var n=this;if("string"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("string"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.lastIndexOf$java_lang_String(t)}return n.string.lastIndexOf(t,e)},r.prototype.toString=function(){return this.string},r.prototype.append0=function(t,e,n){null==t&&(t="null"),this.string+=t.substring(e,n)},r.prototype.appendCodePoint0=function(t){this.string+=new String(String.fromCharCode(t)).toString()},r.prototype.replace0=function(t,e,n){this.string=this.string.substring(0,t)+n+this.string.substring(e)},r.prototype.reverse0=function(){var t=this.string.length;if(!(t<=1)){var e=new Array(t);e[0]=this.string.charAt(t-1);for(var n=1;n<t;n++)e[n]=this.string.charAt(t-1-n),javaemul.internal.CharacterHelper.isSurrogatePair(e[n],e[n-1])&&r.swap(e,n-1,n);this.string=new String(e)}},r.swap=function(t,e,n){var r=t[e];t[e]=t[n],t[n]=r},r}(),e.AbstractStringBuilder=n}(java||(java={})),function(t){var e,n,r;e=t.lang||(t.lang={}),n=e.annotation||(e.annotation={}),r=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(e,t),e}(Error),n.AnnotationFormatError=r}(java||(java={})),function(t){var e,n,r;r=t.lang||(t.lang={}),e=r.annotation||(r.annotation={}),(n=e.ElementType||(e.ElementType={}))[n.ANNOTATION_TYPE=0]="ANNOTATION_TYPE",n[n.CONSTRUCTOR=1]="CONSTRUCTOR",n[n.FIELD=2]="FIELD",n[n.LOCAL_VARIABLE=3]="LOCAL_VARIABLE",n[n.METHOD=4]="METHOD",n[n.PACKAGE=5]="PACKAGE",n[n.PARAMETER=6]="PARAMETER",n[n.TYPE=7]="TYPE",e.ElementType}(java||(java={})),function(t){var e,n,r;r=t.lang||(t.lang={}),e=r.annotation||(r.annotation={}),(n=e.RetentionPolicy||(e.RetentionPolicy={}))[n.CLASS=0]="CLASS",n[n.RUNTIME=1]="RUNTIME",n[n.SOURCE=2]="SOURCE",e.RetentionPolicy}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(n){function t(t,e){if("string"!=typeof t&&null!==t||!(null!=e&&e instanceof Error||null===e))if("string"!=typeof t&&null!==t||void 0!==e)if("boolean"!=typeof t&&null!==t||void 0!==e)if("string"!=typeof t&&null!==t||void 0!==e)if("number"!=typeof t&&null!==t||void 0!==e)if("number"!=typeof t&&null!==t||void 0!==e)if("number"!=typeof t&&null!==t||void 0!==e)if("number"!=typeof t&&null!==t||void 0!==e)if(null==t&&null!==t||void 0!==e){if(void 0!==t||void 0!==e)throw new Error("invalid overload");n.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else n.call(this,new String(t).toString()),this.message=new String(t).toString(),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{t=new String(t).toString();n.call(this,new String(t).toString()),this.message=new String(t).toString(),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{t=new String(t).toString();n.call(this,new String(t).toString()),this.message=new String(t).toString(),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{t=new String(t).toString();n.call(this,new String(t).toString()),this.message=new String(t).toString(),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{var t=new String(t).toString();n.call(this,new String(t).toString()),this.message=new String(t).toString(),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{var t=new String(t).toString();n.call(this,new String(t).toString()),this.message=new String(t).toString(),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{var t=new String(t).toString();n.call(this,new String(t).toString()),this.message=new String(t).toString(),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else n.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else n.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(t,n),t}(Error),e.AssertionError=n}(java||(java={})),function(i){var t,e;t=i.lang||(i.lang={}),e=function(){function s(){this.sequentialId=s.nextSequentialId++,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.reflect.Type"]}),this.modifiers=0,this.typeName=null,this.simpleName=null,this.packageName=null,this.compoundName=null,this.canonicalName=null,this.typeId=null,this.arrayLiterals=null}return s.constructors_$LI$=function(){return null==s.constructors&&(s.constructors=new Array),s.constructors},s.classes_$LI$=function(){return null==s.classes&&(s.classes=new Array),s.classes},s.getConstructorForClass=function(t){var e=0|s.classes_$LI$().indexOf(t);return-1===e?null:s.constructors_$LI$()[e]},s.getClassForConstructor=function(t){var e=0|s.constructors_$LI$().indexOf(t);return-1===e?null:s.classes_$LI$()[e]},s.mapConstructorToClass=function(t,e){s.constructors_$LI$().push(t),s.classes_$LI$().push(e)},s.getClassLiteralForArray=function(t,e){var n=t.arrayLiterals=null==t.arrayLiterals?new Array(0):t.arrayLiterals;return null!=n[e]?n[e]:n[e]=t.createClassLiteralForArray(e)},s.prototype.createClassLiteralForArray=function(t){var e=new i.lang.Class;return e.modifiers=s.ARRAY,e.superclass=Object,e.componentType=1<t?s.getClassLiteralForArray(this,t-1):this,e},s.createForClass=function(t,e,n,r){var i=s.createClassObject(t,e,n);return i.superclass=r,i},s.createForEnum=function(t,e,n,r,i,o){var a=s.createClassObject(t,e,n);return a.modifiers=null!=i?s.ENUM:0,a.superclass=a.enumSuperclass=r,a.enumConstantsFunc=i,a.enumValueOfFunc=o,a},s.createForInterface=function(t,e){var n=s.createClassObject(t,e,null);return n.modifiers=s.INTERFACE,n},s.createForPrimitive=function(t,e){var n=s.createClassObject("",t,e);return n.modifiers=s.PRIMITIVE,n},s.getPrototypeForClass=function(t){return t.isPrimitive()?null:s.getConstructorForClass(t).prototype},s.createClassObject=function(t,e,n){var r=new i.lang.Class;return r.packageName=t,r.compoundName=e,r},s.initializeNames=function(t){if(t.isArray()){var e=t.componentType;return e.isPrimitive()?t.typeName="["+e.typeId:e.isArray()?t.typeName="["+e.getName():t.typeName="[L"+e.getName()+";",t.canonicalName=e.getCanonicalName()+"[]",void(t.simpleName=e.getSimpleName()+"[]")}var n=t.packageName,r=t.compoundName.split("/");t.typeName=[n,r.join("$")].join("."),t.canonicalName=[n,r.join(".")].join("."),t.simpleName=r[r.length-1]},s.synthesizePrimitiveNamesFromTypeId=function(t,e){t.typeName="Class$"+e,t.canonicalName=t.typeName,t.simpleName=t.typeName},s.prototype.desiredAssertionStatus=function(){return!1},s.prototype.ensureNamesAreInitialized=function(){null==this.typeName&&s.initializeNames(this)},s.prototype.getCanonicalName=function(){return this.ensureNamesAreInitialized(),this.canonicalName},s.prototype.getComponentType=function(){return this.componentType},s.prototype.getEnumConstants=function(){return this.enumConstantsFunc&&this.enumConstantsFunc()},s.prototype.getName=function(){return this.ensureNamesAreInitialized(),this.typeName},s.prototype.getSimpleName=function(){return this.ensureNamesAreInitialized(),this.simpleName},s.prototype.getSuperclass=function(){return this.superclass},s.prototype.isArray=function(){return 0!=(this.modifiers&s.ARRAY)},s.prototype.isEnum=function(){return 0!=(this.modifiers&s.ENUM)},s.prototype.isInterface=function(){return 0!=(this.modifiers&s.INTERFACE)},s.prototype.isPrimitive=function(){return 0!=(this.modifiers&s.PRIMITIVE)},s.prototype.toString=function(){return(this.isInterface()?"interface ":this.isPrimitive()?"":"class ")+this.getName()},s.prototype.getEnumSuperclass=function(){return this.enumSuperclass},s.PRIMITIVE=1,s.INTERFACE=2,s.ARRAY=4,s.ENUM=8,s.nextSequentialId=1,s}(),t.Class=e}(java||(java={})),function(r){var t,e;t=r.lang||(r.lang={}),e=function(){function i(t,e){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.__ordinal=0,this.__name=t,this.__ordinal=e}return i.valueOf=function(t,e){if(!(null!=t&&t instanceof r.lang.Class||null===t)||"string"!=typeof e&&null!==e){if(!(null!=t&&t instanceof Object||null===t)||"string"!=typeof e&&null!==e)throw new Error("invalid overload");return r.lang.Enum.valueOf$jsweet_lang_Object$java_lang_String(t,e)}return n=javaemul.internal.InternalPreconditions.checkNotNull(t).enumValueOfFunc,javaemul.internal.InternalPreconditions.checkCriticalArgument(null!=n),javaemul.internal.InternalPreconditions.checkNotNull(e),i.invokeValueOf(n,e);var n},i.createValueOfMap=function(t){for(var e=new Object,n=0;n<t.length;n++){var r=t[n];i.put0(e,":"+r.name(),r)}return e},i.valueOf$jsweet_lang_Object$java_lang_String=function(t,e){javaemul.internal.InternalPreconditions.checkNotNull(e);var n=r.lang.Enum.get0(t,":"+e);return javaemul.internal.InternalPreconditions.checkCriticalArgument(null!=n,"Enum constant undefined: %s",e),n},i.get0=function(t,e){return t[e]},i.invokeValueOf=function(t,e){return t(e)},i.put0=function(t,e,n){t[e]=n},i.prototype.compareTo=function(t){if(null!=t||null===t)return this.__ordinal-t.__ordinal;throw new Error("invalid overload")},i.prototype.getDeclaringClass=function(){return null},i.prototype.name=function(){return null!=this.__name?this.__name:""+this.__ordinal},i.prototype.ordinal=function(){return this.__ordinal},i.prototype.toString=function(){return this.name()},i}(),t.Enum=e}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(i){function t(t,e,n,r){if("string"!=typeof t&&null!==t||!(null!=e&&e instanceof Error||null===e)||"boolean"!=typeof n&&null!==n||"boolean"!=typeof r&&null!==r)if("string"!=typeof t&&null!==t||!(null!=e&&e instanceof Error||null===e)||void 0!==n||void 0!==r)if("string"!=typeof t&&null!==t||void 0!==e||void 0!==n||void 0!==r)if((null!=t&&t instanceof Error||null===t)&&void 0===e&&void 0===n&&void 0===r){e=t;i.call(this,e),this.message=e,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{if(void 0!==t||void 0!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else i.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else i.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else i.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(t,i),t}(Error),e.Exception=n}(java||(java={})),function(n){var t,e;t=n.lang||(n.lang={}),e=function(){function t(t,e,n,r){var i=this;if("string"!=typeof t&&null!==t||"string"!=typeof e&&null!==e||"string"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if(void 0!==t||void 0!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]}),this.lineNumber=0}else Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]}),this.lineNumber=0,i.className=t,i.methodName=e,i.fileName=n,i.lineNumber=r}return t.prototype.getClassName=function(){return this.className},t.prototype.getFileName=function(){return this.fileName},t.prototype.getLineNumber=function(){return this.lineNumber},t.prototype.getMethodName=function(){return this.methodName},t.prototype.equals=function(t){if(null!=t&&t instanceof n.lang.StackTraceElement){var e=t;return this.lineNumber===e.lineNumber&&n.util.Objects.equals(this.methodName,e.methodName)&&n.util.Objects.equals(this.className,e.className)&&n.util.Objects.equals(this.fileName,e.fileName)}return!1},t.prototype.hashCode=function(){return n.util.Objects.hash(this.lineNumber,this.className,this.methodName,this.fileName)},t.prototype.toString=function(){return this.className+"."+this.methodName+"("+(null!=this.fileName?this.fileName:"Unknown Source")+(0<=this.lineNumber?":"+this.lineNumber:"")+")"},t}(),t.StackTraceElement=e}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(n){function t(t,e){if("string"!=typeof t&&null!==t||!(null!=e&&e instanceof Error||null===e))if("string"!=typeof t&&null!==t||void 0!==e)if((null!=t&&t instanceof Error||null===t)&&void 0===e){e=t;n.call(this,e),this.message=e,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{if(void 0!==t||void 0!==e)throw new Error("invalid overload");n.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else n.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else n.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(t,n),t.serialVersionUID=0x39c25654802f0e00,t}(Error),e.VirtualMachineError=n}(java||(java={})),function(t){var e;e=function(){},(t.lang||(t.lang={})).Void=e}(java||(java={})),function(n){var t,e,r,i;t=n.nio||(n.nio={}),e=t.charset||(t.charset={}),i=function(){function e(t,e){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable"]}),this.__name=t}return e.availableCharsets=function(){if(null==e.AvailableCharsets.CHARSETS){var t=new n.util.TreeMap;t.put(javaemul.internal.EmulatedCharset.ISO_8859_1_$LI$().name(),javaemul.internal.EmulatedCharset.ISO_8859_1_$LI$()),t.put(javaemul.internal.EmulatedCharset.ISO_LATIN_1_$LI$().name(),javaemul.internal.EmulatedCharset.ISO_LATIN_1_$LI$()),t.put(javaemul.internal.EmulatedCharset.UTF_8_$LI$().name(),javaemul.internal.EmulatedCharset.UTF_8_$LI$()),e.AvailableCharsets.CHARSETS=n.util.Collections.unmodifiableSortedMap(t)}return e.AvailableCharsets.CHARSETS},e.forName=function(t){if(javaemul.internal.InternalPreconditions.checkArgument(null!=t,"Null charset name"),t=t.toUpperCase(),javaemul.internal.EmulatedCharset.ISO_8859_1_$LI$().name()===t)return javaemul.internal.EmulatedCharset.ISO_8859_1_$LI$();if(javaemul.internal.EmulatedCharset.ISO_LATIN_1_$LI$().name()===t)return javaemul.internal.EmulatedCharset.ISO_LATIN_1_$LI$();if(javaemul.internal.EmulatedCharset.UTF_8_$LI$().name()===t)return javaemul.internal.EmulatedCharset.UTF_8_$LI$();throw e.createLegalCharsetNameRegex().test(t)?new n.nio.charset.UnsupportedCharsetException(t):new n.nio.charset.IllegalCharsetNameException(t)},e.createLegalCharsetNameRegex=function(){return new RegExp("^[A-Za-z0-9][\\w-:\\.\\+]*$")},e.prototype.name=function(){return this.__name},e.prototype.compareTo=function(t){var e=this;if(null!=t&&t instanceof n.nio.charset.Charset||null===t)return e.__name.toUpperCase().localeCompare(t.__name.toUpperCase());throw new Error("invalid overload")},e.prototype.hashCode=function(){return this.__name.toString()},e.prototype.equals=function(t){if(t===this)return!0;if(!(null!=t&&t instanceof n.nio.charset.Charset))return!1;var e=t;return this.__name===e.__name},e.prototype.toString=function(){return this.__name},e}(),e.Charset=i,r=function(){},(i=e.Charset||(e.Charset={})).AvailableCharsets=r}(java||(java={})),function(o){var t,e;t=o.security||(o.security={}),e=function(){function t(){}return t.prototype.engineDigest$=function(){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},t.prototype.engineDigest=function(e,n,r){var i=this;if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if(void 0===e&&void 0===n&&void 0===r)return this.engineDigest$();throw new Error("invalid overload")}return function(){var t=i.engineDigest();if(e.length<t.length+n)throw new o.security.DigestException("Insufficient buffer space for digest");if(r<t.length)throw new o.security.DigestException("Length not large enough to hold digest");return o.lang.System.arraycopy(t,0,e,n,t.length),t.length}()},t.prototype.engineGetDigestLength=function(){return 0},t.prototype.engineUpdate$byte=function(t){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},t.prototype.engineUpdate=function(t,e,n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return this.engineUpdate$byte(t)}},t}(),t.MessageDigestSpi=e}(java||(java={})),function(i){var t,e;t=i.util||(i.util={}),e=function(){function t(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.lang.Iterable"]})}return t.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();){t(e.next())}},t.prototype.add=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.add$java_lang_Object(t)},t.prototype.add$java_lang_Object=function(t){throw new i.lang.UnsupportedOperationException("Add not supported on this collection")},t.prototype.addAll=function(t,e){if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Collection")||null===t)&&void 0===e)return this.addAll$java_util_Collection(t);throw new Error("invalid overload")},t.prototype.addAll$java_util_Collection=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=!1,n=t.iterator();n.hasNext();){var r=n.next();e=e||this.add(r)}return e},t.prototype.clear=function(){for(var t=this.iterator();t.hasNext();)t.next(),t.remove()},t.prototype.contains=function(t){return this.advanceToFind(t,!1)},t.prototype.containsAll=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=t.iterator();e.hasNext();){var n=e.next();if(!this.contains(n))return!1}return!0},t.prototype.isEmpty=function(){return 0===this.size()},t.prototype.remove=function(t){if(null!=t||null===t)return this.remove$java_lang_Object(t);throw new Error("invalid overload")},t.prototype.remove$java_lang_Object=function(t){return this.advanceToFind(t,!0)},t.prototype.removeAll=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=!1,n=this.iterator();n.hasNext();){var r=n.next();t.contains(r)&&(n.remove(),e=!0)}return e},t.prototype.retainAll=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=!1,n=this.iterator();n.hasNext();){var r=n.next();t.contains(r)||(n.remove(),e=!0)}return e},t.prototype.toArray$=function(){return this.toArray(new Array(this.size()))},t.prototype.toArray=function(i){var o=this;if(null!=i&&i instanceof Array||null===i)return function(){var t=o.size();i.length<t&&(i=javaemul.internal.ArrayHelper.createFrom(i,t));for(var e=i,n=o.iterator(),r=0;r<t;++r)e[r]=n.next();return i.length>t&&(i[t]=null),i}();if(void 0===i)return this.toArray$();throw new Error("invalid overload")},t.prototype.toString=function(){for(var t=new i.util.StringJoiner(", ","[","]"),e=this.iterator();e.hasNext();){var n=e.next();t.add(n===this?"(this Collection)":new String(n).toString())}return t.toString()},t.prototype.advanceToFind=function(t,e){for(var n=this.iterator();n.hasNext();){var r=n.next();if(i.util.Objects.equals(t,r))return e&&n.remove(),!0}return!1},t}(),t.AbstractCollection=e}(java||(java={})),function(n){var t,e;t=n.util||(n.util={}),e=function(){function t(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map.Entry"]})}return t.prototype.equals=function(t){if(!(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map.Entry")))return!1;var e=t;return n.util.Objects.equals(this.getKey(),e.getKey())&&n.util.Objects.equals(this.getValue(),e.getValue())},t.prototype.hashCode=function(){return n.util.Objects.hashCode(this.getKey())^n.util.Objects.hashCode(this.getValue())},t.prototype.toString=function(){return this.getKey()+"="+this.getValue()},t}(),t.AbstractMapEntry=e}(java||(java={})),function(t){var e,n,r,i;e=t.util||(t.util={}),i=function(){function t(){}return t.NATURAL_$LI$=function(){return null==t.NATURAL&&(t.NATURAL=new t.NaturalComparator),t.NATURAL},t.natural=function(){return t.NATURAL_$LI$()},t}(),e.Comparators=i,n=i=e.Comparators||(e.Comparators={}),r=function(){function t(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Comparator"]})}return t.prototype.compare=function(t,e){return javaemul.internal.InternalPreconditions.checkNotNull(t),javaemul.internal.InternalPreconditions.checkNotNull(e),t.compareTo(e)},t}(),n.NaturalComparator=r}(java||(java={})),function(n){var t,e,r,i;t=n.util||(n.util={}),i=function(){function l(t,e,n,r,i,o){var a=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o)if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||void 0!==o)if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||void 0!==r||void 0!==i||void 0!==o)if("string"!=typeof t&&null!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o)if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o){if(void 0!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o)throw new Error("invalid overload");Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"]}),a.jsdate=new(l.jsdateClass())}else{n=t;Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"]}),a.jsdate=new l(n)}else{var n=l.parse(n=t);Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"]}),a.jsdate=new l(n)}else{r=0,i=0,o=0;Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"]}),a.jsdate=new(l.jsdateClass()),a.jsdate.setFullYear(a.jsdate,t+1900,e,n),a.jsdate.setHours(a.jsdate,r,i,o,0),a.fixDaylightSavings(r)}else{var o=0;Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"]}),a.jsdate=new(l.jsdateClass()),a.jsdate.setFullYear(a.jsdate,t+1900,e,n),a.jsdate.setHours(a.jsdate,r,i,o,0),a.fixDaylightSavings(r)}else Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"]}),a.jsdate=new(l.jsdateClass()),a.jsdate.setFullYear(a.jsdate,t+1900,e,n),a.jsdate.setHours(a.jsdate,r,i,o,0),a.fixDaylightSavings(r)}return l.parse=function(t){var e=l.jsdateClass().parse(t);if(Number.NaN===e)throw new n.lang.IllegalArgumentException;return Math.round(e)},l.UTC=function(t,e,n,r,i,o){return Math.round(l.jsdateClass().UTC(t+1900,e,n,r,i,o,0))},l.padTwo=function(t){return t<10?"0"+t:new String(t).toString()},l.jsdateClass=function(){return window.Date},l.prototype.after=function(t){if(null!=t&&t instanceof n.util.Date||null===t)return this.after$java_util_Date(t);throw new Error("invalid overload")},l.prototype.after$java_util_Date=function(t){return this.getTime()>t.getTime()},l.prototype.before=function(t){if(null!=t&&t instanceof n.util.Date||null===t)return this.before$java_util_Date(t);throw new Error("invalid overload")},l.prototype.before$java_util_Date=function(t){return this.getTime()<t.getTime()},l.prototype.clone=function(){return new l(this.getTime())},l.prototype.compareTo=function(t){var e=this;if(null!=t&&t instanceof n.util.Date||null===t)return javaemul.internal.LongHelper.compare(e.getTime(),t.getTime());throw new Error("invalid overload")},l.prototype.equals=function(t){if(null!=t||null===t)return this.equals$java_lang_Object(t);throw new Error("invalid overload")},l.prototype.equals$java_lang_Object=function(t){return null!=t&&t instanceof n.util.Date&&this.getTime()===t.getTime()},l.prototype.getDate=function(){return 0|this.jsdate.getDate(this.jsdate)},l.prototype.getDay=function(){return 0|this.jsdate.getDay(this.jsdate)},l.prototype.getHours=function(){return 0|this.jsdate.getHours(this.jsdate)},l.prototype.getMinutes=function(){return 0|this.jsdate.getMinutes(this.jsdate)},l.prototype.getMonth=function(){return 0|this.jsdate.getMonth(this.jsdate)},l.prototype.getSeconds=function(){return 0|this.jsdate.getSeconds(this.jsdate)},l.prototype.getTime=function(){return Math.round(this.jsdate.getTime(this.jsdate))},l.prototype.getTimezoneOffset=function(){return 0|this.jsdate.getTimezoneOffset(this.jsdate)},l.prototype.getYear=function(){return(0|this.jsdate.getFullYear(this.jsdate))-1900},l.prototype.hashCode=function(){var t=this.getTime();return t^t>>>32|0},l.prototype.setDate=function(t){var e=this.getHours();this.jsdate.setDate(this.jsdate,t),this.fixDaylightSavings(e)},l.prototype.setHours=function(t){this.jsdate.setHours(this.jsdate,t),this.fixDaylightSavings(t)},l.prototype.setMinutes=function(t){var e=this.getHours()+(t/60|0);this.jsdate.setMinutes(this.jsdate,t),this.fixDaylightSavings(e)},l.prototype.setMonth=function(t){var e=this.getHours();this.jsdate.setMonth(this.jsdate,t),this.fixDaylightSavings(e)},l.prototype.setSeconds=function(t){var e=this.getHours()+(t/3600|0);this.jsdate.setSeconds(this.jsdate,t),this.fixDaylightSavings(e)},l.prototype.setTime=function(t){this.jsdate.setTime(this.jsdate,t)},l.prototype.setYear=function(t){var e=this.getHours();this.jsdate.setFullYear(this.jsdate,t+1900),this.fixDaylightSavings(e)},l.prototype.toGMTString=function(){return this.jsdate.getUTCDate(this.jsdate)+" "+l.StringData.MONTHS_$LI$()[0|this.jsdate.getUTCMonth(this.jsdate)]+" "+this.jsdate.getUTCFullYear(this.jsdate)+" "+l.padTwo(0|this.jsdate.getUTCHours(this.jsdate))+":"+l.padTwo(0|this.jsdate.getUTCMinutes(this.jsdate))+":"+l.padTwo(0|this.jsdate.getUTCSeconds(this.jsdate))+" GMT"},l.prototype.toLocaleString=function(){return this.jsdate.toLocaleString()},l.prototype.toString=function(){var t=-(0|this.getTimezoneOffset()),e=(0<=t?"+":"")+(t/60|0),n=l.padTwo(Math.abs(t)%60);return l.StringData.DAYS_$LI$()[0|this.getDay()]+" "+l.StringData.MONTHS_$LI$()[0|this.getMonth()]+" "+l.padTwo(0|this.getDate())+" "+l.padTwo(0|this.getHours())+":"+l.padTwo(0|this.getMinutes())+":"+l.padTwo(0|this.getSeconds())+" GMT"+e+n+" "+this.jsdate.getFullYear(this.jsdate)},l.ONE_HOUR_IN_MILLISECONDS_$LI$=function(){return null==l.ONE_HOUR_IN_MILLISECONDS&&(l.ONE_HOUR_IN_MILLISECONDS=36e5),l.ONE_HOUR_IN_MILLISECONDS},l.prototype.fixDaylightSavings=function(t){if(t%=24,this.getHours()!==t){var e=new(l.jsdateClass())(this.getTime());e.setDate(1+(0|e.getDate(e)));var n=(0|this.jsdate.getTimezoneOffset(this.jsdate))-(0|e.getTimezoneOffset(e));if(0<n){var r=n/60|0,i=n%60,o=0|this.getDate();24<=(0|this.getHours())+r&&o++;var a=new(l.jsdateClass())(0|this.jsdate.getFullYear(this.jsdate),this.getMonth(),o,t+r,this.getMinutes()+i,this.getSeconds(),Math.round(this.jsdate.getMilliseconds(this.jsdate)));this.setTime(a.getMilliseconds(a))}}var s=this.getTime();this.setTime(s+l.ONE_HOUR_IN_MILLISECONDS_$LI$()),this.getHours()!==t&&this.setTime(s)},l}(),t.Date=i,e=i=t.Date||(t.Date={}),r=function(){function t(){}return t.DAYS_$LI$=function(){return null==t.DAYS&&(t.DAYS=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),t.DAYS},t.MONTHS_$LI$=function(){return null==t.MONTHS&&(t.MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),t.MONTHS},t}(),e.StringData=r}(java||(java={})),function(t){var e,n;e=t.util||(t.util={}),n=function(){function t(t){this.source=t}return t.prototype.getSource=function(){return this.source},t}(),e.EventObject=n}(java||(java={})),function(o){var a,t,e,n;a=o.util||(o.util={}),n=function(){function t(t){this.backingMap=o.util.InternalJsMapFactory.newJsMap(),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Iterable"]}),this.__size=0,this.host=t}return t.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();){t(e.next())}},t.prototype.put=function(t,e){var n=this.hash(t),r=this.getChainOrEmpty(n);if(0===r.length)this.backingMap.set(n,r);else{var i=this.findEntryInChain(t,r);if(null!=i)return i.setValue(e)}return r[r.length]=new a.AbstractMap.SimpleEntry(t,e),this.__size++,o.util.ConcurrentModificationDetector.structureChanged(this.host),null},t.prototype.remove=function(t){for(var e=this.hash(t),n=this.getChainOrEmpty(e),r=0;r<n.length;r++){var i=n[r];if(this.host._equals(t,i.getKey()))return 1===n.length?(javaemul.internal.ArrayHelper.setLength(n,0),this.backingMap.delete(e)):javaemul.internal.ArrayHelper.removeFrom(n,r,1),this.__size--,o.util.ConcurrentModificationDetector.structureChanged(this.host),i.getValue()}return null},t.prototype.getEntry=function(t){return this.findEntryInChain(t,this.getChainOrEmpty(this.hash(t)))},t.prototype.findEntryInChain=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(this.host._equals(t,r.getKey()))return r}return null},t.prototype.size=function(){return this.__size},t.prototype.iterator=function(){return new t.InternalHashCodeMap$0(this)},t.prototype.getChainOrEmpty=function(t){var e=this.unsafeCastToArray(this.backingMap.get(t));return null==e?this.newEntryChain():e},t.prototype.newEntryChain=function(){return[]},t.prototype.unsafeCastToArray=function(t){return t},t.prototype.hash=function(t){return null==t?0:this.host.getHashCode(t)},t}(),a.InternalHashCodeMap=n,t=n=a.InternalHashCodeMap||(a.InternalHashCodeMap={}),e=function(){function t(t){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.__parent=t,this.chains=this.__parent.backingMap.entries(),this.itemIndex=0,this.chain=this.__parent.newEntryChain(),this.lastEntry=null}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){if(this.itemIndex<this.chain.length)return!0;var t=this.chains.next();return!(t.done||(this.chain=this.__parent.unsafeCastToArray(t.value[1]),this.itemIndex=0))},t.prototype.next=function(){return this.lastEntry=this.chain[this.itemIndex++],this.lastEntry},t.prototype.remove=function(){this.__parent.remove(this.lastEntry.getKey()),0!==this.itemIndex&&this.itemIndex--},t}(),t.InternalHashCodeMap$0=e}(java||(java={})),function(i){var t,e;t=i.util||(i.util={}),e=function(){function n(){}return n.prototype.get$int=function(t){return null},n.prototype.get=function(t){if("string"==typeof t||null===t)return null;if("number"==typeof t||null===t)return this.get$int(t);throw new Error("invalid overload")},n.prototype.set$int$java_lang_Object=function(t,e){},n.prototype.set=function(t,e){if("string"!=typeof t&&null!==t||null==e&&null!==e){if("number"!=typeof t&&null!==t||null==e&&null!==e)throw new Error("invalid overload");return this.set$int$java_lang_Object(t,e)}},n.prototype.delete$int=function(t){n.JsHelper.delete(this,t)},n.prototype.delete=function(t){var e=this;if("string"!=typeof t&&null!==t){if("number"==typeof t||null===t)return this.delete$int(t);throw new Error("invalid overload")}n.JsHelper.delete(e,t)},n.prototype.entries=function(){return null},n}(),t.InternalJsMap=e,function(t){var e=function(){function t(){}return t.prototype.next=function(){return null},t}();t.Iterator=e;var n=function(){this.done=!1};t.IteratorEntry=n;var r=function(){function t(){}return t.delete$java_util_InternalJsMap$int=function(t,e){t.delete(e)},t.delete=function(t,e){if(!(null!=t&&t instanceof i.util.InternalJsMap||null===t)||"string"!=typeof e&&null!==e){if(!(null!=t&&t instanceof i.util.InternalJsMap||null===t)||"number"!=typeof e&&null!==e)throw new Error("invalid overload");return i.util.InternalJsMap.JsHelper.delete$java_util_InternalJsMap$int(t,e)}t.delete(e)},t}();t.JsHelper=r}(e=t.InternalJsMap||(t.InternalJsMap={}))}(java||(java={})),function(t){var e,n;e=t.util||(t.util={}),n=function(){function t(){}return t.jsMapCtor_$LI$=function(){return null==t.jsMapCtor&&(t.jsMapCtor=t.getJsMapConstructor()),t.jsMapCtor},t.getJsMapConstructor=function(){return Map},t.newJsMap=function(){return new(t.jsMapCtor_$LI$())},t}(),e.InternalJsMapFactory=n}(java||(java={})),function(o){var t,e;t=o.util||(o.util={}),e=function(){function t(){}return t.ROOT_$LI$=function(){return null==t.ROOT&&(t.ROOT=new t.RootLocale),t.ROOT},t.ENGLISH_$LI$=function(){return null==t.ENGLISH&&(t.ENGLISH=new t.EnglishLocale),t.ENGLISH},t.US_$LI$=function(){return null==t.US&&(t.US=new t.USLocale),t.US},t.defaultLocale_$LI$=function(){return null==t.defaultLocale&&(t.defaultLocale=new t.DefaultLocale),t.defaultLocale},t.getDefault=function(){return t.defaultLocale_$LI$()},t}(),t.Locale=e,function(t){var e=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.toString=function(){return""},e}(o.util.Locale);t.RootLocale=e;var n=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.toString=function(){return"en"},e}(o.util.Locale);t.EnglishLocale=n;var r=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.toString=function(){return"en_US"},e}(o.util.Locale);t.USLocale=r;var i=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.toString=function(){return"unknown"},e}(o.util.Locale);t.DefaultLocale=i}(e=t.Locale||(t.Locale={}))}(java||(java={})),function(t){var e,n,r;e=t.util||(t.util={}),n=e.logging||(e.logging={}),r=function(){function t(){}return t.prototype.formatMessage=function(t){return this.format(t)},t}(),n.Formatter=r}(java||(java={})),function(e){var t,n,r;t=e.util||(e.util={}),n=t.logging||(t.logging={}),r=function(){function t(){}return t.prototype.getFormatter=function(){return this.formatter},t.prototype.getLevel=function(){return null!=this.level?this.level:e.util.logging.Level.ALL_$LI$()},t.prototype.isLoggable=function(t){return this.getLevel().intValue()<=t.getLevel().intValue()},t.prototype.setFormatter=function(t){this.formatter=t},t.prototype.setLevel=function(t){this.level=t},t}(),n.Handler=r}(java||(java={})),function(c){var t,e,n;t=c.util||(c.util={}),e=t.logging||(t.logging={}),n=function(){function e(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return e.ALL_$LI$=function(){return null==e.ALL&&(e.ALL=new e.LevelAll),e.ALL},e.CONFIG_$LI$=function(){return null==e.CONFIG&&(e.CONFIG=new e.LevelConfig),e.CONFIG},e.FINE_$LI$=function(){return null==e.FINE&&(e.FINE=new e.LevelFine),e.FINE},e.FINER_$LI$=function(){return null==e.FINER&&(e.FINER=new e.LevelFiner),e.FINER},e.FINEST_$LI$=function(){return null==e.FINEST&&(e.FINEST=new e.LevelFinest),e.FINEST},e.INFO_$LI$=function(){return null==e.INFO&&(e.INFO=new e.LevelInfo),e.INFO},e.OFF_$LI$=function(){return null==e.OFF&&(e.OFF=new e.LevelOff),e.OFF},e.SEVERE_$LI$=function(){return null==e.SEVERE&&(e.SEVERE=new e.LevelSevere),e.SEVERE},e.WARNING_$LI$=function(){return null==e.WARNING&&(e.WARNING=new e.LevelWarning),e.WARNING},e.parse=function(t){if(c.util.logging.Logger.assertLoggingValues(),"FALSE"===c.lang.System.getProperty("gwt.logging.enabled","FALSE"))return null;switch(t.toUpperCase()){case"ALL":return e.ALL_$LI$();case"CONFIG":return e.CONFIG_$LI$();case"FINE":return e.FINE_$LI$();case"FINER":return e.FINER_$LI$();case"FINEST":return e.FINEST_$LI$();case"INFO":return e.INFO_$LI$();case"OFF":return e.OFF_$LI$();case"SEVERE":return e.SEVERE_$LI$();case"WARNING":return e.WARNING_$LI$();default:throw new c.lang.IllegalArgumentException('Invalid level "'+t+'"')}},e.prototype.getName=function(){return"DUMMY"},e.prototype.intValue=function(){return-1},e.prototype.toString=function(){return this.getName()},e}(),e.Level=n,function(t){var e=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(e,t),e.prototype.getName=function(){return"ALL"},e.prototype.intValue=function(){return javaemul.internal.IntegerHelper.MIN_VALUE},e}(c.util.logging.Level);t.LevelAll=e;var n=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(e,t),e.prototype.getName=function(){return"CONFIG"},e.prototype.intValue=function(){return 700},e}(c.util.logging.Level);t.LevelConfig=n;var r=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(e,t),e.prototype.getName=function(){return"FINE"},e.prototype.intValue=function(){return 500},e}(c.util.logging.Level);t.LevelFine=r;var i=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(e,t),e.prototype.getName=function(){return"FINER"},e.prototype.intValue=function(){return 400},e}(c.util.logging.Level);t.LevelFiner=i;var o=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(e,t),e.prototype.getName=function(){return"FINEST"},e.prototype.intValue=function(){return 300},e}(c.util.logging.Level);t.LevelFinest=o;var a=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(e,t),e.prototype.getName=function(){return"INFO"},e.prototype.intValue=function(){return 800},e}(c.util.logging.Level);t.LevelInfo=a;var s=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(e,t),e.prototype.getName=function(){return"OFF"},e.prototype.intValue=function(){return javaemul.internal.IntegerHelper.MAX_VALUE},e}(c.util.logging.Level);t.LevelOff=s;var l=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(e,t),e.prototype.getName=function(){return"SEVERE"},e.prototype.intValue=function(){return 1e3},e}(c.util.logging.Level);t.LevelSevere=l;var u=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(e,t),e.prototype.getName=function(){return"WARNING"},e.prototype.intValue=function(){return 900},e}(c.util.logging.Level);t.LevelWarning=u}(n=e.Level||(e.Level={}))}(java||(java={})),function(r){var t,e,n;t=r.util||(r.util={}),e=t.logging||(t.logging={}),n=function(){function e(){this.loggerMap=new r.util.HashMap}return e.getLogManager=function(){if(null==e.singleton){e.singleton=new e;var t=new r.util.logging.Logger("",null);t.setLevel(r.util.logging.Level.INFO_$LI$()),e.singleton.addLoggerImpl(t)}return e.singleton},e.prototype.addLogger=function(t){return null==this.getLogger(t.getName())&&(this.addLoggerAndEnsureParents(t),!0)},e.prototype.getLogger=function(t){return this.loggerMap.get(t)},e.prototype.getLoggerNames=function(){return r.util.Collections.enumeration(this.loggerMap.keySet())},e.prototype.addLoggerAndEnsureParents=function(t){var e=t.getName(),n=e.substring(0,Math.max(0,e.lastIndexOf(".")));t.setParent(this.ensureLogger(n)),this.addLoggerImpl(t)},e.prototype.addLoggerImpl=function(t){"ENABLED"===r.lang.System.getProperty("gwt.logging.simpleConsoleHandler","ENABLED")&&0===t.getName().length&&t.addHandler(new r.util.logging.SimpleConsoleLogHandler),this.loggerMap.put(t.getName(),t)},e.prototype.ensureLogger=function(t){var e=this.getLogger(t);if(null==e){var n=new r.util.logging.Logger(t,null);return this.addLoggerAndEnsureParents(n),n}return e},e}(),e.LogManager=n}(java||(java={})),function(r){var t,e,n;t=r.util||(r.util={}),e=t.logging||(t.logging={}),n=function(){function t(t,e){var n=this;if(this.loggerName="",!((this.thrown=null)!=t&&t instanceof r.util.logging.Level||null===t)||"string"!=typeof e&&null!==e){if(void 0!==t||void 0!==e)throw new Error("invalid overload");Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]}),this.millis=0}else Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]}),this.millis=0,n.level=t,n.msg=e,n.millis=r.lang.System.currentTimeMillis()}return t.prototype.getLevel=function(){return this.level},t.prototype.getLoggerName=function(){return this.loggerName},t.prototype.getMessage=function(){return this.msg},t.prototype.getMillis=function(){return this.millis},t.prototype.getThrown=function(){return this.thrown},t.prototype.setLevel=function(t){this.level=t},t.prototype.setLoggerName=function(t){this.loggerName=t},t.prototype.setMessage=function(t){this.msg=t},t.prototype.setMillis=function(t){this.millis=t},t.prototype.setThrown=function(t){this.thrown=t},t}(),e.LogRecord=n}(java||(java={})),function(i){var t,e;t=i.util||(i.util={}),e=function(){function t(){}return t.compare=function(t,e,n){return t===e?0:n.compare(t,e)},t.deepEquals=function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t===e)return!0;var n=t.getClass(),r=e.getClass();return!(!n.isArray()||!n.equals(r))&&(null!=t&&t instanceof Array?i.util.Arrays.deepEquals(t,e):null!=t&&t instanceof Array?i.util.Arrays.equals(t,e):null!=t&&t instanceof Array?i.util.Arrays.equals(t,e):null!=t&&t instanceof Array?i.util.Arrays.equals(t,e):null!=t&&t instanceof Array?i.util.Arrays.equals(t,e):null!=t&&t instanceof Array?i.util.Arrays.equals(t,e):null!=t&&t instanceof Array?i.util.Arrays.equals(t,e):null!=t&&t instanceof Array?i.util.Arrays.equals(t,e):!(null!=t&&t instanceof Array)||i.util.Arrays.equals(t,e))},t.equals=function(t,e){return t===e||null!=t&&t===e},t.hashCode=function(t){return null!=t?t.toString():0},t.hash=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.util.Arrays.hashCode(t)},t.isNull=function(t){return null==t},t.nonNull=function(t){return null!=t},t.requireNonNull$java_lang_Object=function(t){if(null==t)throw new i.lang.NullPointerException;return t},t.requireNonNull=function(t,e){if(null==t&&null!==t||"string"!=typeof e&&null!==e){if(null==t&&null!==t||("function"!=typeof e||0!=e.length)&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return i.util.Objects.requireNonNull$java_lang_Object(t)}return i.util.Objects.requireNonNull$java_lang_Object$java_util_function_Supplier(t,e)}return function(){if(null==t)throw new i.lang.NullPointerException(e);return t}()},t.requireNonNull$java_lang_Object$java_util_function_Supplier=function(t,e){if(null==t)throw new i.lang.NullPointerException(e());return t},t.toString$java_lang_Object=function(t){return new String(t).toString()},t.toString=function(t,e){if(null==t&&null!==t||"string"!=typeof e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return i.util.Objects.toString$java_lang_Object(t)}return null!=t?t.toString():e},t}(),t.Objects=e}(java||(java={})),function(e){var t,n;t=e.util||(e.util={}),n=function(){function t(){this.changed=!1,this.obs=new e.util.Vector}return t.prototype.addObserver=function(t){if(null==t)throw new e.lang.NullPointerException;this.obs.contains(t)||this.obs.addElement(t)},t.prototype.deleteObserver=function(t){this.obs.removeElement(t)},t.prototype.notifyObservers=function(t){var e;if(void 0===t&&(t=null),this.changed){e=this.obs.toArray(),this.clearChanged();for(var n=e.length-1;0<=n;n--)e[n].update(this,t)}},t.prototype.deleteObservers=function(){this.obs.removeAllElements()},t.prototype.setChanged=function(){this.changed=!0},t.prototype.clearChanged=function(){this.changed=!1},t.prototype.hasChanged=function(){return this.changed},t.prototype.countObservers=function(){return this.obs.size()},t}(),t.Observable=n}(java||(java={})),function(n){var t,e;t=n.util||(n.util={}),e=function(){function e(t){var e=this;if(null!=t||null===t)e.ref=javaemul.internal.InternalPreconditions.checkCriticalNotNull(t);else{if(void 0!==t)throw new Error("invalid overload");e.ref=null}}return e.empty=function(){return e.EMPTY_$LI$()},e.of=function(t){return new e(t)},e.ofNullable=function(t){return null==t?e.empty():e.of(t)},e.EMPTY_$LI$=function(){return null==e.EMPTY&&(e.EMPTY=new e),e.EMPTY},e.prototype.isPresent=function(){return null!=this.ref},e.prototype.get=function(){return javaemul.internal.InternalPreconditions.checkCriticalElement(this.isPresent()),this.ref},e.prototype.ifPresent=function(t){this.isPresent()&&t(this.ref)},e.prototype.filter=function(t){return javaemul.internal.InternalPreconditions.checkCriticalNotNull(t),!this.isPresent()||t(this.ref)?this:e.empty()},e.prototype.map=function(t){return javaemul.internal.InternalPreconditions.checkCriticalNotNull(t),this.isPresent()?e.ofNullable(t(this.ref)):e.empty()},e.prototype.flatMap=function(t){return javaemul.internal.InternalPreconditions.checkCriticalNotNull(t),this.isPresent()?javaemul.internal.InternalPreconditions.checkCriticalNotNull(t(this.ref)):e.empty()},e.prototype.orElse=function(t){return this.isPresent()?this.ref:t},e.prototype.orElseGet=function(t){return this.isPresent()?this.ref:t()},e.prototype.orElseThrow=function(t){if(this.isPresent())return this.ref;throw t()},e.prototype.equals=function(t){if(t===this)return!0;if(!(null!=t&&t instanceof n.util.Optional))return!1;var e=t;return n.util.Objects.equals(this.ref,e.ref)},e.prototype.hashCode=function(){return n.util.Objects.hashCode(this.ref)},e.prototype.toString=function(){return this.isPresent()?"Optional.of("+new String(this.ref).toString()+")":"Optional.empty()"},e}(),t.Optional=e}(java||(java={})),function(n){var t,e;t=n.util||(n.util={}),e=function(){function e(t){var e=this;if("number"==typeof t||null===t)this.ref=0,this.present=!1,e.ref=t,e.present=!0;else{if(void 0!==t)throw new Error("invalid overload");this.ref=0,this.present=!1,e.ref=0,e.present=!1}}return e.empty=function(){return e.EMPTY_$LI$()},e.of=function(t){return new e(t)},e.EMPTY_$LI$=function(){return null==e.EMPTY&&(e.EMPTY=new e),e.EMPTY},e.prototype.isPresent=function(){return this.present},e.prototype.getAsDouble=function(){return javaemul.internal.InternalPreconditions.checkCriticalElement(this.present),this.ref},e.prototype.ifPresent=function(t){this.present&&t(this.ref)},e.prototype.orElse=function(t){return this.present?this.ref:t},e.prototype.orElseGet=function(t){return this.present?this.ref:t()},e.prototype.orElseThrow=function(t){if(this.present)return this.ref;throw t()},e.prototype.equals=function(t){if(t===this)return!0;if(!(null!=t&&t instanceof n.util.OptionalDouble))return!1;var e=t;return this.present===e.present&&0===javaemul.internal.DoubleHelper.compare(this.ref,e.ref)},e.prototype.hashCode=function(){return this.present?javaemul.internal.DoubleHelper.hashCode(this.ref):0},e.prototype.toString=function(){return this.present?"OptionalDouble.of("+this.ref+")":"OptionalDouble.empty()"},e}(),t.OptionalDouble=e}(java||(java={})),function(n){var t,e;t=n.util||(n.util={}),e=function(){function e(t){var e=this;if("number"==typeof t||null===t)this.ref=0,this.present=!1,e.ref=t,e.present=!0;else{if(void 0!==t)throw new Error("invalid overload");this.ref=0,this.present=!1,e.ref=0,e.present=!1}}return e.empty=function(){return e.EMPTY_$LI$()},e.of=function(t){return new e(t)},e.EMPTY_$LI$=function(){return null==e.EMPTY&&(e.EMPTY=new e),e.EMPTY},e.prototype.isPresent=function(){return this.present},e.prototype.getAsInt=function(){return javaemul.internal.InternalPreconditions.checkCriticalElement(this.present),this.ref},e.prototype.ifPresent=function(t){this.present&&t(this.ref)},e.prototype.orElse=function(t){return this.present?this.ref:t},e.prototype.orElseGet=function(t){return this.present?this.ref:t()},e.prototype.orElseThrow=function(t){if(this.present)return this.ref;throw t()},e.prototype.equals=function(t){if(t===this)return!0;if(!(null!=t&&t instanceof n.util.OptionalInt))return!1;var e=t;return this.present===e.present&&0===javaemul.internal.IntegerHelper.compare(this.ref,e.ref)},e.prototype.hashCode=function(){return this.present?javaemul.internal.IntegerHelper.hashCode(this.ref):0},e.prototype.toString=function(){return this.present?"OptionalInt.of("+this.ref+")":"OptionalInt.empty()"},e}(),t.OptionalInt=e}(java||(java={})),function(n){var t,e;t=n.util||(n.util={}),e=function(){function e(t){var e=this;if("number"==typeof t||null===t)this.ref=0,this.present=!1,e.ref=t,e.present=!0;else{if(void 0!==t)throw new Error("invalid overload");this.ref=0,this.present=!1,e.ref=0,e.present=!1}}return e.empty=function(){return e.EMPTY_$LI$()},e.of=function(t){return new e(t)},e.EMPTY_$LI$=function(){return null==e.EMPTY&&(e.EMPTY=new e),e.EMPTY},e.prototype.isPresent=function(){return this.present},e.prototype.getAsLong=function(){return javaemul.internal.InternalPreconditions.checkCriticalElement(this.present),this.ref},e.prototype.ifPresent=function(t){this.present&&t(this.ref)},e.prototype.orElse=function(t){return this.present?this.ref:t},e.prototype.orElseGet=function(t){return this.present?this.ref:t()},e.prototype.orElseThrow=function(t){if(this.present)return this.ref;throw t()},e.prototype.equals=function(t){if(t===this)return!0;if(!(null!=t&&t instanceof n.util.OptionalLong))return!1;var e=t;return this.present===e.present&&0===javaemul.internal.LongHelper.compare(this.ref,e.ref)},e.prototype.hashCode=function(){return this.present?javaemul.internal.LongHelper.hashCode(this.ref):0},e.prototype.toString=function(){return this.present?"OptionalLong.of("+this.ref+")":"OptionalLong.empty()"},e}(),t.OptionalLong=e}(java||(java={})),function(t){var e,n;e=t.util||(t.util={}),n=function(){function o(t){var e,n,r,i=this;if(this.haveNextNextGaussian=!1,"number"==typeof t||null===t)this.nextNextGaussian=0,this.seedhi=0,this.seedlo=0,i.setSeed(t);else{if(void 0!==t)throw new Error("invalid overload");this.nextNextGaussian=0,this.seedhi=0,this.seedlo=0,e=o.uniqueSeed+++javaemul.internal.DateUtil.now(),n=16777215&(0|Math.floor(e*o.twoToTheMinus24)),r=e-n*o.twoToThe24|0,i.setSeed(n,r)}}return o.__static_initialize=function(){o.__static_initialized||(o.__static_initialized=!0,o.__static_initializer_0())},o.twoToTheXMinus24_$LI$=function(){return o.__static_initialize(),null==o.twoToTheXMinus24&&(o.twoToTheXMinus24=new Array(25)),o.twoToTheXMinus24},o.twoToTheXMinus48_$LI$=function(){return o.__static_initialize(),null==o.twoToTheXMinus48&&(o.twoToTheXMinus48=new Array(33)),o.twoToTheXMinus48},o.__static_initializer_0=function(){for(var t=152587890625e-16,e=32;0<=e;e--)o.twoToTheXMinus48_$LI$()[e]=t,t*=.5;var n=1;for(e=24;0<=e;e--)o.twoToTheXMinus24_$LI$()[e]=n,n*=.5},o.prototype.nextBoolean=function(){return 0!==this.nextInternal(1)},o.prototype.nextBytes=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=0,n=0,r=0;n<t.length;)0===r?(e=0|this.nextInternal(32),r=3):r--,t[n++]=0|e,e>>=8},o.prototype.nextDouble=function(){return this.nextInternal(26)*o.twoToTheMinus26+this.nextInternal(27)*o.twoToTheMinus53},o.prototype.nextFloat=function(){return this.nextInternal(24)*o.twoToTheMinus24},o.prototype.nextGaussian=function(){if(this.haveNextNextGaussian)return this.haveNextNextGaussian=!1,this.nextNextGaussian;for(var t,e,n;1<=(n=(t=2*this.nextDouble()-1)*t+(e=2*this.nextDouble()-1)*e););var r=0===n?0:Math.sqrt(-2*Math.log(n)/n);return this.nextNextGaussian=e*r,this.haveNextNextGaussian=!0,t*r},o.prototype.nextInt$=function(){return 0|this.nextInternal(32)},o.prototype.nextInt=function(n){var r=this;if("number"==typeof n||null===n)return function(){if(javaemul.internal.InternalPreconditions.checkCriticalArgument(0<n),(n&-n)===n)return n*r.nextInternal(31)*o.twoToTheMinus31|0;for(var t,e;e=(t=r.nextInternal(31))%n,t-e+(n-1)<0;);return 0|e}();if(void 0===n)return this.nextInt$();throw new Error("invalid overload")},o.prototype.nextLong=function(){return(Math.round(this.nextInternal(32))<<32)+Math.round(this.nextInternal(32))},o.prototype.setSeed$long=function(t){this.setSeed(t>>24&16777215|0,16777215&t|0)},o.prototype.next=function(t){return 0|this.nextInternal(t)},o.prototype.nextInternal=function(t){var e=this.seedhi*o.multiplierLo+this.seedlo*o.multiplierHi,n=this.seedlo*o.multiplierLo+11,r=Math.floor(n*o.twoToTheMinus24);if(e+=r,n-=r*o.twoToThe24,e%=o.twoToThe24,this.seedhi=e,this.seedlo=n,t<=24)return Math.floor(this.seedhi*o.twoToTheXMinus24_$LI$()[t]);var i=this.seedhi*(1<<t-24)+Math.floor(this.seedlo*o.twoToTheXMinus48_$LI$()[t]);return o.twoToThe31<=i&&(i-=o.twoToThe32),i},o.prototype.setSeed=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.setSeed$long(t)}return n.seedhi=1502^t,n.seedlo=15525485^e,void(n.haveNextNextGaussian=!1)},o.__static_initialized=!1,o.multiplierHi=1502,o.multiplierLo=15525485,o.twoToThe24=16777216,o.twoToThe31=2147483648,o.twoToThe32=4294967296,o.twoToTheMinus24=5.960464477539063e-8,o.twoToTheMinus26=1.4901161193847656e-8,o.twoToTheMinus31=4.656612873077393e-10,o.twoToTheMinus53=1.1102230246251565e-16,o.uniqueSeed=0,o}(),e.Random=n}(java||(java={})),function(e){var t,n;t=e.util||(e.util={}),n=function(){function t(t,e,n){void 0===e&&(e=""),void 0===n&&(n=""),javaemul.internal.InternalPreconditions.checkNotNull(t,"delimiter"),javaemul.internal.InternalPreconditions.checkNotNull(e,"prefix"),javaemul.internal.InternalPreconditions.checkNotNull(n,"suffix"),this.delimiter=t.toString(),this.prefix=e.toString(),this.suffix=n.toString(),this.emptyValue=this.prefix+this.suffix}return t.prototype.add=function(t){return this.initBuilderOrAddDelimiter(),this.builder.append(t),this},t.prototype.length=function(){return null==this.builder?this.emptyValue.length:this.builder.length()+this.suffix.length},t.prototype.merge=function(t){if(null!=t.builder){var e=t.builder.length();this.initBuilderOrAddDelimiter(),this.builder.append(t.builder,t.prefix.length,e)}return this},t.prototype.setEmptyValue=function(t){return javaemul.internal.InternalPreconditions.checkNotNull(t),this.emptyValue=t.toString(),this},t.prototype.toString=function(){return null==this.builder?this.emptyValue:0===this.suffix.length?this.builder.toString():this.builder.toString()+this.suffix},t.prototype.initBuilderOrAddDelimiter=function(){null==this.builder?this.builder=new e.lang.StringBuilder(this.prefix):this.builder.append(this.delimiter)},t}(),t.StringJoiner=n}(java||(java={})),function(i){var t,e;t=i.internal||(i.internal={}),e=function(){function u(){}return u.clone=function(t,e,n){var r=u.unsafeClone(t,e,n);return i.internal.ArrayStamper.stampJavaTypeInfo(r,t)},u.unsafeClone=function(t,e,n){return t.slice(e,n)},u.createFrom=function(t,e){var n=u.createNativeArray(e);return i.internal.ArrayStamper.stampJavaTypeInfo(n,t)},u.createNativeArray=function(t){return new Array(t)},u.getLength=function(t){return 0|t.length},u.setLength=function(t,e){t.length=e},u.removeFrom=function(t,e,n){t.splice(e,n)},u.insertTo$java_lang_Object$int$java_lang_Object=function(t,e,n){t.splice(e,0,n)},u.insertTo=function(t,e,n){if(null==t&&null!==t||"number"!=typeof e&&null!==e||!(null!=n&&n instanceof Array||null===n)){if(null==t&&null!==t||"number"!=typeof e&&null!==e||null==n&&null!==n)throw new Error("invalid overload");return i.internal.ArrayHelper.insertTo$java_lang_Object$int$java_lang_Object(t,e,n)}u.copy(n,0,t,e,n.length,!1)},u.copy=function(t,e,n,r,i,o){void 0===o&&(o=!0),t===n&&(t=u.unsafeClone(t,e,e+i),e=0);for(var a=e,s=e+i;a<s;){var l=Math.min(a+u.ARRAY_PROCESS_BATCH_SIZE,s);i=l-a,a=l,i}},u.ARRAY_PROCESS_BATCH_SIZE=1e4,u}(),t.ArrayHelper=e}(javaemul||(javaemul={})),function(t){var e,n;e=t.internal||(t.internal={}),n=function(){function t(){}return t.stampJavaTypeInfo=function(t,e){return t},t}(),e.ArrayStamper=n}(javaemul||(javaemul={})),function(r){var t,e;t=r.internal||(r.internal={}),e=function(){function n(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]})}return n.TYPE_$LI$=function(){return null==n.TYPE&&(n.TYPE=Boolean),n.TYPE},n.compare=function(t,e){return t===e?0:t?1:-1},n.hashCode=function(t){return t?1231:1237},n.logicalAnd=function(t,e){return t&&e},n.logicalOr=function(t,e){return t||e},n.logicalXor=function(t,e){return t!==e},n.parseBoolean=function(t){return e=t,"true".toUpperCase()===(null===e?e:e.toUpperCase());var e},n.toString=function(t){return new String(t).toString()},n.valueOf$boolean=function(t){return t?n.TRUE:n.FALSE},n.valueOf=function(t){if("string"==typeof t||null===t)return n.valueOf(n.parseBoolean(t));if("boolean"==typeof t||null===t)return r.internal.BooleanHelper.valueOf$boolean(t);throw new Error("invalid overload")},n.prototype.booleanValue=function(){return n.unsafeCast(r.internal.InternalPreconditions.checkNotNull(this))},n.unsafeCast=function(t){return t},n.prototype.compareTo=function(t){var e=this;if(null!=t&&t instanceof r.internal.BooleanHelper||null===t)return n.compare(e.booleanValue(),t.booleanValue());throw new Error("invalid overload")},n.prototype.equals=function(t){return r.internal.InternalPreconditions.checkNotNull(this)===t},n.prototype.hashCode=function(){return n.hashCode(this.booleanValue())},n.prototype.toString=function(){return n.toString(this.booleanValue())},n.FALSE=!1,n.TRUE=!0,n}(),t.BooleanHelper=e}(javaemul||(javaemul={})),function(u){var t,e,n,r;t=u.internal||(u.internal={}),r=function(){function l(t){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.value=null,this.value=t}return l.TYPE_$LI$=function(){return null==l.TYPE&&(l.TYPE=String),l.TYPE},l.charCount=function(t){return l.MIN_SUPPLEMENTARY_CODE_POINT<=t?2:1},l.codePointAt$char_A$int=function(t,e){return l.codePointAt(new String(t),e,t.length)},l.codePointAt=function(t,e,n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&(null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof t)||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n){if(!(null!=t&&(null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof t)||null===t)||"number"!=typeof e&&null!==e||void 0!==n)throw new Error("invalid overload");return u.internal.CharacterHelper.codePointAt$java_lang_CharSequence$int(t,e)}return u.internal.CharacterHelper.codePointAt$char_A$int(t,e)}return u.internal.CharacterHelper.codePointAt$java_lang_CharSequence$int$int(t,e,n)}return l.codePointAt(new String(t),e,n)},l.codePointAt$java_lang_CharSequence$int=function(t,e){return l.codePointAt(t,e,t.length)},l.codePointBefore$char_A$int=function(t,e){return l.codePointBefore(new String(t),e,0)},l.codePointBefore=function(t,e,n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&(null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof t)||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||void 0!==n){if(!(null!=t&&(null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof t)||null===t)||"number"!=typeof e&&null!==e||void 0!==n)throw new Error("invalid overload");return u.internal.CharacterHelper.codePointBefore$java_lang_CharSequence$int(t,e)}return u.internal.CharacterHelper.codePointBefore$char_A$int(t,e)}return u.internal.CharacterHelper.codePointBefore$java_lang_CharSequence$int$int(t,e,n)}return l.codePointBefore(new String(t),e,n)},l.codePointBefore$java_lang_CharSequence$int=function(t,e){return l.codePointBefore(t,e,0)},l.codePointCount=function(t,e,n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&(null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof t)||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n)throw new Error("invalid overload");return u.internal.CharacterHelper.codePointCount$java_lang_CharSequence$int$int(t,e,n)}return l.codePointCount(new String(t),e,e+n)},l.codePointCount$java_lang_CharSequence$int$int=function(t,e,n){for(var r=0,i=e;i<n;){var o=t.charAt(i++);l.isHighSurrogate(o)&&i<n&&l.isLowSurrogate(t.charAt(i))&&++i,++r}return r},l.compare=function(t,e){return t.charCodeAt(0)-e.charCodeAt(0)},l.digit=function(t,e){return e<l.MIN_RADIX||l.MAX_RADIX<e?-1:t.charCodeAt(0)>="0".charCodeAt(0)&&t.charCodeAt(0)<"0".charCodeAt(0)+Math.min(e,10)?t.charCodeAt(0)-"0".charCodeAt(0):t.charCodeAt(0)>="a".charCodeAt(0)&&t.charCodeAt(0)<e+"a".charCodeAt(0)-10?t.charCodeAt(0)-"a".charCodeAt(0)+10:t.charCodeAt(0)>="A".charCodeAt(0)&&t.charCodeAt(0)<e+"A".charCodeAt(0)-10?t.charCodeAt(0)-"A".charCodeAt(0)+10:-1},l.getNumericValue=function(t){return 0|t.charCodeAt(0)},l.forDigit=function(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return u.internal.CharacterHelper.forDigit$int(t)}return e<l.MIN_RADIX||l.MAX_RADIX<e?0:t<0||e<=t?0:l.forDigit(t)},l.hashCode=function(t){return t.charCodeAt(0)},l.isDigit=function(t){var e=new String(t).toString().match(l.digitRegex());return null!=e&&0<e.length},l.digitRegex=function(){return new RegExp("\\d")},l.isHighSurrogate=function(t){return t.charCodeAt(0)>=l.MIN_HIGH_SURROGATE.charCodeAt(0)&&t.charCodeAt(0)<=l.MAX_HIGH_SURROGATE.charCodeAt(0)},l.isLetter=function(t){return 0<new String(t).toString().match(l.leterRegex()).length},l.leterRegex=function(){return new RegExp("[A-Z]","i")},l.isLetterOrDigit=function(t){return 0<new String(t).toString().match(l.leterOrDigitRegex()).length},l.leterOrDigitRegex=function(){return new RegExp("[A-Z\\d]","i")},l.isLowerCase=function(t){return l.toLowerCase(t)===t&&l.isLetter(t)},l.isLowSurrogate=function(t){return t.charCodeAt(0)>=l.MIN_LOW_SURROGATE.charCodeAt(0)&&t.charCodeAt(0)<=l.MAX_LOW_SURROGATE.charCodeAt(0)},l.isSpace=function(t){switch(t){case" ":case"\n":case"\t":case"\f":case"\r":return!0;default:return!1}},l.isWhitespace=function(t){if("string"==typeof t||null===t)return 0<new String(t).toString().match(l.whitespaceRegex()).length;if("number"==typeof t||null===t)return u.internal.CharacterHelper.isWhitespace$int(t);throw new Error("invalid overload")},l.isWhitespace$int=function(t){return 0<String.fromCharCode(t).match(l.whitespaceRegex()).length},l.whitespaceRegex=function(){return new RegExp("[\\t-\\r \\u1680\\u180E\\u2000-\\u2006\\u2008-\\u200A\\u2028\\u2029\\u205F\\u3000\\uFEFF]|[\\x1C-\\x1F]")},l.isSupplementaryCodePoint=function(t){return l.MIN_SUPPLEMENTARY_CODE_POINT<=t&&t<=l.MAX_CODE_POINT},l.isSurrogatePair=function(t,e){return l.isHighSurrogate(t)&&l.isLowSurrogate(e)},l.isUpperCase=function(t){return l.toUpperCase(t)===t&&l.isLetter(t)},l.isValidCodePoint=function(t){return l.MIN_CODE_POINT<=t&&t<=l.MAX_CODE_POINT},l.offsetByCodePoints=function(t,e,n,r,i){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i){if(!(null!=t&&(null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof t)||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||void 0!==r||void 0!==i)throw new Error("invalid overload");return u.internal.CharacterHelper.offsetByCodePoints$java_lang_CharSequence$int$int(t,e,n)}return l.offsetByCodePoints((o=t.join(""),a=e,s=n,o.substring(a,a+s)),r,i);var o,a,s},l.offsetByCodePoints$java_lang_CharSequence$int$int=function(t,e,n){if(n<0)for(;n<0;)--e,l.isLowSurrogate(t.charAt(e))&&l.isHighSurrogate(t.charAt(e-1))&&--e,++n;else for(;0<n;)l.isHighSurrogate(t.charAt(e))&&l.isLowSurrogate(t.charAt(e+1))&&++e,++e,--n;return e},l.toChars$int=function(t){return u.internal.InternalPreconditions.checkCriticalArgument(0<=t&&t<=l.MAX_CODE_POINT),l.MIN_SUPPLEMENTARY_CODE_POINT<=t?[l.getHighSurrogate(t),l.getLowSurrogate(t)]:[String.fromCharCode(t)]},l.toChars=function(t,e,n){if("number"!=typeof t&&null!==t||!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return u.internal.CharacterHelper.toChars$int(t)}return u.internal.InternalPreconditions.checkCriticalArgument(0<=t&&t<=l.MAX_CODE_POINT),l.MIN_SUPPLEMENTARY_CODE_POINT<=t?(e[n++]=l.getHighSurrogate(t),e[n]=l.getLowSurrogate(t),2):(e[n]=String.fromCharCode(t),1)},l.toCodePoint=function(t,e){return l.MIN_SUPPLEMENTARY_CODE_POINT+((1023&t.charCodeAt(0))<<10)+(1023&e.charCodeAt(0))},l.toLowerCase=function(t){return new String(t).toString().toLowerCase().charAt(0)},l.toString=function(t){return new String(t).toString()},l.toUpperCase=function(t){return new String(t).toString().toUpperCase().charAt(0)},l.valueOf=function(t){if(t.charCodeAt(0)<128){var e=l.BoxedValues.boxedValues_$LI$()[t];return null==e&&(e=l.BoxedValues.boxedValues_$LI$()[t]=new l(t)),e}return new l(t)},l.codePointAt$java_lang_CharSequence$int$int=function(t,e,n){var r,i=t.charAt(e++);return l.isHighSurrogate(i)&&e<n&&l.isLowSurrogate(r=t.charAt(e))?l.toCodePoint(i,r):i.charCodeAt(0)},l.codePointBefore$java_lang_CharSequence$int$int=function(t,e,n){var r,i=t.charAt(--e);return l.isLowSurrogate(i)&&n<e&&l.isHighSurrogate(r=t.charAt(e-1))?l.toCodePoint(r,i):i.charCodeAt(0)},l.forDigit$int=function(t){var e=t-10;return String.fromCharCode(e<0?"0".charCodeAt(0)+t:"a".charCodeAt(0)+e)},l.getHighSurrogate=function(t){return String.fromCharCode(l.MIN_HIGH_SURROGATE.charCodeAt(0)+(t-l.MIN_SUPPLEMENTARY_CODE_POINT>>10&1023))},l.getLowSurrogate=function(t){return String.fromCharCode(l.MIN_LOW_SURROGATE.charCodeAt(0)+(t-l.MIN_SUPPLEMENTARY_CODE_POINT&1023))},l.prototype.charValue=function(){return this.value},l.prototype.compareTo=function(t){var e=this;if(null!=t&&t instanceof u.internal.CharacterHelper||null===t)return l.compare(e.value,t.value);throw new Error("invalid overload")},l.prototype.equals=function(t){return null!=t&&t instanceof u.internal.CharacterHelper&&t.value===this.value},l.prototype.hashCode=function(){return l.hashCode(this.value)},l.prototype.toString=function(){return new String(this.value).toString()},l.MIN_RADIX=2,l.MAX_RADIX=36,l.MIN_VALUE="\0",l.MAX_VALUE="",l.MIN_SURROGATE="\ud800",l.MAX_SURROGATE="\udfff",l.MIN_LOW_SURROGATE="\udc00",l.MAX_LOW_SURROGATE="\udfff",l.MIN_HIGH_SURROGATE="\ud800",l.MAX_HIGH_SURROGATE="\udbff",l.MIN_SUPPLEMENTARY_CODE_POINT=65536,l.MIN_CODE_POINT=0,l.MAX_CODE_POINT=1114111,l.SIZE=16,l}(),t.CharacterHelper=r,e=r=t.CharacterHelper||(t.CharacterHelper={}),n=function(){function t(){}return t.boxedValues_$LI$=function(){return null==t.boxedValues&&(t.boxedValues=new Array(128)),t.boxedValues},t}(),e.BoxedValues=n}(javaemul||(javaemul={})),function(t){var e,n;e=t.internal||(t.internal={}),n=function(){function t(){}return t.ensureInt=function(t){return 0|t},t}(),e.Coercions=n}(javaemul||(javaemul={})),function(t){var e,n;e=t.internal||(t.internal={}),n=function(){function t(){}return t.now=function(){return Date.now?Date.now():(new Date).getTime()},t}(),e.DateUtil=n}(javaemul||(javaemul={})),function(n){var t,e;t=n.internal||(n.internal={}),e=function(){function e(){}return e.hashCodeForString=function(t){return n.internal.StringHashCache.getHashCode(t)},e.getIdentityHashCode=function(t){return null==t?0:"string"==typeof t?e.hashCodeForString(n.internal.JsUtils.unsafeCastToString(t)):e.getObjectIdentityHashCode(t)},e.getObjectIdentityHashCode=function(t){return null!=t[e.HASH_CODE_PROPERTY]?t[e.HASH_CODE_PROPERTY]:t[e.HASH_CODE_PROPERTY]=e.getNextHashId()},e.getNextHashId=function(){return++e.sNextHashId},e.sNextHashId=0,e.HASH_CODE_PROPERTY="$H",e}(),t.HashCodes=e}(javaemul||(javaemul={})),function(t){var e,n;e=t.internal||(t.internal={}),n=function(){function t(){}return t.LOG10E_$LI$=function(){return null==t.LOG10E&&(t.LOG10E=Math.LOG10E),t.LOG10E},t}(),e.JreHelper=n}(javaemul||(javaemul={})),function(t){var e,n;e=t.internal||(t.internal={}),n=function(){function t(){}return t.getInfinity=function(){return 1/0},t.isUndefined=function(t){return null==t},t.unsafeCastToString=function(t){return t},t.setPropertySafe=function(t,e,n){try{t[e]=n}catch(t){}},t.getIntProperty=function(t,e){return 0|t[e]},t.setIntProperty=function(t,e,n){t[e]=n},t.typeOf=function(t){return typeof t},t}(),e.JsUtils=n}(javaemul||(javaemul={})),function(t){var e,n;e=t.internal||(t.internal={}),n=function(){function t(){}return t.getLongComparator=function(){return function(t,e){return e-t}},t}(),e.LongCompareHolder=n}(javaemul||(javaemul={})),function(n){var t,e;t=n.internal||(n.internal={}),e=function(){function i(){}return i.EPSILON_$LI$=function(){return null==i.EPSILON&&(i.EPSILON=i.pow(2,-52)),i.EPSILON},i.MAX_VALUE_$LI$=function(){return null==i.MAX_VALUE&&(i.MAX_VALUE=(2-i.EPSILON_$LI$())*i.pow(2,1023)),i.MAX_VALUE},i.MIN_VALUE_$LI$=function(){return null==i.MIN_VALUE&&(i.MIN_VALUE=i.pow(2,-1022)),i.MIN_VALUE},i.nextDown=function(t){return-i.nextUp(-t)},i.ulp=function(t){return t<0?i.nextUp(t)-t:t- -i.nextUp(-t)},i.nextUp=function(t){if(t!=t)return t;if(0===t)return-i.MAX_VALUE_$LI$();if(0===t)return 0;if(t===+i.MAX_VALUE_$LI$())return 0;var e=t*(t<0?1-i.EPSILON_$LI$()/2:1+i.EPSILON_$LI$());e===t&&(e=0<i.MIN_VALUE_$LI$()*i.EPSILON_$LI$()?t+i.MIN_VALUE_$LI$()*i.EPSILON_$LI$():t+i.MIN_VALUE_$LI$()),0===e&&(e=+i.MAX_VALUE_$LI$());var n=t+(e-t)/2;t<n&&n<e&&(e=n);var r=(e+t)/2;return t<r&&r<e&&(e=r),0===e?-0:e},i.PI_OVER_180_$LI$=function(){return null==i.PI_OVER_180&&(i.PI_OVER_180=i.PI/180),i.PI_OVER_180},i.PI_UNDER_180_$LI$=function(){return null==i.PI_UNDER_180&&(i.PI_UNDER_180=180/i.PI),i.PI_UNDER_180},i.abs$double=function(t){return t<=0?0-t:t},i.abs$float=function(t){return i.abs(t)},i.abs=function(t){if("number"==typeof t||null===t)return t<0?-t:t;if("number"==typeof t||null===t)return n.internal.MathHelper.abs$long(t);if("number"==typeof t||null===t)return n.internal.MathHelper.abs$float(t);if("number"==typeof t||null===t)return n.internal.MathHelper.abs$double(t);throw new Error("invalid overload")},i.abs$long=function(t){return t<0?-t:t},i.acos=function(t){return Math.acos(t)},i.asin=function(t){return Math.asin(t)},i.atan=function(t){return Math.atan(t)},i.atan2=function(t,e){return Math.atan2(t,e)},i.cbrt=function(t){return i.pow(t,1/3)},i.ceil=function(t){return Math.ceil(t)},i.copySign$double$double=function(t,e){return e<0?t<0?t:-t:0<t?t:-t},i.copySign=function(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)throw new Error("invalid overload");return n.internal.MathHelper.copySign$double$double(t,e)}return i.copySign(t,e)},i.cos=function(t){return Math.cos(t)},i.cosh=function(t){return(i.exp(t)+i.exp(-t))/2},i.exp=function(t){return Math.exp(t)},i.expm1=function(t){return 0===t||Number.NaN===t?t:(e=t,Number.NEGATIVE_INFINITY!==e&&Number.POSITIVE_INFINITY!==e?t<0?-1:n.internal.DoubleHelper.POSITIVE_INFINITY:i.exp(t)+1);var e},i.floor=function(t){return Math.floor(t)},i.hypot=function(t,e){return i.sqrt(t*t+e*e)},i.log=function(t){return Math.log(t)},i.log10=function(t){return Math.log(t)*Math.LOG10E},i.log1p=function(t){return i.log(t+1)},i.max$double$double=function(t,e){return Math.max(t,e)},i.max$float$float=function(t,e){return Math.max(t,e)},i.max=function(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)throw new Error("invalid overload");return n.internal.MathHelper.max$double$double(t,e)}return n.internal.MathHelper.max$float$float(t,e)}return n.internal.MathHelper.max$long$long(t,e)}return e<t?t:e},i.max$long$long=function(t,e){return e<t?t:e},i.min$double$double=function(t,e){return Math.min(t,e)},i.min$float$float=function(t,e){return Math.min(t,e)},i.min=function(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)throw new Error("invalid overload");return n.internal.MathHelper.min$double$double(t,e)}return n.internal.MathHelper.min$float$float(t,e)}return n.internal.MathHelper.min$long$long(t,e)}return t<e?t:e},i.min$long$long=function(t,e){return t<e?t:e},i.pow=function(t,e){return Math.pow(t,e)},i.random=function(){return Math.random()},i.rint=function(t){return Number.NaN===t?t:(e=t,Number.NEGATIVE_INFINITY===e||Number.POSITIVE_INFINITY===e?t:0===t?t:i.round(t));var e},i.round$double=function(t){return Math.round(Math.round(t))},i.round=function(t){if("number"==typeof t||null===t)return e=Math.round(t),i.unsafeCastToInt(e);if("number"==typeof t||null===t)return n.internal.MathHelper.round$double(t);throw new Error("invalid overload");var e},i.unsafeCastToInt=function(t){return t},i.scalb$double$int=function(t,e){return 31<=e||e<=-31?t*i.pow(2,e):0<e?t*(1<<e):0===e?t:1*t/(1<<-e)},i.scalb=function(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)throw new Error("invalid overload");return n.internal.MathHelper.scalb$double$int(t,e)}return 31<=e||e<=-31?t*i.pow(2,e):0<e?t*(1<<e):0===e?t:1*t/(1<<-e)},i.signum$double=function(t){return 0<t?1:t<0?-1:0},i.signum=function(t){if("number"==typeof t||null===t)return 0<t?1:t<0?-1:0;if("number"==typeof t||null===t)return n.internal.MathHelper.signum$double(t);throw new Error("invalid overload")},i.sin=function(t){return Math.sin(t)},i.sinh=function(t){return(i.exp(t)-i.exp(-t))/2},i.sqrt=function(t){return Math.sqrt(t)},i.tan=function(t){return Math.tan(t)},i.tanh=function(t){if(t===n.internal.JsUtils.getInfinity())return 1;if(t===-n.internal.JsUtils.getInfinity())return-1;var e=i.exp(2*t);return(e-1)/(e+1)},i.toDegrees=function(t){return t*i.PI_UNDER_180_$LI$()},i.toRadians=function(t){return t*i.PI_OVER_180_$LI$()},i.IEEEremainder=function(t,e){var n=Math.abs(t%e);return Number.NaN===n||n===e||n<=Math.abs(e)/2?n:(0<t?1:t<0?-1:0)*(n-e)},i.E=2.718281828459045,i.PI=3.141592653589793,i}(),t.MathHelper=e}(javaemul||(javaemul={})),function(d){var t,e;t=d.internal||(d.internal={}),e=function(){function p(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return p.__decodeAndValidateInt=function(t,e,n){var r=p.__decodeNumberString(t);return p.__parseAndValidateInt(r.payload,r.radix,e,n)},p.__decodeNumberString=function(t){var e,n,r,i,o,a,s,l;return void 0===r&&(r=0),"-"===t.substr(r,"-".length)?(e=!0,t=t.substring(1)):(e=!1,void 0===n&&(n=0),"+"===t.substr(n,"+".length)&&(t=t.substring(1))),void 0===l&&(l=0),"0x"===t.substr(l,"0x".length)||(void 0===s&&(s=0),"0X"===t.substr(s,"0X".length))?(t=t.substring(2),i=16):(void 0===a&&(a=0),"#"===t.substr(a,"#".length)?(t=t.substring(1),i=16):(void 0===o&&(o=0),i="0"===t.substr(o,"0".length)?8:10)),e&&(t="-"+t),new p.__Decode(i,t)},p.__parseAndValidateDouble=function(t){if(!p.__isValidDouble(t))throw java.lang.NumberFormatException.forInputString(t);return parseFloat(t)},p.__parseAndValidateInt=function(t,e,n,r){if(null==t)throw java.lang.NumberFormatException.forNullInputString();if(e<d.internal.CharacterHelper.MIN_RADIX||e>d.internal.CharacterHelper.MAX_RADIX)throw java.lang.NumberFormatException.forRadix(e);for(var i=t.length,o=0<i&&("-"===t.charAt(0)||"+"===t.charAt(0))?1:0;o<i;o++)if(-1===d.internal.CharacterHelper.digit(t.charAt(o),e))throw java.lang.NumberFormatException.forInputString(t);var a=0|parseInt(t,e),s=a<n;if(d.internal.DoubleHelper.isNaN(a))throw java.lang.NumberFormatException.forInputString(t);if(s||r<a)throw java.lang.NumberFormatException.forInputString(t);return a},p.__parseAndValidateLong=function(t,e){if(null==t)throw java.lang.NumberFormatException.forNullInputString();if(e<d.internal.CharacterHelper.MIN_RADIX||e>d.internal.CharacterHelper.MAX_RADIX)throw java.lang.NumberFormatException.forRadix(e);var n=t,r=t.length,i=!1;if(0<r){var o=t.charAt(0);"-"!==o&&"+"!==o||(t=t.substring(1),r--,i="-"===o)}if(0===r)throw java.lang.NumberFormatException.forInputString(n);for(;0<t.length&&"0"===t.charAt(0);)t=t.substring(1),r--;if(r>p.__ParseLong.maxLengthForRadix_$LI$()[e])throw java.lang.NumberFormatException.forInputString(n);for(var a=0;a<r;a++)if(-1===d.internal.CharacterHelper.digit(t.charAt(a),e))throw java.lang.NumberFormatException.forInputString(n);var s=0,l=p.__ParseLong.maxDigitsForRadix_$LI$()[e],u=p.__ParseLong.maxDigitsRadixPower_$LI$()[e],c=-p.__ParseLong.maxValueForRadix_$LI$()[e],h=!0,f=r%l;for(0<f&&(s=-(0|parseInt(t.substring(0,f),e)),t=t.substring(f),r-=f,h=!1);l<=r;){if(f=0|parseInt(t.substring(0,l),e),t=t.substring(l),r-=l,h)h=!1;else{if(s<c)throw java.lang.NumberFormatException.forInputString(n);s*=u}s-=f}if(0<s)throw java.lang.NumberFormatException.forInputString(n);if(!i&&(s=-s)<0)throw java.lang.NumberFormatException.forInputString(n);return s},p.__isValidDouble=function(t){return null==p.floatRegex&&(p.floatRegex=p.createFloatRegex()),p.floatRegex.test(t)},p.createFloatRegex=function(){return/^\s*[+-]?(NaN|Infinity|((\d+\.?\d*)|(\.\d+))([eE][+-]?\d+)?[dDfF]?)\s*$/},p.prototype.byteValue=function(){return 0|this.intValue()},p.prototype.shortValue=function(){return 0|this.intValue()},p}(),t.NumberHelper=e,function(t){var e=function(t,e){this.radix=0,this.radix=t,this.payload=e};t.__Decode=e;var n=function(){function e(){}return e.__static_initialize=function(){e.__static_initialized||(e.__static_initialized=!0,e.__static_initializer_0())},e.maxDigitsForRadix_$LI$=function(){return e.__static_initialize(),null==e.maxDigitsForRadix&&(e.maxDigitsForRadix=[-1,-1,30,19,15,13,11,11,10,9,9,8,8,8,8,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5]),e.maxDigitsForRadix},e.maxDigitsRadixPower_$LI$=function(){return e.__static_initialize(),null==e.maxDigitsRadixPower&&(e.maxDigitsRadixPower=new Array(37)),e.maxDigitsRadixPower},e.maxLengthForRadix_$LI$=function(){return e.__static_initialize(),null==e.maxLengthForRadix&&(e.maxLengthForRadix=[-1,-1,63,40,32,28,25,23,21,20,19,19,18,18,17,17,16,16,16,15,15,15,15,14,14,14,14,14,14,13,13,13,13,13,13,13,13]),e.maxLengthForRadix},e.maxValueForRadix_$LI$=function(){return e.__static_initialize(),null==e.maxValueForRadix&&(e.maxValueForRadix=new Array(37)),e.maxValueForRadix},e.__static_initializer_0=function(){for(var t=2;t<=36;t++)e.maxDigitsRadixPower_$LI$()[t]=0|Math.pow(t,e.maxDigitsForRadix_$LI$()[t]),e.maxValueForRadix_$LI$()[t]=Math.round(0x8000000000000000/e.maxDigitsRadixPower_$LI$()[t])},e.__static_initialized=!1,e}();t.__ParseLong=n}(e=t.NumberHelper||(t.NumberHelper={}))}(javaemul||(javaemul={})),function(o){var t,e;t=o.internal||(o.internal={}),e=function(){function t(){}return t.clone=function(t){var e;if(null==t||"object"!=typeof t)return t;if(t instanceof Date)return(e=new Date).setTime(t.getTime()),e;if(t instanceof Array){e=[];for(var n=0,r=t.length;n<r;n++)e[n]=o.internal.ObjectHelper.clone(t[n]);return e}if(t instanceof Object){for(var i in e={},t)t.hasOwnProperty(i)&&(e[i]=o.internal.ObjectHelper.clone(t[i]));return e}throw new Error("Unable to copy obj! Its type isn't supported.")},t}(),t.ObjectHelper=e}(javaemul||(javaemul={})),function(o){var t,e;t=o.internal||(o.internal={}),e=function(){function i(){}return i.back_$LI$=function(){return null==i.back&&(i.back=i.createNativeObject()),i.back},i.front_$LI$=function(){return null==i.front&&(i.front=i.createNativeObject()),i.front},i.getHashCode=function(t){var e=":"+t,n=i.getProperty(i.front_$LI$(),e);if(!o.internal.JsUtils.isUndefined(n))return i.unsafeCastToInt(n);n=i.getProperty(i.back_$LI$(),e);var r=o.internal.JsUtils.isUndefined(n)?i.compute(t):i.unsafeCastToInt(n);return i.increment(),o.internal.JsUtils.setIntProperty(i.front_$LI$(),e,r),r},i.compute=function(t){for(var e=0,n=t.length,r=n-4,i=0;i<r;)e=t.charAt(i+3).charCodeAt(0)+31*(t.charAt(i+2).charCodeAt(0)+31*(t.charAt(i+1).charCodeAt(0)+31*(t.charAt(i).charCodeAt(0)+31*e))),e=o.internal.Coercions.ensureInt(e),i+=4;for(;i<n;)e=31*e+t.charAt(i++).charCodeAt(0);return e=o.internal.Coercions.ensureInt(e)},i.increment=function(){i.count===i.MAX_CACHE&&(i.back=i.front,i.front=i.createNativeObject(),i.count=0),++i.count},i.getProperty=function(t,e){return t[e]},i.createNativeObject=function(){return{}},i.unsafeCastToInt=function(t){return t},i.count=0,i.MAX_CACHE=256,i}(),t.StringHashCache=e}(javaemul||(javaemul={})),function(o){var t,e,n;t=o.awt||(o.awt={}),e=t.geom||(t.geom={}),n=function(){function t(t,e){this.etag=0,this.head=t,this.tail=t,this.partner=e,this.etag=t.getEdgeTag()}return t.prototype.getChain=function(){return this.head},t.prototype.setOtherEnd=function(t){this.partner=t},t.prototype.getPartner=function(){return this.partner},t.prototype.linkTo=function(t){if(this.etag===o.awt.geom.AreaOp.ETAG_IGNORE||t.etag===o.awt.geom.AreaOp.ETAG_IGNORE)throw new java.lang.InternalError("ChainEnd linked more than once!");if(this.etag===t.etag)throw new java.lang.InternalError("Linking chains of the same type!");var e,n;if(this.etag===o.awt.geom.AreaOp.ETAG_ENTER?(e=this,n=t):(e=t,n=this),this.etag=o.awt.geom.AreaOp.ETAG_IGNORE,t.etag=o.awt.geom.AreaOp.ETAG_IGNORE,e.tail.setNext(n.head),e.tail=n.tail,this.partner===t)return e.head;var r=n.partner,i=e.partner;return(r.partner=i).partner=r,e.head.getYTop()<r.head.getYTop()?(e.tail.setNext(r.head),r.head=e.head):(i.tail.setNext(e.head),i.tail=e.tail),null},t.prototype.addLink=function(t){this.etag===o.awt.geom.AreaOp.ETAG_ENTER?(this.tail.setNext(t),this.tail=t):(t.setNext(this.head),this.head=t)},t.prototype.getX=function(){return this.etag===o.awt.geom.AreaOp.ETAG_ENTER?this.tail.getXBot():this.head.getXBot()},t}(),e.ChainEnd=n}(sun||(sun={})),function(s){var t,e,n;t=s.awt||(s.awt={}),e=t.geom||(t.geom={}),n=function(){function p(t,e,n,r){this.limit=0,this.yranges=new Array(10),this.tmp=new java.util.Vector,this.xlo=0,this.ylo=0,this.xhi=0,this.yhi=0,this.xlo=t,this.ylo=e,this.xhi=n,this.yhi=r}return p.prototype.getXLo=function(){return this.xlo},p.prototype.getYLo=function(){return this.ylo},p.prototype.getXHi=function(){return this.xhi},p.prototype.getYHi=function(){return this.yhi},p.prototype.print=function(){console.info("Crossings ["),console.info("  bounds = ["+this.ylo+", "+this.yhi+"]");for(var t=0;t<this.limit;t+=2)console.info("  ["+this.yranges[t]+", "+this.yranges[t+1]+"]");console.info("]")},p.prototype.isEmpty=function(){return 0===this.limit},p.findCrossings=function(n,r,i,o,a){if(!(null!=n&&n instanceof java.util.Vector||null===n)||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a){if(!(null!=n&&null!=n.__interfaces&&0<=n.__interfaces.indexOf("java.awt.geom.PathIterator")||null===n)||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a)throw new Error("invalid overload");return s.awt.geom.Crossings.findCrossings$java_awt_geom_PathIterator$double$double$double$double(n,r,i,o,a)}return function(){for(var t=new p.EvenOdd(r,i,o,a),e=n.elements();e.hasMoreElements();)if(e.nextElement().accumulateCrossings(t))return null;return p.debug&&t.print(),t}()},p.findCrossings$java_awt_geom_PathIterator$double$double$double$double=function(t,e,n,r,i){var o;o=t.getWindingRule()===java.awt.geom.PathIterator.WIND_EVEN_ODD?new p.EvenOdd(e,n,r,i):new p.NonZero(e,n,r,i);for(var a,s,l=new Array(23),u=0,c=0,h=0,f=0;!t.isDone();){switch(t.currentSegment(l)){case java.awt.geom.PathIterator.SEG_MOVETO:if(c!==f&&o.accumulateLine(h,f,u,c))return null;u=h=l[0],c=f=l[1];break;case java.awt.geom.PathIterator.SEG_LINETO:if(a=l[0],s=l[1],o.accumulateLine(h,f,a,s))return null;h=a,f=s;break;case java.awt.geom.PathIterator.SEG_QUADTO:if(a=l[2],s=l[3],o.accumulateQuad(h,f,l))return null;h=a,f=s;break;case java.awt.geom.PathIterator.SEG_CUBICTO:if(a=l[4],s=l[5],o.accumulateCubic(h,f,l))return null;h=a,f=s;break;case java.awt.geom.PathIterator.SEG_CLOSE:if(c!==f&&o.accumulateLine(h,f,u,c))return null;h=u,f=c}t.next()}return c!==f&&o.accumulateLine(h,f,u,c)?null:(p.debug&&o.print(),o)},p.prototype.accumulateLine$double$double$double$double=function(t,e,n,r){return e<=r?this.accumulateLine(t,e,n,r,1):this.accumulateLine(n,r,t,e,-1)},p.prototype.accumulateLine=function(a,s,l,u,c){var h=this;if("number"!=typeof a&&null!==a||"number"!=typeof s&&null!==s||"number"!=typeof l&&null!==l||"number"!=typeof u&&null!==u||"number"!=typeof c&&null!==c){if("number"!=typeof a&&null!==a||"number"!=typeof s&&null!==s||"number"!=typeof l&&null!==l||"number"!=typeof u&&null!==u||void 0!==c)throw new Error("invalid overload");return this.accumulateLine$double$double$double$double(a,s,l,u)}return function(){if(h.yhi<=s||h.ylo>=u)return!1;if(a>=h.xhi&&l>=h.xhi)return!1;if(s===u)return a>=h.xlo||l>=h.xlo;var t,e,n,r,i=l-a,o=u-s;return s<h.ylo?(t=a+(h.ylo-s)*i/o,e=h.ylo):(t=a,e=s),h.yhi<u?(n=a+(h.yhi-s)*i/o,r=h.yhi):(n=l,r=u),!(t>=h.xhi&&n>=h.xhi)&&(t>h.xlo||n>h.xlo||(h.record(e,r,c),!1))}()},p.prototype.accumulateQuad=function(t,e,n){if(e<this.ylo&&n[1]<this.ylo&&n[3]<this.ylo)return!1;if(e>this.yhi&&n[1]>this.yhi&&n[3]>this.yhi)return!1;if(t>this.xhi&&n[0]>this.xhi&&n[2]>this.xhi)return!1;if(t<this.xlo&&n[0]<this.xlo&&n[2]<this.xlo)return e<n[3]?this.record(Math.max(e,this.ylo),Math.min(n[3],this.yhi),1):e>n[3]&&this.record(Math.max(n[3],this.ylo),Math.min(e,this.yhi),-1),!1;s.awt.geom.Curve.insertQuad(this.tmp,t,e,n);for(var r=this.tmp.elements();r.hasMoreElements();)if(r.nextElement().accumulateCrossings(this))return!0;return this.tmp.clear(),!1},p.prototype.accumulateCubic=function(t,e,n){if(e<this.ylo&&n[1]<this.ylo&&n[3]<this.ylo&&n[5]<this.ylo)return!1;if(e>this.yhi&&n[1]>this.yhi&&n[3]>this.yhi&&n[5]>this.yhi)return!1;if(t>this.xhi&&n[0]>this.xhi&&n[2]>this.xhi&&n[4]>this.xhi)return!1;if(t<this.xlo&&n[0]<this.xlo&&n[2]<this.xlo&&n[4]<this.xlo)return e<=n[5]?this.record(Math.max(e,this.ylo),Math.min(n[5],this.yhi),1):this.record(Math.max(n[5],this.ylo),Math.min(e,this.yhi),-1),!1;s.awt.geom.Curve.insertCubic(this.tmp,t,e,n);for(var r=this.tmp.elements();r.hasMoreElements();)if(r.nextElement().accumulateCrossings(this))return!0;return this.tmp.clear(),!1},p.debug=!1,p}(),e.Crossings=n,function(t){var e=function(i){function t(t,e,n,r){i.call(this,t,e,n,r)}return __extends(t,i),t.prototype.covers=function(t,e){return 2===this.limit&&this.yranges[0]<=t&&this.yranges[1]>=e},t.prototype.record=function(t,e,n){if(!(e<=t)){for(var r=0;r<this.limit&&t>this.yranges[r+1];)r+=2;for(var i=r;r<this.limit;){var o,a,s,l,u=this.yranges[r++],c=this.yranges[r++];if(e<u)this.yranges[i++]=t,this.yranges[i++]=e,t=u,e=c;else if(t<u?(o=t,a=u):(o=u,a=t),e<c?(s=e,l=c):(s=c,l=e),a===s?t=o:(s<a&&(t=s,s=a,a=t),o!==a&&(this.yranges[i++]=o,this.yranges[i++]=a),t=s),(e=l)<=t)break}if(i<r&&r<this.limit&&java.lang.System.arraycopy(this.yranges,r,this.yranges,i,this.limit-r),i+=this.limit-r,t<e){if(i>=this.yranges.length){var h=new Array(i+10);java.lang.System.arraycopy(this.yranges,0,h,0,i),this.yranges=h}this.yranges[i++]=t,this.yranges[i++]=e}this.limit=i}},t}(s.awt.geom.Crossings);t.EvenOdd=e;var n=function(i){function t(t,e,n,r){i.call(this,t,e,n,r),this.crosscounts=new Array(this.yranges.length/2|0)}return __extends(t,i),t.prototype.covers=function(t,e){for(var n=0;n<this.limit;){var r=this.yranges[n++],i=this.yranges[n++];if(!(i<=t)){if(t<r)return!1;if(e<=i)return!0;t=i}}return e<=t},t.prototype.remove=function(t){this.limit-=2;var e=this.limit-t;0<e&&(java.lang.System.arraycopy(this.yranges,t+2,this.yranges,t,e),java.lang.System.arraycopy(this.crosscounts,1+(t/2|0),this.crosscounts,t/2|0,e/2|0))},t.prototype.insert=function(t,e,n,r){var i=this.limit-t,o=this.yranges,a=this.crosscounts;this.limit>=this.yranges.length&&(this.yranges=new Array(this.limit+10),java.lang.System.arraycopy(o,0,this.yranges,0,t),this.crosscounts=new Array((this.limit+10)/2|0),java.lang.System.arraycopy(a,0,this.crosscounts,0,t/2|0)),0<i&&(java.lang.System.arraycopy(o,t,this.yranges,t+2,i),java.lang.System.arraycopy(a,t/2|0,this.crosscounts,1+(t/2|0),i/2|0)),this.yranges[t+0]=e,this.yranges[t+1]=n,this.crosscounts[t/2|0]=r,this.limit+=2},t.prototype.record=function(t,e,n){if(!(e<=t)){for(var r=0;r<this.limit&&t>this.yranges[r+1];)r+=2;if(r<this.limit){var i=this.crosscounts[r/2|0],o=this.yranges[r+0],a=this.yranges[r+1];if(a===t&&i===n){if(r+2===this.limit)return void(this.yranges[r+1]=e);this.remove(r),t=o,i=this.crosscounts[r/2|0],o=this.yranges[r+0],a=this.yranges[r+1]}if(e<o)return void this.insert(r,t,e,n);if(e===o&&i===n)return void(this.yranges[r]=t);t<o?(this.insert(r,t,o,n),r+=2,t=o):o<t&&(this.insert(r,o,t,i),r+=2,o=t);var s=i+n,l=Math.min(e,a);0===s?this.remove(r):(this.crosscounts[r/2|0]=s,this.yranges[r++]=t,this.yranges[r++]=l),t=o=l,o<a&&this.insert(r,o,a,i)}t<e&&this.insert(r,t,e,n)}},t}(s.awt.geom.Crossings);t.NonZero=n}(n=e.Crossings||(e.Crossings={}))}(sun||(sun={})),function(o){var t,e,n;t=o.awt||(o.awt={}),e=t.geom||(t.geom={}),n=function(){function j(t){this.direction=0,this.direction=t}return j.insertMove=function(t,e,n){t.add(new o.awt.geom.Order0(e,n))},j.insertLine=function(t,e,n,r,i){n<i?t.add(new o.awt.geom.Order1(e,n,r,i,j.INCREASING)):i<n&&t.add(new o.awt.geom.Order1(r,i,e,n,j.DECREASING))},j.insertQuad=function(t,e,n,r){var i=r[3];if(i<n)o.awt.geom.Order2.insert(t,r,r[2],i,r[0],r[1],e,n,j.DECREASING);else{if(n===i&&n===r[1])return;o.awt.geom.Order2.insert(t,r,e,n,r[0],r[1],r[2],i,j.INCREASING)}},j.insertCubic=function(t,e,n,r){var i=r[5];if(i<n)o.awt.geom.Order3.insert(t,r,r[4],i,r[2],r[3],r[0],r[1],e,n,j.DECREASING);else{if(n===i&&n===r[1]&&n===r[3])return;o.awt.geom.Order3.insert(t,r,e,n,r[0],r[1],r[2],r[3],r[4],i,j.INCREASING)}},j.pointCrossingsForPath=function(t,e,n){if(t.isDone())return 0;var r=new Array(6);if(t.currentSegment(r)!==java.awt.geom.PathIterator.SEG_MOVETO)throw new java.awt.geom.IllegalPathStateException("missing initial moveto in path definition");t.next();for(var i,o,a=r[0],s=r[1],l=a,u=s,c=0;!t.isDone();){switch(t.currentSegment(r)){case java.awt.geom.PathIterator.SEG_MOVETO:u!==s&&(c+=j.pointCrossingsForLine(e,n,l,u,a,s)),a=l=r[0],s=u=r[1];break;case java.awt.geom.PathIterator.SEG_LINETO:i=r[0],o=r[1],c+=j.pointCrossingsForLine(e,n,l,u,i,o),l=i,u=o;break;case java.awt.geom.PathIterator.SEG_QUADTO:i=r[2],o=r[3],c+=j.pointCrossingsForQuad(e,n,l,u,r[0],r[1],i,o,0),l=i,u=o;break;case java.awt.geom.PathIterator.SEG_CUBICTO:i=r[4],o=r[5],c+=j.pointCrossingsForCubic(e,n,l,u,r[0],r[1],r[2],r[3],i,o,0),l=i,u=o;break;case java.awt.geom.PathIterator.SEG_CLOSE:u!==s&&(c+=j.pointCrossingsForLine(e,n,l,u,a,s)),l=a,u=s}t.next()}return u!==s&&(c+=j.pointCrossingsForLine(e,n,l,u,a,s)),c},j.pointCrossingsForLine=function(t,e,n,r,i,o){return e<r&&e<o?0:r<=e&&o<=e?0:n<=t&&i<=t?0:t<n&&t<i?r<o?1:-1:n+(e-r)*(i-n)/(o-r)<=t?0:r<o?1:-1},j.pointCrossingsForQuad=function(t,e,n,r,i,o,a,s,l){if(e<r&&e<o&&e<s)return 0;if(r<=e&&o<=e&&s<=e)return 0;if(n<=t&&i<=t&&a<=t)return 0;if(t<n&&t<i&&t<a){if(r<=e){if(e<s)return 1}else if(s<=e)return-1;return 0}if(52<l)return j.pointCrossingsForLine(t,e,n,r,a,s);var u=(n+i)/2,c=(r+o)/2,h=(i+a)/2,f=(o+s)/2;return i=(u+h)/2,o=(c+f)/2,Number.NaN===i||Number.NaN===o?0:j.pointCrossingsForQuad(t,e,n,r,u,c,i,o,l+1)+j.pointCrossingsForQuad(t,e,i,o,h,f,a,s,l+1)},j.pointCrossingsForCubic=function(t,e,n,r,i,o,a,s,l,u,c){if(e<r&&e<o&&e<s&&e<u)return 0;if(r<=e&&o<=e&&s<=e&&u<=e)return 0;if(n<=t&&i<=t&&a<=t&&l<=t)return 0;if(t<n&&t<i&&t<a&&t<l){if(r<=e){if(e<u)return 1}else if(u<=e)return-1;return 0}if(52<c)return j.pointCrossingsForLine(t,e,n,r,l,u);var h=(i+a)/2,f=(o+s)/2,p=((i=(n+i)/2)+h)/2,d=((o=(r+o)/2)+f)/2,v=(h+(a=(a+l)/2))/2,m=(f+(s=(s+u)/2))/2;return h=(p+v)/2,f=(d+m)/2,Number.NaN===h||Number.NaN===f?0:j.pointCrossingsForCubic(t,e,n,r,i,o,p,d,h,f,c+1)+j.pointCrossingsForCubic(t,e,h,f,v,m,a,s,l,u,c+1)},j.rectCrossingsForPath=function(t,e,n,r,i){if(r<=e||i<=n)return 0;if(t.isDone())return 0;var o,a,s,l,u,c,h=new Array(6);if(t.currentSegment(h)!==java.awt.geom.PathIterator.SEG_MOVETO)throw new java.awt.geom.IllegalPathStateException("missing initial moveto in path definition");t.next(),o=s=h[0],a=l=h[1];for(var f=0;f!==j.RECT_INTERSECTS&&!t.isDone();){switch(t.currentSegment(h)){case java.awt.geom.PathIterator.SEG_MOVETO:o===s&&a===l||(f=j.rectCrossingsForLine(f,e,n,r,i,o,a,s,l)),s=o=h[0],l=a=h[1];break;case java.awt.geom.PathIterator.SEG_LINETO:u=h[0],c=h[1],f=j.rectCrossingsForLine(f,e,n,r,i,o,a,u,c),o=u,a=c;break;case java.awt.geom.PathIterator.SEG_QUADTO:u=h[2],c=h[3],f=j.rectCrossingsForQuad(f,e,n,r,i,o,a,h[0],h[1],u,c,0),o=u,a=c;break;case java.awt.geom.PathIterator.SEG_CUBICTO:u=h[4],c=h[5],f=j.rectCrossingsForCubic(f,e,n,r,i,o,a,h[0],h[1],h[2],h[3],u,c,0),o=u,a=c;break;case java.awt.geom.PathIterator.SEG_CLOSE:o===s&&a===l||(f=j.rectCrossingsForLine(f,e,n,r,i,o,a,s,l)),o=s,a=l}t.next()}return f===j.RECT_INTERSECTS||o===s&&a===l||(f=j.rectCrossingsForLine(f,e,n,r,i,o,a,s,l)),f},j.rectCrossingsForLine=function(t,e,n,r,i,o,a,s,l){if(i<=a&&i<=l)return t;if(a<=n&&l<=n)return t;if(o<=e&&s<=e)return t;if(r<=o&&r<=s)return a<l?(a<=n&&t++,i<=l&&t++):l<a&&(l<=n&&t--,i<=a&&t--),t;if(e<o&&o<r&&n<a&&a<i||e<s&&s<r&&n<l&&l<i)return j.RECT_INTERSECTS;var u=o;a<n?u+=(n-a)*(s-o)/(l-a):i<a&&(u+=(i-a)*(s-o)/(l-a));var c=s;return l<n?c+=(n-l)*(o-s)/(a-l):i<l&&(c+=(i-l)*(o-s)/(a-l)),u<=e&&c<=e?t:r<=u&&r<=c?(a<l?(a<=n&&t++,i<=l&&t++):l<a&&(l<=n&&t--,i<=a&&t--),t):j.RECT_INTERSECTS},j.rectCrossingsForQuad=function(t,e,n,r,i,o,a,s,l,u,c,h){if(i<=a&&i<=l&&i<=c)return t;if(a<=n&&l<=n&&c<=n)return t;if(o<=e&&s<=e&&u<=e)return t;if(r<=o&&r<=s&&r<=u)return a<c?(a<=n&&n<c&&t++,a<i&&i<=c&&t++):c<a&&(c<=n&&n<a&&t--,c<i&&i<=a&&t--),t;if(o<r&&e<o&&a<i&&n<a||u<r&&e<u&&c<i&&n<c)return j.RECT_INTERSECTS;if(52<h)return j.rectCrossingsForLine(t,e,n,r,i,o,a,u,c);var f=(o+s)/2,p=(a+l)/2,d=(s+u)/2,v=(l+c)/2;return s=(f+d)/2,l=(p+v)/2,Number.NaN===s||Number.NaN===l?0:((t=j.rectCrossingsForQuad(t,e,n,r,i,o,a,f,p,s,l,h+1))!==j.RECT_INTERSECTS&&(t=j.rectCrossingsForQuad(t,e,n,r,i,s,l,d,v,u,c,h+1)),t)},j.rectCrossingsForCubic=function(t,e,n,r,i,o,a,s,l,u,c,h,f,p){if(i<=a&&i<=l&&i<=c&&i<=f)return t;if(a<=n&&l<=n&&c<=n&&f<=n)return t;if(o<=e&&s<=e&&u<=e&&h<=e)return t;if(r<=o&&r<=s&&r<=u&&r<=h)return a<f?(a<=n&&n<f&&t++,a<i&&i<=f&&t++):f<a&&(f<=n&&n<a&&t--,f<i&&i<=a&&t--),t;if(e<o&&o<r&&n<a&&a<i||e<h&&h<r&&n<f&&f<i)return j.RECT_INTERSECTS;if(52<p)return j.rectCrossingsForLine(t,e,n,r,i,o,a,h,f);var d=(s+u)/2,v=(l+c)/2,m=((s=(o+s)/2)+d)/2,g=((l=(a+l)/2)+v)/2,y=(d+(u=(u+h)/2))/2,_=(v+(c=(c+f)/2))/2;return d=(m+y)/2,v=(g+_)/2,Number.NaN===d||Number.NaN===v?0:((t=j.rectCrossingsForCubic(t,e,n,r,i,o,a,s,l,m,g,d,v,p+1))!==j.RECT_INTERSECTS&&(t=j.rectCrossingsForCubic(t,e,n,r,i,d,v,y,_,u,c,h,f,p+1)),t)},j.prototype.getDirection=function(){return this.direction},j.prototype.getWithDirection=function(t){return this.direction===t?this:this.getReversedCurve()},j.round=function(t){return t},j.orderof=function(t,e){return t<e?-1:e<t?1:0},j.signeddiffbits=function(t,e){return javaemul.internal.DoubleHelper.doubleToLongBits(t)-javaemul.internal.DoubleHelper.doubleToLongBits(e)},j.diffbits=function(t,e){return Math.abs(javaemul.internal.DoubleHelper.doubleToLongBits(t)-javaemul.internal.DoubleHelper.doubleToLongBits(e))},j.prev=function(t){return javaemul.internal.DoubleHelper.longBitsToDouble(javaemul.internal.DoubleHelper.doubleToLongBits(t)-1)},j.next=function(t){return javaemul.internal.DoubleHelper.longBitsToDouble(javaemul.internal.DoubleHelper.doubleToLongBits(t)+1)},j.prototype.toString=function(){return"Curve["+this.getOrder()+", ("+j.round(this.getX0())+", "+j.round(this.getY0())+"), "+this.controlPointString()+"("+j.round(this.getX1())+", "+j.round(this.getY1())+"), "+(this.direction===j.INCREASING?"D":"U")+"]"},j.prototype.controlPointString=function(){return""},j.prototype.crossingsFor=function(t,e){return e>=this.getYTop()&&e<this.getYBot()&&t<this.getXMax()&&(t<this.getXMin()||t<this.XforY(e))?1:0},j.prototype.accumulateCrossings=function(t){var e=t.getXHi();if(this.getXMin()>=e)return!1;var n,r,i,o,a=t.getXLo(),s=t.getYLo(),l=t.getYHi(),u=this.getYTop(),c=this.getYBot();if(u<s){if(c<=s)return!1;r=s,n=this.TforY(s)}else{if(l<=u)return!1;r=u,n=0}l<c?(o=l,i=this.TforY(l)):(o=c,i=1);for(var h=!1,f=!1;;){var p=this.XforT(n);if(p<e){if(f||a<p)return!0;h=!0}else{if(h)return!0;f=!0}if(i<=n)break;n=this.nextVertical(n,i)}return h&&t.record(r,o,this.direction),!1},j.prototype.getSubCurve$double$double=function(t,e){return this.getSubCurve(t,e,this.direction)},j.prototype.getSubCurve=function(t,e,n){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n)throw new Error("invalid overload");return this.getSubCurve$double$double(t,e)}return null},j.prototype.compareTo=function(t,e){var n=e[0],r=e[1];if((r=Math.min(Math.min(r,this.getYBot()),t.getYBot()))<=e[0])throw console.error("this == "+this),console.error("that == "+t),console.info("target range = "+e[0]+"=>"+e[1]),new java.lang.InternalError("backstepping from "+e[0]+" to "+r);if(e[1]=r,this.getXMax()<=t.getXMin())return this.getXMin()===t.getXMax()?0:-1;if(this.getXMin()>=t.getXMax())return 1;var i=this.TforY(n),o=this.YforT(i);o<n&&(i=this.refineTforY(i,o,n),o=this.YforT(i));var a=this.TforY(r);this.YforT(a)<n&&(a=this.refineTforY(a,this.YforT(a),n));var s=t.TforY(n),l=t.YforT(s);l<n&&(s=t.refineTforY(s,l,n),l=t.YforT(s));var u=t.TforY(r);t.YforT(u)<n&&(u=t.refineTforY(u,t.YforT(u),n));var c=this.XforT(i),h=t.XforT(s),f=Math.max(Math.abs(n),Math.abs(r)),p=Math.max(1e-14*f,1e-300);if(this.fairlyClose(c,h)){for(var d=p,v=Math.min(1e13*p,.1*(r-n)),m=n+d;m<=r;){if(!this.fairlyClose(this.XforY(m),t.XforY(m))){for(m-=d;;){var g=m+(d/=2);if(g<=m)break;this.fairlyClose(this.XforY(g),t.XforY(g))&&(m=g)}break}(d*=2)>v&&(d=v),m+=d}if(n<m)return m<r&&(e[1]=m),0}for(p<=0&&console.info("ymin = "+p);i<a&&s<u;){var y=this.nextVertical(i,a),_=this.XforT(y),b=this.YforT(y),w=t.nextVertical(s,u),E=t.XforT(w),x=t.YforT(w);try{if(this.findIntersect(t,e,p,0,0,i,c,o,y,_,b,s,h,l,w,E,x))break}catch(t){return console.error("Error: "+t),console.error("y range was "+e[0]+"=>"+e[1]),console.error("s y range is "+o+"=>"+b),console.error("t y range is "+l+"=>"+x),console.error("ymin is "+p),0}if(b<x){if(b>e[0]){b<e[1]&&(e[1]=b);break}i=y,c=_,o=b}else{if(x>e[0]){x<e[1]&&(e[1]=x);break}s=w,h=E,l=x}}var A=(e[0]+e[1])/2;return j.orderof(this.XforY(A),t.XforY(A))},j.prototype.findIntersect=function(t,e,n,r,i,o,a,s,l,u,c,h,f,p,d,v,m){if(m<s||c<p)return!1;if(Math.min(a,u)>Math.max(f,v)||Math.max(a,u)<Math.min(f,v))return!1;if(j.TMIN<l-o){var g=(o+l)/2,y=this.XforT(g),_=this.YforT(g);if(g===o||g===l)throw console.info("s0 = "+o),console.info("s1 = "+l),new java.lang.InternalError("no s progress!");if(j.TMIN<d-h){var b=(h+d)/2,w=t.XforT(b),E=t.YforT(b);if(b===h||b===d)throw console.info("t0 = "+h),console.info("t1 = "+d),new java.lang.InternalError("no t progress!");if(p<=_&&s<=E&&this.findIntersect(t,e,n,r+1,i+1,o,a,s,g,y,_,h,f,p,b,w,E))return!0;if(E<=_&&this.findIntersect(t,e,n,r+1,i+1,o,a,s,g,y,_,b,w,E,d,v,m))return!0;if(_<=E&&this.findIntersect(t,e,n,r+1,i+1,g,y,_,l,u,c,h,f,p,b,w,E))return!0;if(E<=c&&_<=m&&this.findIntersect(t,e,n,r+1,i+1,g,y,_,l,u,c,b,w,E,d,v,m))return!0}else{if(p<=_&&this.findIntersect(t,e,n,r+1,i,o,a,s,g,y,_,h,f,p,d,v,m))return!0;if(_<=m&&this.findIntersect(t,e,n,r+1,i,g,y,_,l,u,c,h,f,p,d,v,m))return!0}}else if(j.TMIN<d-h){if(b=(h+d)/2,w=t.XforT(b),E=t.YforT(b),b===h||b===d)throw console.info("t0 = "+h),console.info("t1 = "+d),new java.lang.InternalError("no t progress!");if(s<=E&&this.findIntersect(t,e,n,r,i+1,o,a,s,l,u,c,h,f,p,b,w,E))return!0;if(E<=c&&this.findIntersect(t,e,n,r,i+1,o,a,s,l,u,c,b,w,E,d,v,m))return!0}else{var x=u-a,A=c-s,S=v-f,T=m-p,L=f-a,I=p-s,P=S*A-T*x;if(0!==P){var M=1/P;if(b=(x*I-A*L)*M,0<=(g=(S*I-T*L)*M)&&g<=1&&0<=b&&b<=1){b=h+b*(d-h),((g=o+g*(l-o))<0||1<g||b<0||1<b)&&console.info("Uh oh!");var C=(this.YforT(g)+t.YforT(b))/2;if(C<=e[1]&&C>e[0])return e[1]=C,!0}}}return!1},j.prototype.refineTforY=function(t,e,n){for(var r=1;;){var i=(t+r)/2;if(i===t||i===r)return r;var o=this.YforT(i);if(o<n)t=i;else{if(!(n<o))return r;r=i}}},j.prototype.fairlyClose=function(t,e){return Math.abs(t-e)<1e-10*Math.max(Math.abs(t),Math.abs(e))},j.INCREASING=1,j.DECREASING=-1,j.RECT_INTERSECTS=-2147483648,j.TMIN=.001,j}(),e.Curve=n}(sun||(sun={})),function(o){var t,e,n;t=o.awt||(o.awt={}),e=t.geom||(t.geom={}),n=function(){function t(t,e,n,r){if(this.ytop=0,this.ybot=0,this.etag=0,this.curve=t,this.ytop=e,this.ybot=n,this.etag=r,this.ytop<t.getYTop()||this.ybot>t.getYBot())throw new java.lang.InternalError("bad curvelink ["+this.ytop+"=>"+this.ybot+"] for "+t)}return t.prototype.absorb$sun_awt_geom_CurveLink=function(t){return this.absorb(t.curve,t.ytop,t.ybot,t.etag)},t.prototype.absorb=function(t,e,n,r){var i=this;if(!(null!=t&&t instanceof o.awt.geom.Curve||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof o.awt.geom.CurveLink||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.absorb$sun_awt_geom_CurveLink(t);throw new Error("invalid overload")}return function(){if(i.curve!==t||i.etag!==r||i.ybot<e||i.ytop>n)return!1;if(e<t.getYTop()||n>t.getYBot())throw new java.lang.InternalError("bad curvelink ["+e+"=>"+n+"] for "+t);return i.ytop=Math.min(i.ytop,e),i.ybot=Math.max(i.ybot,n),!0}()},t.prototype.isEmpty=function(){return this.ytop===this.ybot},t.prototype.getCurve=function(){return this.curve},t.prototype.getSubCurve=function(){return this.ytop===this.curve.getYTop()&&this.ybot===this.curve.getYBot()?this.curve.getWithDirection(this.etag):this.curve.getSubCurve(this.ytop,this.ybot,this.etag)},t.prototype.getMoveto=function(){return new o.awt.geom.Order0(this.getXTop(),this.getYTop())},t.prototype.getXTop=function(){return this.curve.XforY(this.ytop)},t.prototype.getYTop=function(){return this.ytop},t.prototype.getXBot=function(){return this.curve.XforY(this.ybot)},t.prototype.getYBot=function(){return this.ybot},t.prototype.getX=function(){return this.curve.XforY(this.ytop)},t.prototype.getEdgeTag=function(){return this.etag},t.prototype.setNext=function(t){this.next=t},t.prototype.getNext=function(){return this.next},t}(),e.CurveLink=n}(sun||(sun={})),function(r){var t,e,n;t=r.awt||(r.awt={}),e=t.geom||(t.geom={}),n=function(){function t(t,e,n){void 0===n&&(n=r.awt.geom.AreaOp.ETAG_IGNORE),this.ctag=0,this.etag=0,this.activey=0,this.equivalence=0,this.lastResult=0,this.lastLimit=0,this.curve=t,this.ctag=e,this.etag=n}return t.prototype.getCurve=function(){return this.curve},t.prototype.getCurveTag=function(){return this.ctag},t.prototype.getEdgeTag=function(){return this.etag},t.prototype.setEdgeTag=function(t){this.etag=t},t.prototype.getEquivalence=function(){return this.equivalence},t.prototype.setEquivalence=function(t){this.equivalence=t},t.prototype.compareTo=function(t,e){if(t===this.lastEdge&&e[0]<this.lastLimit)return e[1]>this.lastLimit&&(e[1]=this.lastLimit),this.lastResult;if(this===t.lastEdge&&e[0]<t.lastLimit)return e[1]>t.lastLimit&&(e[1]=t.lastLimit),0-t.lastResult;var n=this.curve.compareTo(t.curve,e);return this.lastEdge=t,this.lastLimit=e[1],this.lastResult=n},t.prototype.record=function(t,e){this.activey=t,this.etag=e},t.prototype.isActiveFor=function(t,e){return this.etag===e&&this.activey>=t},t.prototype.toString=function(){return"Edge["+this.curve+", "+(this.ctag===r.awt.geom.AreaOp.CTAG_LEFT?"L":"R")+", "+(this.etag===r.awt.geom.AreaOp.ETAG_ENTER?"I":this.etag===r.awt.geom.AreaOp.ETAG_EXIT?"O":"N")+"]"},t.INIT_PARTS=4,t.GROW_PARTS=10,t}(),e.Edge=n}(sun||(sun={})),function(t){var e=function(){function a(){}return a.assertEquals=function(t,e){if(t!==e)throw new Error("invalid assertion: "+t+"!="+e)},a.assertTrue=function(t){if(!t)throw new Error("invalid assertion")},a.assertFalse=function(t){if(t)throw new Error("invalid assertion")},a.test=function(){try{a.testList(),a.testMap(),a.testSet(),a.testString(),a.testIO(),a.testAwtGeom(),null!=(e=document.getElementById("result"))&&(e.innerHTML="Success!")}catch(t){var e;console.error(t),null!=(e=document.getElementById("result"))&&(e.innerHTML="Failure: "+t.message)}},a.testList=function(){console.info("testing lists");var t=new java.util.ArrayList;t.add("a"),t.add("b"),t.add("c"),a.assertEquals(t.toString(),"[a, b, c]"),a.assertEquals(t.subList(1,3).toString(),"[b, c]"),a.assertEquals(t.remove("b"),!0),a.assertEquals(t.remove("d"),!1),a.assertEquals(t.remove(1),"c"),t.add("c"),a.assertEquals(t.toString(),"[a, c]"),a.assertEquals(t.size(),2),a.assertEquals(t.get(1),"c"),a.assertEquals(t.indexOf("a"),0);for(var e="",n=t.iterator();n.hasNext();){e+=n.next()}a.assertEquals("ac",e);var r=t.iterator();a.assertTrue(r.hasNext()),a.assertEquals("a",r.next()),a.assertTrue(r.hasNext()),a.assertEquals("c",r.next()),a.assertFalse(r.hasNext()),console.info("end testing lists")},a.testSet=function(){console.info("testing sets");var t=new java.util.HashSet;t.add("a"),t.add("a"),t.add("b"),t.add("c"),t.add("c"),a.assertEquals(t.toString(),"[a, b, c]"),t.remove("b"),a.assertTrue(t.contains("a")),a.assertTrue(t.contains("c")),a.assertFalse(t.contains("b")),a.assertEquals(t.size(),2),console.info("end testing sets")},a.testMap=function(){console.info("testing maps");var t=new java.util.HashMap;t.put("a","aa"),t.put("b","bb"),t.put("c","cc"),a.assertEquals(t.size(),3),a.assertEquals("bb",t.get("b")),t.remove("aa"),a.assertEquals(t.size(),3),t.remove("a"),a.assertEquals(t.size(),2),console.info("end testing maps")},a.testString=function(){console.info("testing strings");var t=new java.lang.StringBuilder;t.append(!0),t.append("c"),t.append("test"),t.deleteCharAt(t.length()-1),a.assertEquals("truectes",t.toString()),t.append("abc",0,1),a.assertEquals("truectesa",t.toString());var e=new java.lang.StringBuffer;e.append(!0),e.append("c"),e.append("test"),e.deleteCharAt(e.length()-1),a.assertEquals("truectes",e.toString()),console.info("end testing strings")},a.testIO=function(){console.info("testing io"),localStorage.clear();var t=new java.io.ByteArrayInputStream("abc".split("").map(function(t){return t.charCodeAt(0)}));a.assertEquals(javaemul.internal.CharacterHelper.getNumericValue("a"),t.read());var e=new java.io.File("/a/b/c");a.assertFalse(e.exists()),e.mkdirs(),a.assertTrue(e.exists());var n=new java.io.File(e,"test.txt");a.assertFalse(n.exists()),n.createNewFile(),a.assertTrue(n.exists());var r=new java.io.FileWriter(n);r.append("abc"),r.close();var i=new java.io.BufferedReader(new java.io.FileReader(n)),o=i.readLine();i.close(),a.assertEquals("abc",o),console.info("end testing io")},a.testAwtGeom=function(){console.info("testing awt.geom");var t=new java.awt.geom.Rectangle2D.Double(0,0,10,10),e=new java.awt.geom.Point2D.Double(5,5),n=new java.awt.geom.Point2D.Double(5,50);a.assertTrue(t.contains(e)),a.assertFalse(t.contains(n)),console.info("end testing awt.geom")},a}();t.Test=e}(test||(test={})),function(n){var t,e;t=n.awt||(n.awt={}),e=function(e){function t(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.HTMLComponent"]}),this.label=t,this.actionCommand=t}return __extends(t,e),t.prototype.bind=function(t){this.button=document.getElementById(t),this.button.innerHTML=this.label},t.prototype.init=function(){null==this.button&&(this.button=document.createElement("button"),this.button.innerHTML=this.label,this.button.id="cmp"+n.applet.Applet.CURRENT_ID++,null!=this.background&&(this.button.style.backgroundColor=this.background.toHTML()),this.initActionListener())},t.prototype.initActionListener=function(){var e=this;null!=this.actionListener&&(this.button.onclick=function(t){return console.log("button clicked: "+e.actionCommand),e.actionListener.actionPerformed(new n.awt.event.ActionEvent(e,e.actionCommand)),t})},t.prototype.getHTMLElement=function(){return null==this.button&&this.init(),this.button},t.prototype.addActionListener=function(t){this.actionListener=t,null!=this.button&&this.initActionListener()},t.prototype.setBackground=function(t){this.background=t},t}(n.awt.Component),t.Button=e}(java||(java={})),function(n){var t,e;t=n.awt||(n.awt={}),e=function(e){function t(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.HTMLComponent"]})}return __extends(t,e),t.prototype.init=function(){null==this.input&&(this.input=document.createElement("input"),this.input.setAttribute("type","text"),this.input.id="cmp"+n.applet.Applet.CURRENT_ID++,this.initActionListener())},t.prototype.initActionListener=function(){var e=this;null!=this.actionListener&&(this.input.onclick=function(t){return e.actionListener.actionPerformed(new n.awt.event.ActionEvent(e,null)),t})},t.prototype.bind=function(t){this.input=document.getElementById(t)},t.prototype.getHTMLElement=function(){return null==this.input&&this.init(),this.input},t.prototype.addActionListener=function(t){this.actionListener=t,null!=this.input&&this.initActionListener()},t.prototype.setText=function(t){this.input.value=t},t.prototype.getText=function(){return this.input.value},t}(n.awt.Component),t.TextField=e}(java||(java={})),function(o){var t,e;t=o.awt||(o.awt={}),e=function(i){function t(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)if((null!=t&&t instanceof o.awt.Dimension||null===t)&&void 0===e){var r=t;t=r.width,e=r.height;i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.width=0,this.height=0,n.width=t,n.height=e}else{if(void 0!==t||void 0!==e)throw new Error("invalid overload");t=0,e=0;i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.width=0,this.height=0,n.width=t,n.height=e}else i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.width=0,this.height=0,n.width=t,n.height=e}return __extends(t,i),t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.setSize$double$double=function(t,e){this.width=0|Math.ceil(t),this.height=0|Math.ceil(e)},t.prototype.getSize=function(){return new t(this.width,this.height)},t.prototype.setSize$java_awt_Dimension=function(t){this.setSize(t.width,t.height)},t.prototype.setSize=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof o.awt.Dimension||null===t)&&void 0===e)return this.setSize$java_awt_Dimension(t);if((null!=t&&t instanceof o.awt.geom.Dimension2D||null===t)&&void 0===e)return this.setSize$java_awt_geom_Dimension2D(t);throw new Error("invalid overload")}return this.setSize$double$double(t,e)}return n.width=t,void(n.height=e)},t.prototype.equals=function(t){if(null!=t&&t instanceof o.awt.Dimension){var e=t;return this.width===e.width&&this.height===e.height}return!1},t.prototype.hashCode=function(){var t=this.width+this.height;return(t*(t+1)/2|0)+this.width},t.prototype.toString=function(){return"java.awt.Dimension[width="+this.width+",height="+this.height+"]"},t.serialVersionUID=472395257949135e4,t}(o.awt.geom.Dimension2D),t.Dimension=e}(java||(java={})),function(d){var t,e,n;t=d.awt||(d.awt={}),e=t.geom||(t.geom={}),n=function(){function s(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if(void 0!==t||void 0!==e)throw new Error("invalid overload");Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable"]}),this.numTypes=0,this.numCoords=0,this.windingRule=0}else Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable"]}),this.numTypes=0,this.numCoords=0,this.windingRule=0,n.setWindingRule(t),n.pointTypes=new Array(e)}return s.WIND_EVEN_ODD_$LI$=function(){return null==s.WIND_EVEN_ODD&&(s.WIND_EVEN_ODD=d.awt.geom.PathIterator.WIND_EVEN_ODD),s.WIND_EVEN_ODD},s.WIND_NON_ZERO_$LI$=function(){return null==s.WIND_NON_ZERO&&(s.WIND_NON_ZERO=d.awt.geom.PathIterator.WIND_NON_ZERO),s.WIND_NON_ZERO},s.SEG_MOVETO_$LI$=function(){return null==s.SEG_MOVETO&&(s.SEG_MOVETO=0|d.awt.geom.PathIterator.SEG_MOVETO),s.SEG_MOVETO},s.SEG_LINETO_$LI$=function(){return null==s.SEG_LINETO&&(s.SEG_LINETO=0|d.awt.geom.PathIterator.SEG_LINETO),s.SEG_LINETO},s.SEG_QUADTO_$LI$=function(){return null==s.SEG_QUADTO&&(s.SEG_QUADTO=0|d.awt.geom.PathIterator.SEG_QUADTO),s.SEG_QUADTO},s.SEG_CUBICTO_$LI$=function(){return null==s.SEG_CUBICTO&&(s.SEG_CUBICTO=0|d.awt.geom.PathIterator.SEG_CUBICTO),s.SEG_CUBICTO},s.SEG_CLOSE_$LI$=function(){return null==s.SEG_CLOSE&&(s.SEG_CLOSE=0|d.awt.geom.PathIterator.SEG_CLOSE),s.SEG_CLOSE},s.prototype.append$float$float=function(t,e){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},s.prototype.append$double$double=function(t,e){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},s.prototype.moveTo=function(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)throw new Error("invalid overload");return this.moveTo$double$double(t,e)},s.prototype.moveTo$double$double=function(t,e){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},s.prototype.lineTo=function(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)throw new Error("invalid overload");return this.lineTo$double$double(t,e)},s.prototype.lineTo$double$double=function(t,e){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},s.prototype.quadTo=function(t,e,n,r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r)throw new Error("invalid overload");return this.quadTo$double$double$double$double(t,e,n,r)},s.prototype.quadTo$double$double$double$double=function(t,e,n,r){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},s.prototype.curveTo=function(t,e,n,r,i,o){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o)throw new Error("invalid overload");return this.curveTo$double$double$double$double$double$double(t,e,n,r,i,o)},s.prototype.curveTo$double$double$double$double$double$double=function(t,e,n,r,i,o){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},s.prototype.closePath=function(){0!==this.numTypes&&this.pointTypes[this.numTypes-1]===s.SEG_CLOSE_$LI$()||(this.needRoom(!0,0),this.pointTypes[this.numTypes++]=s.SEG_CLOSE_$LI$())},s.prototype.append=function(t,e){var n=this;if(!(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.awt.Shape")||null===t)||"boolean"!=typeof e&&null!==e){if(!(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.awt.geom.PathIterator")||null===t)||"boolean"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)throw new Error("invalid overload");return this.append$double$double(t,e)}return this.append$float$float(t,e)}return this.append$java_awt_geom_PathIterator$boolean(t,e)}n.append(t.getPathIterator(null),e)},s.prototype.append$java_awt_geom_PathIterator$boolean=function(t,e){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},s.prototype.getWindingRule=function(){return this.windingRule},s.prototype.setWindingRule=function(t){if(t!==s.WIND_EVEN_ODD_$LI$()&&t!==s.WIND_NON_ZERO_$LI$())throw new d.lang.IllegalArgumentException("winding rule must be WIND_EVEN_ODD or WIND_NON_ZERO");this.windingRule=t},s.prototype.getCurrentPoint=function(){var t=this.numCoords;if(this.numTypes<1||t<1)return null;if(this.pointTypes[this.numTypes-1]===s.SEG_CLOSE_$LI$())t:for(var e=this.numTypes-2;0<e;e--)switch(this.pointTypes[e]){case s.SEG_MOVETO_$LI$():break t;case s.SEG_LINETO_$LI$():t-=2;break;case s.SEG_QUADTO_$LI$():t-=4;break;case s.SEG_CUBICTO_$LI$():t-=6;break;case s.SEG_CLOSE_$LI$():}return this.getPoint(t-2)},s.prototype.reset=function(){this.numTypes=this.numCoords=0},s.prototype.createTransformedShape=function(t){var e=this.clone();return null!=t&&e.transform(t),e},s.prototype.getBounds=function(){return this.getBounds2D().getBounds()},s.contains$java_awt_geom_PathIterator$double$double=function(t,e,n){if(0*e+0*n==0){var r=t.getWindingRule()===s.WIND_NON_ZERO_$LI$()?-1:1;return 0!=(sun.awt.geom.Curve.pointCrossingsForPath(t,e,n)&r)}return!1},s.contains$java_awt_geom_PathIterator$java_awt_geom_Point2D=function(t,e){return s.contains(t,e.getX(),e.getY())},s.prototype.contains$double$double=function(t,e){if(0*t+0*e==0){if(this.numTypes<2)return!1;var n=this.windingRule===s.WIND_NON_ZERO_$LI$()?-1:1;return 0!=(this.pointCrossings(t,e)&n)}return!1},s.prototype.contains$java_awt_geom_Point2D=function(t){return this.contains(t.getX(),t.getY())},s.contains=function(n,r,i,o,a){if(!(null!=n&&null!=n.__interfaces&&0<=n.__interfaces.indexOf("java.awt.geom.PathIterator")||null===n)||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a){if(!(null!=n&&null!=n.__interfaces&&0<=n.__interfaces.indexOf("java.awt.geom.PathIterator")||null===n)||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||void 0!==o||void 0!==a){if((null!=n&&null!=n.__interfaces&&0<=n.__interfaces.indexOf("java.awt.geom.PathIterator")||null===n)&&(null!=r&&r instanceof d.awt.geom.Point2D||null===r)&&void 0===i&&void 0===o&&void 0===a)return d.awt.geom.Path2D.contains$java_awt_geom_PathIterator$java_awt_geom_Point2D(n,r);if((null!=n&&null!=n.__interfaces&&0<=n.__interfaces.indexOf("java.awt.geom.PathIterator")||null===n)&&(null!=r&&r instanceof d.awt.geom.Rectangle2D||null===r)&&void 0===i&&void 0===o&&void 0===a)return d.awt.geom.Path2D.contains$java_awt_geom_PathIterator$java_awt_geom_Rectangle2D(n,r);throw new Error("invalid overload")}return d.awt.geom.Path2D.contains$java_awt_geom_PathIterator$double$double(n,r,i)}return function(){if(Number.NaN===r+o||Number.NaN===i+a)return!1;if(o<=0||a<=0)return!1;var t=n.getWindingRule()===s.WIND_NON_ZERO_$LI$()?-1:2,e=sun.awt.geom.Curve.rectCrossingsForPath(n,r,i,r+o,i+a);return e!==sun.awt.geom.Curve.RECT_INTERSECTS&&0!=(e&t)}()},s.contains$java_awt_geom_PathIterator$java_awt_geom_Rectangle2D=function(t,e){return s.contains(t,e.getX(),e.getY(),e.getWidth(),e.getHeight())},s.prototype.contains=function(n,r,i,o){var a=this;if("number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if("number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||void 0!==i||void 0!==o){if((null!=n&&n instanceof d.awt.geom.Point2D||null===n)&&void 0===r&&void 0===i&&void 0===o)return this.contains$java_awt_geom_Point2D(n);if((null!=n&&n instanceof d.awt.geom.Rectangle2D||null===n)&&void 0===r&&void 0===i&&void 0===o)return this.contains$java_awt_geom_Rectangle2D(n);throw new Error("invalid overload")}return this.contains$double$double(n,r)}return function(){if(Number.NaN===n+i||Number.NaN===r+o)return!1;if(i<=0||o<=0)return!1;var t=a.windingRule===s.WIND_NON_ZERO_$LI$()?-1:2,e=a.rectCrossings(n,r,n+i,r+o);return e!==sun.awt.geom.Curve.RECT_INTERSECTS&&0!=(e&t)}()},s.prototype.contains$java_awt_geom_Rectangle2D=function(t){return this.contains(t.getX(),t.getY(),t.getWidth(),t.getHeight())},s.intersects=function(n,r,i,o,a){if(!(null!=n&&null!=n.__interfaces&&0<=n.__interfaces.indexOf("java.awt.geom.PathIterator")||null===n)||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a){if((null!=n&&null!=n.__interfaces&&0<=n.__interfaces.indexOf("java.awt.geom.PathIterator")||null===n)&&(null!=r&&r instanceof d.awt.geom.Rectangle2D||null===r)&&void 0===i&&void 0===o&&void 0===a)return d.awt.geom.Path2D.intersects$java_awt_geom_PathIterator$java_awt_geom_Rectangle2D(n,r);throw new Error("invalid overload")}return function(){if(Number.NaN===r+o||Number.NaN===i+a)return!1;if(o<=0||a<=0)return!1;var t=n.getWindingRule()===s.WIND_NON_ZERO_$LI$()?-1:2,e=sun.awt.geom.Curve.rectCrossingsForPath(n,r,i,r+o,i+a);return e===sun.awt.geom.Curve.RECT_INTERSECTS||0!=(e&t)}()},s.intersects$java_awt_geom_PathIterator$java_awt_geom_Rectangle2D=function(t,e){return s.intersects(t,e.getX(),e.getY(),e.getWidth(),e.getHeight())},s.prototype.intersects=function(n,r,i,o){var a=this;if("number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if((null!=n&&n instanceof d.awt.geom.Rectangle2D||null===n)&&void 0===r&&void 0===i&&void 0===o)return this.intersects$java_awt_geom_Rectangle2D(n);throw new Error("invalid overload")}return function(){if(Number.NaN===n+i||Number.NaN===r+o)return!1;if(i<=0||o<=0)return!1;var t=a.windingRule===s.WIND_NON_ZERO_$LI$()?-1:2,e=a.rectCrossings(n,r,n+i,r+o);return e===sun.awt.geom.Curve.RECT_INTERSECTS||0!=(e&t)}()},s.prototype.intersects$java_awt_geom_Rectangle2D=function(t){return this.intersects(t.getX(),t.getY(),t.getWidth(),t.getHeight())},s.prototype.getPathIterator=function(t,e){var n=this;if(!(null!=t&&t instanceof d.awt.geom.AffineTransform||null===t)||"number"!=typeof e&&null!==e)throw new Error("invalid overload");return new d.awt.geom.FlatteningPathIterator(n.getPathIterator(t),e)},s.INIT_SIZE=20,s.EXPAND_MAX=500,s}(),e.Path2D=n,function(t){var e=function(){function e(t){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.geom.PathIterator"]}),this.typeIdx=0,this.pointIdx=0,this.path=t}return e.curvecoords_$LI$=function(){return null==e.curvecoords&&(e.curvecoords=[2,2,4,6,0]),e.curvecoords},e.prototype.getWindingRule=function(){return this.path.getWindingRule()},e.prototype.isDone=function(){return this.typeIdx>=this.path.numTypes},e.prototype.next=function(t){if(void 0===t)return this.next$();throw new Error("invalid overload")},e.prototype.next$=function(){var t=this.path.pointTypes[this.typeIdx++];this.pointIdx+=e.curvecoords_$LI$()[t]},e}();t.Iterator=e;var n=function(o){function e(n,r){var i=this;if((null!=n&&null!=n.__interfaces&&0<=n.__interfaces.indexOf("java.awt.Shape")||null===n)&&(null!=r&&r instanceof d.awt.geom.AffineTransform||null===r))o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),function(){if(null!=n&&n instanceof d.awt.geom.Path2D){var t=n;i.setWindingRule(t.windingRule),i.numTypes=t.numTypes,i.pointTypes=d.util.Arrays.copyOf(t.pointTypes,t.pointTypes.length),i.numCoords=t.numCoords,i.floatCoords=t.cloneCoordsFloat(r)}else{var e=n.getPathIterator(r);i.setWindingRule(e.getWindingRule()),i.pointTypes=new Array(d.awt.geom.Path2D.INIT_SIZE),i.floatCoords=new Array(2*d.awt.geom.Path2D.INIT_SIZE),i.append(e,!1)}}();else if("number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r)if((null!=n&&null!=n.__interfaces&&0<=n.__interfaces.indexOf("java.awt.Shape")||null===n)&&void 0===r)r=null,o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),function(){if(null!=n&&n instanceof d.awt.geom.Path2D){var t=n;i.setWindingRule(t.windingRule),i.numTypes=t.numTypes,i.pointTypes=d.util.Arrays.copyOf(t.pointTypes,t.pointTypes.length),i.numCoords=t.numCoords,i.floatCoords=t.cloneCoordsFloat(r)}else{var e=n.getPathIterator(r);i.setWindingRule(e.getWindingRule()),i.pointTypes=new Array(d.awt.geom.Path2D.INIT_SIZE),i.floatCoords=new Array(2*d.awt.geom.Path2D.INIT_SIZE),i.append(e,!1)}}();else if("number"!=typeof n&&null!==n||void 0!==r){if(void 0!==n||void 0!==r)throw new Error("invalid overload");t=d.awt.geom.Path2D.WIND_NON_ZERO_$LI$(),e=d.awt.geom.Path2D.INIT_SIZE,o.call(this,t,e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),i.floatCoords=new Array(2*e)}else{var t=n,e=d.awt.geom.Path2D.INIT_SIZE;o.call(this,t,e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),i.floatCoords=new Array(2*e)}else{var t=n,e=r;o.call(this,t,e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),i.floatCoords=new Array(2*e)}}return __extends(e,o),e.prototype.cloneCoordsFloat=function(t){var e;return null==t?e=d.util.Arrays.copyOf(this.floatCoords,this.floatCoords.length):(e=new Array(this.floatCoords.length),t.transform(this.floatCoords,0,e,0,this.numCoords/2|0)),e},e.prototype.cloneCoordsDouble=function(t){var e=new Array(this.floatCoords.length);if(null==t)for(var n=0;n<this.numCoords;n++)e[n]=this.floatCoords[n];else t.transform(this.floatCoords,0,e,0,this.numCoords/2|0);return e},e.prototype.append$float$float=function(t,e){this.floatCoords[this.numCoords++]=t,this.floatCoords[this.numCoords++]=e},e.prototype.append$double$double=function(t,e){this.floatCoords[this.numCoords++]=t,this.floatCoords[this.numCoords++]=e},e.prototype.getPoint=function(t){return new d.awt.geom.Point2D.Float(this.floatCoords[t],this.floatCoords[t+1])},e.prototype.needRoom=function(t,e){if(t&&0===this.numTypes)throw new d.awt.geom.IllegalPathStateException("missing initial moveto in path definition");var n,r=this.pointTypes.length;this.numTypes>=r&&((n=r)>d.awt.geom.Path2D.EXPAND_MAX&&(n=d.awt.geom.Path2D.EXPAND_MAX),this.pointTypes=d.util.Arrays.copyOf(this.pointTypes,r+n)),r=this.floatCoords.length,this.numCoords+e>r&&((n=r)>2*d.awt.geom.Path2D.EXPAND_MAX&&(n=2*d.awt.geom.Path2D.EXPAND_MAX),n<e&&(n=e),this.floatCoords=d.util.Arrays.copyOf(this.floatCoords,r+n))},e.prototype.moveTo$double$double=function(t,e){0<this.numTypes&&this.pointTypes[this.numTypes-1]===d.awt.geom.Path2D.SEG_MOVETO_$LI$()?(this.floatCoords[this.numCoords-2]=t,this.floatCoords[this.numCoords-1]=e):(this.needRoom(!1,2),this.pointTypes[this.numTypes++]=d.awt.geom.Path2D.SEG_MOVETO_$LI$(),this.floatCoords[this.numCoords++]=t,this.floatCoords[this.numCoords++]=e)},e.prototype.moveTo=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)throw new Error("invalid overload");return this.moveTo$double$double(t,e)}0<n.numTypes&&n.pointTypes[n.numTypes-1]===d.awt.geom.Path2D.SEG_MOVETO_$LI$()?(n.floatCoords[n.numCoords-2]=t,n.floatCoords[n.numCoords-1]=e):(n.needRoom(!1,2),n.pointTypes[n.numTypes++]=d.awt.geom.Path2D.SEG_MOVETO_$LI$(),n.floatCoords[n.numCoords++]=t,n.floatCoords[n.numCoords++]=e)},e.prototype.lineTo$double$double=function(t,e){this.needRoom(!0,2),this.pointTypes[this.numTypes++]=d.awt.geom.Path2D.SEG_LINETO_$LI$(),this.floatCoords[this.numCoords++]=t,this.floatCoords[this.numCoords++]=e},e.prototype.lineTo=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)throw new Error("invalid overload");return this.lineTo$double$double(t,e)}return n.needRoom(!0,2),n.pointTypes[n.numTypes++]=d.awt.geom.Path2D.SEG_LINETO_$LI$(),n.floatCoords[n.numCoords++]=t,void(n.floatCoords[n.numCoords++]=e)},e.prototype.quadTo$double$double$double$double=function(t,e,n,r){this.needRoom(!0,4),this.pointTypes[this.numTypes++]=d.awt.geom.Path2D.SEG_QUADTO_$LI$(),this.floatCoords[this.numCoords++]=t,this.floatCoords[this.numCoords++]=e,this.floatCoords[this.numCoords++]=n,this.floatCoords[this.numCoords++]=r},e.prototype.quadTo=function(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r)throw new Error("invalid overload");return this.quadTo$double$double$double$double(t,e,n,r)}return i.needRoom(!0,4),i.pointTypes[i.numTypes++]=d.awt.geom.Path2D.SEG_QUADTO_$LI$(),i.floatCoords[i.numCoords++]=t,i.floatCoords[i.numCoords++]=e,i.floatCoords[i.numCoords++]=n,void(i.floatCoords[i.numCoords++]=r)},e.prototype.curveTo$double$double$double$double$double$double=function(t,e,n,r,i,o){this.needRoom(!0,6),this.pointTypes[this.numTypes++]=d.awt.geom.Path2D.SEG_CUBICTO_$LI$(),this.floatCoords[this.numCoords++]=t,this.floatCoords[this.numCoords++]=e,this.floatCoords[this.numCoords++]=n,this.floatCoords[this.numCoords++]=r,this.floatCoords[this.numCoords++]=i,this.floatCoords[this.numCoords++]=o},e.prototype.curveTo=function(t,e,n,r,i,o){var a=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o)throw new Error("invalid overload");return this.curveTo$double$double$double$double$double$double(t,e,n,r,i,o)}return a.needRoom(!0,6),a.pointTypes[a.numTypes++]=d.awt.geom.Path2D.SEG_CUBICTO_$LI$(),a.floatCoords[a.numCoords++]=t,a.floatCoords[a.numCoords++]=e,a.floatCoords[a.numCoords++]=n,a.floatCoords[a.numCoords++]=r,a.floatCoords[a.numCoords++]=i,void(a.floatCoords[a.numCoords++]=o)},e.prototype.pointCrossings=function(t,e){var n,r,i,o,a,s,l=this.floatCoords;i=n=l[0],o=r=l[1];for(var u=0,c=2,h=1;h<this.numTypes;h++)switch(this.pointTypes[h]){case d.awt.geom.PathIterator.SEG_MOVETO:o!==r&&(u+=sun.awt.geom.Curve.pointCrossingsForLine(t,e,i,o,n,r)),n=i=l[c++],r=o=l[c++];break;case d.awt.geom.PathIterator.SEG_LINETO:u+=sun.awt.geom.Curve.pointCrossingsForLine(t,e,i,o,a=l[c++],s=l[c++]),i=a,o=s;break;case d.awt.geom.PathIterator.SEG_QUADTO:u+=sun.awt.geom.Curve.pointCrossingsForQuad(t,e,i,o,l[c++],l[c++],a=l[c++],s=l[c++],0),i=a,o=s;break;case d.awt.geom.PathIterator.SEG_CUBICTO:u+=sun.awt.geom.Curve.pointCrossingsForCubic(t,e,i,o,l[c++],l[c++],l[c++],l[c++],a=l[c++],s=l[c++],0),i=a,o=s;break;case d.awt.geom.PathIterator.SEG_CLOSE:o!==r&&(u+=sun.awt.geom.Curve.pointCrossingsForLine(t,e,i,o,n,r)),i=n,o=r}return o!==r&&(u+=sun.awt.geom.Curve.pointCrossingsForLine(t,e,i,o,n,r)),u},e.prototype.rectCrossings=function(t,e,n,r){var i,o,a,s,l,u,c=this.floatCoords;i=a=c[0],o=s=c[1];for(var h=0,f=2,p=1;h!==sun.awt.geom.Curve.RECT_INTERSECTS&&p<this.numTypes;p++)switch(this.pointTypes[p]){case d.awt.geom.PathIterator.SEG_MOVETO:i===a&&o===s||(h=sun.awt.geom.Curve.rectCrossingsForLine(h,t,e,n,r,i,o,a,s)),a=i=c[f++],s=o=c[f++];break;case d.awt.geom.PathIterator.SEG_LINETO:h=sun.awt.geom.Curve.rectCrossingsForLine(h,t,e,n,r,i,o,l=c[f++],u=c[f++]),i=l,o=u;break;case d.awt.geom.PathIterator.SEG_QUADTO:h=sun.awt.geom.Curve.rectCrossingsForQuad(h,t,e,n,r,i,o,c[f++],c[f++],l=c[f++],u=c[f++],0),i=l,o=u;break;case d.awt.geom.PathIterator.SEG_CUBICTO:h=sun.awt.geom.Curve.rectCrossingsForCubic(h,t,e,n,r,i,o,c[f++],c[f++],c[f++],c[f++],l=c[f++],u=c[f++],0),i=l,o=u;break;case d.awt.geom.PathIterator.SEG_CLOSE:i===a&&o===s||(h=sun.awt.geom.Curve.rectCrossingsForLine(h,t,e,n,r,i,o,a,s)),i=a,o=s}return h===sun.awt.geom.Curve.RECT_INTERSECTS||i===a&&o===s||(h=sun.awt.geom.Curve.rectCrossingsForLine(h,t,e,n,r,i,o,a,s)),h},e.prototype.append=function(e,n){var r=this;if(!(null!=e&&null!=e.__interfaces&&0<=e.__interfaces.indexOf("java.awt.geom.PathIterator")||null===e)||"boolean"!=typeof n&&null!==n){if("number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if("number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n)throw new Error("invalid overload");return this.append$double$double(e,n)}return this.append$float$float(e,n)}return function(){for(var t=new Array(6);!e.isDone();){switch(e.currentSegment(t)){case d.awt.geom.Path2D.SEG_MOVETO_$LI$():if(!n||r.numTypes<1||r.numCoords<1){r.moveTo(t[0],t[1]);break}if(r.pointTypes[r.numTypes-1]!==d.awt.geom.Path2D.SEG_CLOSE_$LI$()&&r.floatCoords[r.numCoords-2]===t[0]&&r.floatCoords[r.numCoords-1]===t[1])break;r.lineTo(t[0],t[1]);break;case d.awt.geom.Path2D.SEG_LINETO_$LI$():r.lineTo(t[0],t[1]);break;case d.awt.geom.Path2D.SEG_QUADTO_$LI$():r.quadTo(t[0],t[1],t[2],t[3]);break;case d.awt.geom.Path2D.SEG_CUBICTO_$LI$():r.curveTo(t[0],t[1],t[2],t[3],t[4],t[5]);break;case d.awt.geom.Path2D.SEG_CLOSE_$LI$():r.closePath()}e.next(),n=!1}}()},e.prototype.transform=function(t){t.transform(this.floatCoords,0,this.floatCoords,0,this.numCoords/2|0)},e.prototype.getBounds2D=function(){var t,e,n,r,i=this.numCoords;if(0<i)for(e=r=this.floatCoords[--i],t=n=this.floatCoords[--i];0<i;){var o=this.floatCoords[--i],a=this.floatCoords[--i];a<t&&(t=a),o<e&&(e=o),n<a&&(n=a),r<o&&(r=o)}else t=e=n=r=0;return new d.awt.geom.Rectangle2D.Float(t,e,n-t,r-e)},e.prototype.getPathIterator$java_awt_geom_AffineTransform=function(t){return null==t?new e.CopyIterator(this):new e.TxIterator(this,t)},e.prototype.clone=function(){return null!=this&&this instanceof d.awt.geom.GeneralPath?new d.awt.geom.GeneralPath(this):new d.awt.geom.Path2D.Float(this)},e.serialVersionUID=0x61046d222872f000,e}(d.awt.geom.Path2D);t.Float=n,function(t){var e=function(e){function t(t){e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.geom.PathIterator"]}),this.floatCoords=t.floatCoords}return __extends(t,e),t.prototype.currentSegment=function(t){var e,n,r=this;if(null!=t&&t instanceof Array||null===t)return e=r.path.pointTypes[r.typeIdx],0<(n=d.awt.geom.Path2D.Iterator.curvecoords_$LI$()[e])&&d.lang.System.arraycopy(r.floatCoords,r.pointIdx,t,0,n),e;if(null!=t&&t instanceof Array||null===t)return this.currentSegment$double_A(t);throw new Error("invalid overload")},t.prototype.currentSegment$double_A=function(t){var e=this.path.pointTypes[this.typeIdx],n=d.awt.geom.Path2D.Iterator.curvecoords_$LI$()[e];if(0<n)for(var r=0;r<n;r++)t[r]=this.floatCoords[this.pointIdx+r];return e},t}(d.awt.geom.Path2D.Iterator);t.CopyIterator=e;var n=function(n){function t(t,e){n.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.geom.PathIterator"]}),this.floatCoords=t.floatCoords,this.affine=e}return __extends(t,n),t.prototype.currentSegment=function(t){var e,n,r=this;if(null!=t&&t instanceof Array||null===t)return e=r.path.pointTypes[r.typeIdx],0<(n=d.awt.geom.Path2D.Iterator.curvecoords_$LI$()[e])&&r.affine.transform(r.floatCoords,r.pointIdx,t,0,n/2|0),e;if(null!=t&&t instanceof Array||null===t)return this.currentSegment$double_A(t);throw new Error("invalid overload")},t.prototype.currentSegment$double_A=function(t){var e=this.path.pointTypes[this.typeIdx],n=d.awt.geom.Path2D.Iterator.curvecoords_$LI$()[e];return 0<n&&this.affine.transform(this.floatCoords,this.pointIdx,t,0,n/2|0),e},t}(d.awt.geom.Path2D.Iterator);t.TxIterator=n}(n=t.Float||(t.Float={}));var r=function(o){function e(n,r){var i=this;if((null!=n&&null!=n.__interfaces&&0<=n.__interfaces.indexOf("java.awt.Shape")||null===n)&&(null!=r&&r instanceof d.awt.geom.AffineTransform||null===r))o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),function(){if(null!=n&&n instanceof d.awt.geom.Path2D){var t=n;i.setWindingRule(t.windingRule),i.numTypes=t.numTypes,i.pointTypes=d.util.Arrays.copyOf(t.pointTypes,t.pointTypes.length),i.numCoords=t.numCoords,i.doubleCoords=t.cloneCoordsDouble(r)}else{var e=n.getPathIterator(r);i.setWindingRule(e.getWindingRule()),i.pointTypes=new Array(d.awt.geom.Path2D.INIT_SIZE),i.doubleCoords=new Array(2*d.awt.geom.Path2D.INIT_SIZE),i.append(e,!1)}}();else if("number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r)if((null!=n&&null!=n.__interfaces&&0<=n.__interfaces.indexOf("java.awt.Shape")||null===n)&&void 0===r)r=null,o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),function(){if(null!=n&&n instanceof d.awt.geom.Path2D){var t=n;i.setWindingRule(t.windingRule),i.numTypes=t.numTypes,i.pointTypes=d.util.Arrays.copyOf(t.pointTypes,t.pointTypes.length),i.numCoords=t.numCoords,i.doubleCoords=t.cloneCoordsDouble(r)}else{var e=n.getPathIterator(r);i.setWindingRule(e.getWindingRule()),i.pointTypes=new Array(d.awt.geom.Path2D.INIT_SIZE),i.doubleCoords=new Array(2*d.awt.geom.Path2D.INIT_SIZE),i.append(e,!1)}}();else if("number"!=typeof n&&null!==n||void 0!==r){if(void 0!==n||void 0!==r)throw new Error("invalid overload");t=d.awt.geom.Path2D.WIND_NON_ZERO_$LI$(),e=d.awt.geom.Path2D.INIT_SIZE,o.call(this,t,e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),i.doubleCoords=new Array(2*e)}else{var t=n,e=d.awt.geom.Path2D.INIT_SIZE;o.call(this,t,e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),i.doubleCoords=new Array(2*e)}else{var t=n,e=r;o.call(this,t,e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),i.doubleCoords=new Array(2*e)}}return __extends(e,o),e.prototype.cloneCoordsFloat=function(t){var e=new Array(this.doubleCoords.length);if(null==t)for(var n=0;n<this.numCoords;n++)e[n]=this.doubleCoords[n];else t.transform(this.doubleCoords,0,e,0,this.numCoords/2|0);return e},e.prototype.cloneCoordsDouble=function(t){var e;return null==t?e=d.util.Arrays.copyOf(this.doubleCoords,this.doubleCoords.length):(e=new Array(this.doubleCoords.length),t.transform(this.doubleCoords,0,e,0,this.numCoords/2|0)),e},e.prototype.append$float$float=function(t,e){this.doubleCoords[this.numCoords++]=t,this.doubleCoords[this.numCoords++]=e},e.prototype.append$double$double=function(t,e){this.doubleCoords[this.numCoords++]=t,this.doubleCoords[this.numCoords++]=e},e.prototype.getPoint=function(t){return new d.awt.geom.Point2D.Double(this.doubleCoords[t],this.doubleCoords[t+1])},e.prototype.needRoom=function(t,e){if(t&&0===this.numTypes)throw new d.awt.geom.IllegalPathStateException("missing initial moveto in path definition");var n,r=this.pointTypes.length;this.numTypes>=r&&((n=r)>d.awt.geom.Path2D.EXPAND_MAX&&(n=d.awt.geom.Path2D.EXPAND_MAX),this.pointTypes=d.util.Arrays.copyOf(this.pointTypes,r+n)),r=this.doubleCoords.length,this.numCoords+e>r&&((n=r)>2*d.awt.geom.Path2D.EXPAND_MAX&&(n=2*d.awt.geom.Path2D.EXPAND_MAX),n<e&&(n=e),this.doubleCoords=d.util.Arrays.copyOf(this.doubleCoords,r+n))},e.prototype.moveTo=function(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)throw new Error("invalid overload");return this.moveTo$double$double(t,e)},e.prototype.moveTo$double$double=function(t,e){0<this.numTypes&&this.pointTypes[this.numTypes-1]===d.awt.geom.Path2D.SEG_MOVETO_$LI$()?(this.doubleCoords[this.numCoords-2]=t,this.doubleCoords[this.numCoords-1]=e):(this.needRoom(!1,2),this.pointTypes[this.numTypes++]=d.awt.geom.Path2D.SEG_MOVETO_$LI$(),this.doubleCoords[this.numCoords++]=t,this.doubleCoords[this.numCoords++]=e)},e.prototype.lineTo=function(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)throw new Error("invalid overload");return this.lineTo$double$double(t,e)},e.prototype.lineTo$double$double=function(t,e){this.needRoom(!0,2),this.pointTypes[this.numTypes++]=d.awt.geom.Path2D.SEG_LINETO_$LI$(),this.doubleCoords[this.numCoords++]=t,this.doubleCoords[this.numCoords++]=e},e.prototype.quadTo=function(t,e,n,r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r)throw new Error("invalid overload");return this.quadTo$double$double$double$double(t,e,n,r)},e.prototype.quadTo$double$double$double$double=function(t,e,n,r){this.needRoom(!0,4),this.pointTypes[this.numTypes++]=d.awt.geom.Path2D.SEG_QUADTO_$LI$(),this.doubleCoords[this.numCoords++]=t,this.doubleCoords[this.numCoords++]=e,this.doubleCoords[this.numCoords++]=n,this.doubleCoords[this.numCoords++]=r},e.prototype.curveTo=function(t,e,n,r,i,o){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o)throw new Error("invalid overload");return this.curveTo$double$double$double$double$double$double(t,e,n,r,i,o)},e.prototype.curveTo$double$double$double$double$double$double=function(t,e,n,r,i,o){this.needRoom(!0,6),this.pointTypes[this.numTypes++]=d.awt.geom.Path2D.SEG_CUBICTO_$LI$(),this.doubleCoords[this.numCoords++]=t,this.doubleCoords[this.numCoords++]=e,this.doubleCoords[this.numCoords++]=n,this.doubleCoords[this.numCoords++]=r,this.doubleCoords[this.numCoords++]=i,this.doubleCoords[this.numCoords++]=o},e.prototype.pointCrossings=function(t,e){var n,r,i,o,a,s,l=this.doubleCoords;i=n=l[0],o=r=l[1];for(var u=0,c=2,h=1;h<this.numTypes;h++)switch(this.pointTypes[h]){case d.awt.geom.PathIterator.SEG_MOVETO:o!==r&&(u+=sun.awt.geom.Curve.pointCrossingsForLine(t,e,i,o,n,r)),n=i=l[c++],r=o=l[c++];break;case d.awt.geom.PathIterator.SEG_LINETO:u+=sun.awt.geom.Curve.pointCrossingsForLine(t,e,i,o,a=l[c++],s=l[c++]),i=a,o=s;break;case d.awt.geom.PathIterator.SEG_QUADTO:u+=sun.awt.geom.Curve.pointCrossingsForQuad(t,e,i,o,l[c++],l[c++],a=l[c++],s=l[c++],0),i=a,o=s;break;case d.awt.geom.PathIterator.SEG_CUBICTO:u+=sun.awt.geom.Curve.pointCrossingsForCubic(t,e,i,o,l[c++],l[c++],l[c++],l[c++],a=l[c++],s=l[c++],0),i=a,o=s;break;case d.awt.geom.PathIterator.SEG_CLOSE:o!==r&&(u+=sun.awt.geom.Curve.pointCrossingsForLine(t,e,i,o,n,r)),i=n,o=r}return o!==r&&(u+=sun.awt.geom.Curve.pointCrossingsForLine(t,e,i,o,n,r)),u},e.prototype.rectCrossings=function(t,e,n,r){var i,o,a,s,l,u,c=this.doubleCoords;i=a=c[0],o=s=c[1];for(var h=0,f=2,p=1;h!==sun.awt.geom.Curve.RECT_INTERSECTS&&p<this.numTypes;p++)switch(this.pointTypes[p]){case d.awt.geom.PathIterator.SEG_MOVETO:i===a&&o===s||(h=sun.awt.geom.Curve.rectCrossingsForLine(h,t,e,n,r,i,o,a,s)),a=i=c[f++],s=o=c[f++];break;case d.awt.geom.PathIterator.SEG_LINETO:l=c[f++],u=c[f++],h=sun.awt.geom.Curve.rectCrossingsForLine(h,t,e,n,r,i,o,l,u),i=l,o=u;break;case d.awt.geom.PathIterator.SEG_QUADTO:h=sun.awt.geom.Curve.rectCrossingsForQuad(h,t,e,n,r,i,o,c[f++],c[f++],l=c[f++],u=c[f++],0),i=l,o=u;break;case d.awt.geom.PathIterator.SEG_CUBICTO:h=sun.awt.geom.Curve.rectCrossingsForCubic(h,t,e,n,r,i,o,c[f++],c[f++],c[f++],c[f++],l=c[f++],u=c[f++],0),i=l,o=u;break;case d.awt.geom.PathIterator.SEG_CLOSE:i===a&&o===s||(h=sun.awt.geom.Curve.rectCrossingsForLine(h,t,e,n,r,i,o,a,s)),i=a,o=s}return h===sun.awt.geom.Curve.RECT_INTERSECTS||i===a&&o===s||(h=sun.awt.geom.Curve.rectCrossingsForLine(h,t,e,n,r,i,o,a,s)),h},e.prototype.append=function(e,n){var r=this;if(!(null!=e&&null!=e.__interfaces&&0<=e.__interfaces.indexOf("java.awt.geom.PathIterator")||null===e)||"boolean"!=typeof n&&null!==n){if("number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if("number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n)throw new Error("invalid overload");return this.append$double$double(e,n)}return this.append$float$float(e,n)}return function(){for(var t=new Array(6);!e.isDone();){switch(e.currentSegment(t)){case d.awt.geom.Path2D.SEG_MOVETO_$LI$():if(!n||r.numTypes<1||r.numCoords<1){r.moveTo(t[0],t[1]);break}if(r.pointTypes[r.numTypes-1]!==d.awt.geom.Path2D.SEG_CLOSE_$LI$()&&r.doubleCoords[r.numCoords-2]===t[0]&&r.doubleCoords[r.numCoords-1]===t[1])break;r.lineTo(t[0],t[1]);break;case d.awt.geom.Path2D.SEG_LINETO_$LI$():r.lineTo(t[0],t[1]);break;case d.awt.geom.Path2D.SEG_QUADTO_$LI$():r.quadTo(t[0],t[1],t[2],t[3]);break;case d.awt.geom.Path2D.SEG_CUBICTO_$LI$():r.curveTo(t[0],t[1],t[2],t[3],t[4],t[5]);break;case d.awt.geom.Path2D.SEG_CLOSE_$LI$():r.closePath()}e.next(),n=!1}}()},e.prototype.transform=function(t){t.transform(this.doubleCoords,0,this.doubleCoords,0,this.numCoords/2|0)},e.prototype.getBounds2D=function(){var t,e,n,r,i=this.numCoords;if(0<i)for(e=r=this.doubleCoords[--i],t=n=this.doubleCoords[--i];0<i;){var o=this.doubleCoords[--i],a=this.doubleCoords[--i];a<t&&(t=a),o<e&&(e=o),n<a&&(n=a),r<o&&(r=o)}else t=e=n=r=0;return new d.awt.geom.Rectangle2D.Double(t,e,n-t,r-e)},e.prototype.getPathIterator$java_awt_geom_AffineTransform=function(t){return null==t?new e.CopyIterator(this):new e.TxIterator(this,t)},e.prototype.clone=function(){return new d.awt.geom.Path2D.Double(this)},e.serialVersionUID=0x1959f6d4f9360800,e}(d.awt.geom.Path2D);t.Double=r,function(t){var e=function(e){function t(t){e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.geom.PathIterator"]}),this.doubleCoords=t.doubleCoords}return __extends(t,e),t.prototype.currentSegment=function(r){var i=this;if(null!=r&&r instanceof Array||null===r)return function(){var t=i.path.pointTypes[i.typeIdx],e=d.awt.geom.Path2D.Iterator.curvecoords_$LI$()[t];if(0<e)for(var n=0;n<e;n++)r[n]=i.doubleCoords[i.pointIdx+n];return t}();if(null!=r&&r instanceof Array||null===r)return this.currentSegment$double_A(r);throw new Error("invalid overload")},t.prototype.currentSegment$double_A=function(t){var e=this.path.pointTypes[this.typeIdx],n=d.awt.geom.Path2D.Iterator.curvecoords_$LI$()[e];return 0<n&&d.lang.System.arraycopy(this.doubleCoords,this.pointIdx,t,0,n),e},t}(d.awt.geom.Path2D.Iterator);t.CopyIterator=e;var n=function(n){function t(t,e){n.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.geom.PathIterator"]}),this.doubleCoords=t.doubleCoords,this.affine=e}return __extends(t,n),t.prototype.currentSegment=function(t){var e,n,r=this;if(null!=t&&t instanceof Array||null===t)return e=r.path.pointTypes[r.typeIdx],0<(n=d.awt.geom.Path2D.Iterator.curvecoords_$LI$()[e])&&r.affine.transform(r.doubleCoords,r.pointIdx,t,0,n/2|0),e;if(null!=t&&t instanceof Array||null===t)return this.currentSegment$double_A(t);throw new Error("invalid overload")},t.prototype.currentSegment$double_A=function(t){var e=this.path.pointTypes[this.typeIdx],n=d.awt.geom.Path2D.Iterator.curvecoords_$LI$()[e];return 0<n&&this.affine.transform(this.doubleCoords,this.pointIdx,t,0,n/2|0),e},t}(d.awt.geom.Path2D.Iterator);t.TxIterator=n}(r=t.Double||(t.Double={}))}(n=e.Path2D||(e.Path2D={}))}(java||(java={})),function(o){var t,e;t=o.awt||(o.awt={}),e=function(i){function t(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)if((null!=t&&t instanceof o.awt.Point||null===t)&&void 0===e){var r=t;t=r.x,e=r.y;i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,n.x=t,n.y=e}else{if(void 0!==t||void 0!==e)throw new Error("invalid overload");t=0,e=0;i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,n.x=t,n.y=e}else i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,n.x=t,n.y=e}return __extends(t,i),t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getLocation=function(){return new t(this.x,this.y)},t.prototype.setLocation$java_awt_Point=function(t){this.setLocation(t.x,t.y)},t.prototype.setLocation=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof o.awt.Point||null===t)&&void 0===e)return this.setLocation$java_awt_Point(t);if((null!=t&&t instanceof o.awt.geom.Point2D||null===t)&&void 0===e)return this.setLocation$java_awt_geom_Point2D(t);throw new Error("invalid overload")}return this.setLocation$double$double(t,e)}n.move(t,e)},t.prototype.setLocation$double$double=function(t,e){this.x=0|Math.floor(t+.5),this.y=0|Math.floor(e+.5)},t.prototype.move=function(t,e){this.x=t,this.y=e},t.prototype.translate=function(t,e){this.x+=t,this.y+=e},t.prototype.equals=function(t){if(null!=t&&t instanceof o.awt.Point){var e=t;return this.x===e.x&&this.y===e.y}return i.prototype.equals.call(this,t)},t.prototype.toString=function(){return"java.awt.Point[x="+this.x+",y="+this.y+"]"},t.serialVersionUID=-527694064025975e4,t}(o.awt.geom.Point2D),t.Point=e}(java||(java={})),function(A){var t,e,n;t=A.awt||(A.awt={}),e=t.geom||(t.geom={}),n=function(e){function x(t){void 0===t&&(t=x.OPEN),e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable"]}),this.type=0,this.setArcType(t)}return __extends(x,e),x.prototype.getArcType=function(){return this.type},x.prototype.getStartPoint=function(){var t=-this.getAngleStart()*Math.PI/180,e=this.getX()+(.5*Math.cos(t)+.5)*this.getWidth(),n=this.getY()+(.5*Math.sin(t)+.5)*this.getHeight();return new A.awt.geom.Point2D.Double(e,n)},x.prototype.getEndPoint=function(){var t=(-this.getAngleStart()-this.getAngleExtent())*Math.PI/180,e=this.getX()+(.5*Math.cos(t)+.5)*this.getWidth(),n=this.getY()+(.5*Math.sin(t)+.5)*this.getHeight();return new A.awt.geom.Point2D.Double(e,n)},x.prototype.setArc=function(t,e,n,r,i,o,a){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a){if(!(null!=t&&t instanceof A.awt.geom.Point2D||null===t)||!(null!=e&&e instanceof A.awt.geom.Dimension2D||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||void 0!==o||void 0!==a){if(!(null!=t&&t instanceof A.awt.geom.Rectangle2D||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||void 0!==i||void 0!==o||void 0!==a){if((null!=t&&t instanceof A.awt.geom.Arc2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o&&void 0===a)return this.setArc$java_awt_geom_Arc2D(t);throw new Error("invalid overload")}return this.setArc$java_awt_geom_Rectangle2D$double$double$int(t,e,n,r)}return this.setArc$java_awt_geom_Point2D$java_awt_geom_Dimension2D$double$double$int(t,e,n,r,i)}},x.prototype.setArc$java_awt_geom_Point2D$java_awt_geom_Dimension2D$double$double$int=function(t,e,n,r,i){this.setArc(t.getX(),t.getY(),e.getWidth(),e.getHeight(),n,r,i)},x.prototype.setArc$java_awt_geom_Rectangle2D$double$double$int=function(t,e,n,r){this.setArc(t.getX(),t.getY(),t.getWidth(),t.getHeight(),e,n,r)},x.prototype.setArc$java_awt_geom_Arc2D=function(t){this.setArc(t.getX(),t.getY(),t.getWidth(),t.getHeight(),t.getAngleStart(),t.getAngleExtent(),t.type)},x.prototype.setArcByCenter=function(t,e,n,r,i,o){this.setArc(t-n,e-n,2*n,2*n,r,i,o)},x.prototype.setArcByTangent=function(t,e,n,r){var i=Math.atan2(t.getY()-e.getY(),t.getX()-e.getX()),o=Math.atan2(n.getY()-e.getY(),n.getX()-e.getX()),a=o-i;a>Math.PI?o-=2*Math.PI:a<-Math.PI&&(o+=2*Math.PI);var s=(i+o)/2,l=Math.abs(o-s),u=r/Math.sin(l),c=e.getX()+u*Math.cos(s),h=e.getY()+u*Math.sin(s);i<o?(i-=Math.PI/2,o+=Math.PI/2):(i+=Math.PI/2,o-=Math.PI/2),i=180*-i/Math.PI,(a=(o=180*-o/Math.PI)-i)<0?a+=360:a-=360,this.setArcByCenter(c,h,r,i,a,this.type)},x.prototype.setAngleStart$double=function(t){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},x.prototype.setAngleStart=function(t){var e,n,r=this;if(null!=t&&t instanceof A.awt.geom.Point2D||null===t)return e=r.getHeight()*(t.getX()-r.getCenterX()),n=r.getWidth()*(t.getY()-r.getCenterY()),void r.setAngleStart(-180*Math.atan2(n,e)/Math.PI);if("number"==typeof t||null===t)return this.setAngleStart$double(t);throw new Error("invalid overload")},x.prototype.setAngles=function(t,e,n,r){var i,o,a,s,l,u,c=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof A.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof A.awt.geom.Point2D||null===e)&&void 0===n&&void 0===r)return this.setAngles$java_awt_geom_Point2D$java_awt_geom_Point2D(t,e);throw new Error("invalid overload")}return i=c.getCenterX(),o=c.getCenterY(),a=c.getWidth(),s=c.getHeight(),l=Math.atan2(a*(o-e),s*(t-i)),u=Math.atan2(a*(o-r),s*(n-i)),(u-=l)<=0&&(u+=2*Math.PI),c.setAngleStart(180*l/Math.PI),void c.setAngleExtent(180*u/Math.PI)},x.prototype.setAngles$java_awt_geom_Point2D$java_awt_geom_Point2D=function(t,e){this.setAngles(t.getX(),t.getY(),e.getX(),e.getY())},x.prototype.setArcType=function(t){if(t<x.OPEN||x.PIE<t)throw new A.lang.IllegalArgumentException("invalid type for Arc: "+t);this.type=t},x.prototype.setFrame=function(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof A.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof A.awt.geom.Dimension2D||null===e)&&void 0===n&&void 0===r)return this.setFrame$java_awt_geom_Point2D$java_awt_geom_Dimension2D(t,e);if((null!=t&&t instanceof A.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.setFrame$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}i.setArc(t,e,n,r,i.getAngleStart(),i.getAngleExtent(),i.type)},x.prototype.getBounds2D=function(){if(this.isEmpty())return this.makeBounds(this.getX(),this.getY(),this.getWidth(),this.getHeight());var t,e,n,r;this.getArcType()===x.PIE?t=e=n=r=0:(t=e=1,n=r=-1);for(var i=0,o=0;o<6;o++){if(o<4){if(i+=90,!this.containsAngle(i))continue}else 4===o?i=this.getAngleStart():i+=this.getAngleExtent();var a=-i*Math.PI/180,s=Math.cos(a),l=Math.sin(a);t=Math.min(t,s),e=Math.min(e,l),n=Math.max(n,s),r=Math.max(r,l)}var u=this.getWidth(),c=this.getHeight();return n=.5*(n-t)*u,r=.5*(r-e)*c,t=this.getX()+(.5*t+.5)*u,e=this.getY()+(.5*e+.5)*c,this.makeBounds(t,e,n,r)},x.normalizeDegrees=function(t){return 180<t?t<=540?t-=360:-180===(t=javaemul.internal.MathHelper.IEEEremainder(t,360))&&(t=180):t<=-180&&(-540<t?t+=360:-180===(t=javaemul.internal.MathHelper.IEEEremainder(t,360))&&(t=180)),t},x.prototype.containsAngle=function(t){var e=this.getAngleExtent(),n=e<0;return n&&(e=-e),360<=e||(t=x.normalizeDegrees(t)-x.normalizeDegrees(this.getAngleStart()),n&&(t=-t),t<0&&(t+=360),0<=t&&t<e)},x.prototype.contains$double$double=function(t,e){var n=this.getWidth();if(n<=0)return!1;var r=(t-this.getX())/n-.5,i=this.getHeight();if(i<=0)return!1;var o=(e-this.getY())/i-.5;if(.25<=r*r+o*o)return!1;var a=Math.abs(this.getAngleExtent());if(360<=a)return!0;var s=this.containsAngle(-180*Math.atan2(o,r)/Math.PI);if(this.type===x.PIE)return s;if(s){if(180<=a)return!0}else if(a<=180)return!1;var l=-this.getAngleStart()*Math.PI/180,u=Math.cos(l),c=Math.sin(l);l+=-this.getAngleExtent()*Math.PI/180;var h=Math.cos(l),f=Math.sin(l),p=0<=A.awt.geom.Line2D.relativeCCW(u,c,h,f,2*r,2*o)*A.awt.geom.Line2D.relativeCCW(u,c,h,f,0,0);return s?!p:p},x.prototype.intersects=function(y,_,b,w){var E=this;if("number"!=typeof y&&null!==y||"number"!=typeof _&&null!==_||"number"!=typeof b&&null!==b||"number"!=typeof w&&null!==w){if((null!=y&&y instanceof A.awt.geom.Rectangle2D||null===y)&&void 0===_&&void 0===b&&void 0===w)return this.intersects$java_awt_geom_Rectangle2D(y);throw new Error("invalid overload")}return function(){var t=E.getWidth(),e=E.getHeight();if(b<=0||w<=0||t<=0||e<=0)return!1;var n=E.getAngleExtent();if(0===n)return!1;var r=E.getX(),i=E.getY(),o=r+t,a=i+e,s=y+b,l=_+w;if(o<=y||a<=_||s<=r||l<=i)return!1;var u=E.getCenterX(),c=E.getCenterY(),h=E.getStartPoint(),f=E.getEndPoint(),p=h.getX(),d=h.getY(),v=f.getX(),m=f.getY();if(_<=c&&c<=l&&(p<s&&v<s&&u<s&&y<o&&E.containsAngle(0)||y<p&&y<v&&y<u&&r<s&&E.containsAngle(180)))return!0;if(y<=u&&u<=s&&(_<d&&_<m&&_<c&&i<l&&E.containsAngle(90)||d<l&&m<l&&c<l&&_<a&&E.containsAngle(270)))return!0;var g=new A.awt.geom.Rectangle2D.Double(y,_,b,w);if(E.type===x.PIE||180<Math.abs(n)){if(g.intersectsLine(u,c,p,d)||g.intersectsLine(u,c,v,m))return!0}else if(g.intersectsLine(p,d,v,m))return!0;return!!(E.contains(y,_)||E.contains(y+b,_)||E.contains(y,_+w)||E.contains(y+b,_+w))}()},x.prototype.contains$double$double$double$double=function(t,e,n,r){return this.contains(t,e,n,r,null)},x.prototype.contains$java_awt_geom_Rectangle2D=function(t){return this.contains(t.getX(),t.getY(),t.getWidth(),t.getHeight(),t)},x.prototype.contains=function(s,l,u,c,h){var f=this;if("number"!=typeof s&&null!==s||"number"!=typeof l&&null!==l||"number"!=typeof u&&null!==u||"number"!=typeof c&&null!==c||!(null!=h&&h instanceof A.awt.geom.Rectangle2D||null===h)){if("number"!=typeof s&&null!==s||"number"!=typeof l&&null!==l||"number"!=typeof u&&null!==u||"number"!=typeof c&&null!==c||void 0!==h){if("number"!=typeof s&&null!==s||"number"!=typeof l&&null!==l||void 0!==u||void 0!==c||void 0!==h){if((null!=s&&s instanceof A.awt.geom.Rectangle2D||null===s)&&void 0===l&&void 0===u&&void 0===c&&void 0===h)return this.contains$java_awt_geom_Rectangle2D(s);if((null!=s&&s instanceof A.awt.geom.Point2D||null===s)&&void 0===l&&void 0===u&&void 0===c&&void 0===h)return this.contains$java_awt_geom_Point2D(s);throw new Error("invalid overload")}return this.contains$double$double(s,l)}return this.contains$double$double$double$double(s,l,u,c)}return function(){if(!(f.contains(s,l)&&f.contains(s+u,l)&&f.contains(s,l+c)&&f.contains(s+u,l+c)))return!1;if(f.type!==x.PIE||Math.abs(f.getAngleExtent())<=180)return!0;null==h&&(h=new A.awt.geom.Rectangle2D.Double(s,l,u,c));var t=f.getWidth()/2,e=f.getHeight()/2,n=f.getX()+t,r=f.getY()+e,i=-f.getAngleStart()*Math.PI/180,o=n+t*Math.cos(i),a=r+e*Math.sin(i);return!h.intersectsLine(n,r,o,a)&&(i+=-f.getAngleExtent()*Math.PI/180,o=n+t*Math.cos(i),a=r+e*Math.sin(i),!h.intersectsLine(n,r,o,a))}()},x.prototype.getPathIterator$java_awt_geom_AffineTransform=function(t){return new A.awt.geom.ArcIterator(this,t)},x.prototype.hashCode=function(){var t=javaemul.internal.DoubleHelper.doubleToLongBits(this.getX());return t+=37*javaemul.internal.DoubleHelper.doubleToLongBits(this.getY()),t+=43*javaemul.internal.DoubleHelper.doubleToLongBits(this.getWidth()),t+=47*javaemul.internal.DoubleHelper.doubleToLongBits(this.getHeight()),t+=53*javaemul.internal.DoubleHelper.doubleToLongBits(this.getAngleStart()),t+=59*javaemul.internal.DoubleHelper.doubleToLongBits(this.getAngleExtent()),(0|(t+=61*this.getArcType()))^(t>>32|0)},x.prototype.equals=function(t){if(t===this)return!0;if(null!=t&&t instanceof A.awt.geom.Arc2D){var e=t;return this.getX()===e.getX()&&this.getY()===e.getY()&&this.getWidth()===e.getWidth()&&this.getHeight()===e.getHeight()&&this.getAngleStart()===e.getAngleStart()&&this.getAngleExtent()===e.getAngleExtent()&&this.getArcType()===e.getArcType()}return!1},x.OPEN=0,x.CHORD=1,x.PIE=2,x}(A.awt.geom.RectangularShape),e.Arc2D=n,function(t){var e=function(u){function t(t,e,n,r,i,o,a){var s=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a)if(!(null!=t&&t instanceof A.awt.geom.Rectangle2D||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||void 0!==i||void 0!==o||void 0!==a)if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a){if(void 0!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a)throw new Error("invalid overload");u.call(this,A.awt.geom.Arc2D.OPEN),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,this.start=0,this.extent=0}else a=t,u.call(this,a),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,this.start=0,this.extent=0;else{var l=t,a=(i=e,o=n,r);u.call(this,a),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,this.start=0,this.extent=0,s.x=l.getX(),s.y=l.getY(),s.width=l.getWidth(),s.height=l.getHeight(),s.start=i,s.extent=o}else u.call(this,a),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,this.start=0,this.extent=0,s.x=t,s.y=e,s.width=n,s.height=r,s.start=i,s.extent=o}return __extends(t,u),t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getAngleStart=function(){return this.start},t.prototype.getAngleExtent=function(){return this.extent},t.prototype.isEmpty=function(){return this.width<=0||this.height<=0},t.prototype.setArc=function(t,e,n,r,i,o,a){var s=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a){if(!(null!=t&&t instanceof A.awt.geom.Point2D||null===t)||!(null!=e&&e instanceof A.awt.geom.Dimension2D||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||void 0!==o||void 0!==a){if(!(null!=t&&t instanceof A.awt.geom.Rectangle2D||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||void 0!==i||void 0!==o||void 0!==a){if((null!=t&&t instanceof A.awt.geom.Arc2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o&&void 0===a)return this.setArc$java_awt_geom_Arc2D(t);throw new Error("invalid overload")}return this.setArc$java_awt_geom_Rectangle2D$double$double$int(t,e,n,r)}return this.setArc$java_awt_geom_Point2D$java_awt_geom_Dimension2D$double$double$int(t,e,n,r,i)}return s.setArcType(a),s.x=t,s.y=e,s.width=n,s.height=r,s.start=i,void(s.extent=o)},t.prototype.setAngleStart$double=function(t){this.start=t},t.prototype.setAngleExtent=function(t){this.extent=t},t.prototype.makeBounds=function(t,e,n,r){return new A.awt.geom.Rectangle2D.Float(t,e,n,r)},t.serialVersionUID=913089301458638e4,t}(A.awt.geom.Arc2D);t.Float=e;var n=function(u){function t(t,e,n,r,i,o,a){var s=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a)if(!(null!=t&&t instanceof A.awt.geom.Rectangle2D||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||void 0!==i||void 0!==o||void 0!==a)if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a){if(void 0!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a)throw new Error("invalid overload");u.call(this,A.awt.geom.Arc2D.OPEN),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,this.start=0,this.extent=0}else a=t,u.call(this,a),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,this.start=0,this.extent=0;else{var l=t,a=(i=e,o=n,r);u.call(this,a),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,this.start=0,this.extent=0,s.x=l.getX(),s.y=l.getY(),s.width=l.getWidth(),s.height=l.getHeight(),s.start=i,s.extent=o}else u.call(this,a),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,this.start=0,this.extent=0,s.x=t,s.y=e,s.width=n,s.height=r,s.start=i,s.extent=o}return __extends(t,u),t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getAngleStart=function(){return this.start},t.prototype.getAngleExtent=function(){return this.extent},t.prototype.isEmpty=function(){return this.width<=0||this.height<=0},t.prototype.setArc=function(t,e,n,r,i,o,a){var s=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a){if(!(null!=t&&t instanceof A.awt.geom.Point2D||null===t)||!(null!=e&&e instanceof A.awt.geom.Dimension2D||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||void 0!==o||void 0!==a){if(!(null!=t&&t instanceof A.awt.geom.Rectangle2D||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||void 0!==i||void 0!==o||void 0!==a){if((null!=t&&t instanceof A.awt.geom.Arc2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o&&void 0===a)return this.setArc$java_awt_geom_Arc2D(t);throw new Error("invalid overload")}return this.setArc$java_awt_geom_Rectangle2D$double$double$int(t,e,n,r)}return this.setArc$java_awt_geom_Point2D$java_awt_geom_Dimension2D$double$double$int(t,e,n,r,i)}return s.setArcType(a),s.x=t,s.y=e,s.width=n,s.height=r,s.start=i,void(s.extent=o)},t.prototype.setAngleStart$double=function(t){this.start=t},t.prototype.setAngleExtent=function(t){this.extent=t},t.prototype.makeBounds=function(t,e,n,r){return new A.awt.geom.Rectangle2D.Double(t,e,n,r)},t.serialVersionUID=0xa1b5053db93f700,t}(A.awt.geom.Arc2D);t.Double=n}(n=e.Arc2D||(e.Arc2D={}))}(java||(java={})),function(a){var t,e,n;t=a.awt||(a.awt={}),e=t.geom||(t.geom={}),n=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable"]})}return __extends(e,t),e.prototype.contains=function(t,e,n,r,i){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||void 0!==i){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i){if((null!=t&&t instanceof a.awt.geom.Point2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_geom_Point2D(t);if((null!=t&&t instanceof a.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.contains$double$double(t,e)}return this.contains$double$double$double$double(t,e,n,r)},e.prototype.contains$double$double=function(t,e){var n=this.getWidth();if(n<=0)return!1;var r=(t-this.getX())/n-.5,i=this.getHeight();if(i<=0)return!1;var o=(e-this.getY())/i-.5;return r*r+o*o<.25},e.prototype.intersects=function(l,u,c,h){var f=this;if("number"!=typeof l&&null!==l||"number"!=typeof u&&null!==u||"number"!=typeof c&&null!==c||"number"!=typeof h&&null!==h){if((null!=l&&l instanceof a.awt.geom.Rectangle2D||null===l)&&void 0===u&&void 0===c&&void 0===h)return this.intersects$java_awt_geom_Rectangle2D(l);throw new Error("invalid overload")}return function(){if(c<=0||h<=0)return!1;var t=f.getWidth();if(t<=0)return!1;var e=(l-f.getX())/t-.5,n=e+c/t,r=f.getHeight();if(r<=0)return!1;var i,o,a=(u-f.getY())/r-.5,s=a+h/r;return(i=0<e?e:n<0?n:0)*i+(o=0<a?a:s<0?s:0)*o<.25}()},e.prototype.contains$double$double$double$double=function(t,e,n,r){return this.contains(t,e)&&this.contains(t+n,e)&&this.contains(t,e+r)&&this.contains(t+n,e+r)},e.prototype.getPathIterator$java_awt_geom_AffineTransform=function(t){return new a.awt.geom.EllipseIterator(this,t)},e.prototype.hashCode=function(){var t=javaemul.internal.DoubleHelper.doubleToLongBits(this.getX());return t+=37*javaemul.internal.DoubleHelper.doubleToLongBits(this.getY()),t+=43*javaemul.internal.DoubleHelper.doubleToLongBits(this.getWidth()),(0|(t+=47*javaemul.internal.DoubleHelper.doubleToLongBits(this.getHeight())))^(t>>32|0)},e.prototype.equals=function(t){if(t===this)return!0;if(null!=t&&t instanceof a.awt.geom.Ellipse2D){var e=t;return this.getX()===e.getX()&&this.getY()===e.getY()&&this.getWidth()===e.getWidth()&&this.getHeight()===e.getHeight()}return!1},e}(a.awt.geom.RectangularShape),e.Ellipse2D=n,function(t){var e=function(o){function t(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if(void 0!==t||void 0!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0}else o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,i.setFrame(t,e,n,r)}return __extends(t,o),t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isEmpty=function(){return this.width<=0||this.height<=0},t.prototype.setFrame=function(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof a.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof a.awt.geom.Dimension2D||null===e)&&void 0===n&&void 0===r)return this.setFrame$java_awt_geom_Point2D$java_awt_geom_Dimension2D(t,e);if((null!=t&&t instanceof a.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.setFrame$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.setFrame$double$double$double$double(t,e,n,r)}return i.x=t,i.y=e,i.width=n,void(i.height=r)},t.prototype.setFrame$double$double$double$double=function(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r},t.prototype.getBounds2D=function(){return new a.awt.geom.Rectangle2D.Float(this.x,this.y,this.width,this.height)},t.serialVersionUID=-0x5c0fdab63c697000,t}(a.awt.geom.Ellipse2D);t.Float=e;var n=function(o){function t(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if(void 0!==t||void 0!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0}else o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,i.setFrame(t,e,n,r)}return __extends(t,o),t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isEmpty=function(){return this.width<=0||this.height<=0},t.prototype.setFrame=function(t,e,n,r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof a.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof a.awt.geom.Dimension2D||null===e)&&void 0===n&&void 0===r)return this.setFrame$java_awt_geom_Point2D$java_awt_geom_Dimension2D(t,e);if((null!=t&&t instanceof a.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.setFrame$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.setFrame$double$double$double$double(t,e,n,r)},t.prototype.setFrame$double$double$double$double=function(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r},t.prototype.getBounds2D=function(){return new a.awt.geom.Rectangle2D.Double(this.x,this.y,this.width,this.height)},t.serialVersionUID=555546481637232e4,t}(a.awt.geom.Ellipse2D);t.Double=n}(n=e.Ellipse2D||(e.Ellipse2D={}))}(java||(java={})),function(c){var t,e,n;t=c.awt||(c.awt={}),e=t.geom||(t.geom={}),n=function(t){function u(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable"]})}return __extends(u,t),u.prototype.setRect=function(t,e,n,r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof c.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.setRect$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.setRect$double$double$double$double(t,e,n,r)},u.prototype.setRect$double$double$double$double=function(t,e,n,r){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},u.prototype.setRect$java_awt_geom_Rectangle2D=function(t){this.setRect(t.getX(),t.getY(),t.getWidth(),t.getHeight())},u.prototype.intersectsLine=function(i,o,a,s){var l=this;if("number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a||"number"!=typeof s&&null!==s){if((null!=i&&i instanceof c.awt.geom.Line2D||null===i)&&void 0===o&&void 0===a&&void 0===s)return this.intersectsLine$java_awt_geom_Line2D(i);throw new Error("invalid overload")}return function(){var t,e;if(0===(e=l.outcode(a,s)))return!0;for(;0!==(t=l.outcode(i,o));){if(0!=(t&e))return!1;if(0!=(t&(u.OUT_LEFT|u.OUT_RIGHT))){var n=l.getX();0!=(t&u.OUT_RIGHT)&&(n+=l.getWidth()),o+=(n-i)*(s-o)/(a-i),i=n}else{var r=l.getY();0!=(t&u.OUT_BOTTOM)&&(r+=l.getHeight()),i+=(r-o)*(a-i)/(s-o),o=r}}return!0}()},u.prototype.intersectsLine$java_awt_geom_Line2D=function(t){return this.intersectsLine(t.getX1(),t.getY1(),t.getX2(),t.getY2())},u.prototype.outcode=function(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof c.awt.geom.Point2D||null===t)&&void 0===e)return this.outcode$java_awt_geom_Point2D(t);throw new Error("invalid overload")}return 0},u.prototype.outcode$java_awt_geom_Point2D=function(t){return this.outcode(t.getX(),t.getY())},u.prototype.setFrame=function(t,e,n,r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof c.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof c.awt.geom.Dimension2D||null===e)&&void 0===n&&void 0===r)return this.setFrame$java_awt_geom_Point2D$java_awt_geom_Dimension2D(t,e);if((null!=t&&t instanceof c.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.setFrame$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.setFrame$double$double$double$double(t,e,n,r)},u.prototype.setFrame$double$double$double$double=function(t,e,n,r){this.setRect(t,e,n,r)},u.prototype.getBounds2D=function(){return this.clone()},u.prototype.contains=function(t,e,n,r,i){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||void 0!==i){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i){if((null!=t&&t instanceof c.awt.geom.Point2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_geom_Point2D(t);if((null!=t&&t instanceof c.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.contains$double$double(t,e)}return this.contains$double$double$double$double(t,e,n,r)},u.prototype.contains$double$double=function(t,e){var n=this.getX(),r=this.getY();return n<=t&&r<=e&&t<n+this.getWidth()&&e<r+this.getHeight()},u.prototype.intersects=function(n,r,i,o){var a=this;if("number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if((null!=n&&n instanceof c.awt.geom.Rectangle2D||null===n)&&void 0===r&&void 0===i&&void 0===o)return this.intersects$java_awt_geom_Rectangle2D(n);throw new Error("invalid overload")}return function(){if(a.isEmpty()||i<=0||o<=0)return!1;var t=a.getX(),e=a.getY();return t<n+i&&e<r+o&&n<t+a.getWidth()&&r<e+a.getHeight()}()},u.prototype.contains$double$double$double$double=function(t,e,n,r){if(this.isEmpty()||n<=0||r<=0)return!1;var i=this.getX(),o=this.getY();return i<=t&&o<=e&&t+n<=i+this.getWidth()&&e+r<=o+this.getHeight()},u.intersect=function(t,e,n){var r=Math.max(t.getMinX(),e.getMinX()),i=Math.max(t.getMinY(),e.getMinY()),o=Math.min(t.getMaxX(),e.getMaxX()),a=Math.min(t.getMaxY(),e.getMaxY());n.setFrame(r,i,o-r,a-i)},u.union=function(t,e,n){var r=Math.min(t.getMinX(),e.getMinX()),i=Math.min(t.getMinY(),e.getMinY()),o=Math.max(t.getMaxX(),e.getMaxX()),a=Math.max(t.getMaxY(),e.getMaxY());n.setFrameFromDiagonal(r,i,o,a)},u.prototype.add=function(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof c.awt.geom.Point2D||null===t)&&void 0===e)return this.add$java_awt_geom_Point2D(t);if((null!=t&&t instanceof c.awt.geom.Rectangle2D||null===t)&&void 0===e)return this.add$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.add$double$double(t,e)},u.prototype.add$double$double=function(t,e){var n=Math.min(this.getMinX(),t),r=Math.max(this.getMaxX(),t),i=Math.min(this.getMinY(),e),o=Math.max(this.getMaxY(),e);this.setRect(n,i,r-n,o-i)},u.prototype.add$java_awt_geom_Point2D=function(t){this.add(t.getX(),t.getY())},u.prototype.add$java_awt_geom_Rectangle2D=function(t){var e=Math.min(this.getMinX(),t.getMinX()),n=Math.max(this.getMaxX(),t.getMaxX()),r=Math.min(this.getMinY(),t.getMinY()),i=Math.max(this.getMaxY(),t.getMaxY());this.setRect(e,r,n-e,i-r)},u.prototype.getPathIterator$java_awt_geom_AffineTransform=function(t){return new c.awt.geom.RectIterator(this,t)},u.prototype.getPathIterator=function(t,e){var n=this;if(!(null!=t&&t instanceof c.awt.geom.AffineTransform||null===t)||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof c.awt.geom.AffineTransform||null===t)&&void 0===e)return this.getPathIterator$java_awt_geom_AffineTransform(t);throw new Error("invalid overload")}return new c.awt.geom.RectIterator(n,t)},u.prototype.hashCode=function(){var t=javaemul.internal.DoubleHelper.doubleToLongBits(this.getX());return t+=37*javaemul.internal.DoubleHelper.doubleToLongBits(this.getY()),t+=43*javaemul.internal.DoubleHelper.doubleToLongBits(this.getWidth()),(0|(t+=47*javaemul.internal.DoubleHelper.doubleToLongBits(this.getHeight())))^(t>>32|0)},u.prototype.equals=function(t){if(t===this)return!0;if(null!=t&&t instanceof c.awt.geom.Rectangle2D){var e=t;return this.getX()===e.getX()&&this.getY()===e.getY()&&this.getWidth()===e.getWidth()&&this.getHeight()===e.getHeight()}return!1},u.OUT_LEFT=1,u.OUT_TOP=2,u.OUT_RIGHT=4,u.OUT_BOTTOM=8,u}(c.awt.geom.RectangularShape),e.Rectangle2D=n,function(e){var t=function(o){function t(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if(void 0!==t||void 0!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0}else o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,i.setRect(t,e,n,r)}return __extends(t,o),t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isEmpty=function(){return this.width<=0||this.height<=0},t.prototype.setRect=function(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof c.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.setRect$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.setRect$double$double$double$double(t,e,n,r)}return i.x=t,i.y=e,i.width=n,void(i.height=r)},t.prototype.setRect$double$double$double$double=function(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r},t.prototype.setRect$java_awt_geom_Rectangle2D=function(t){this.x=t.getX(),this.y=t.getY(),this.width=t.getWidth(),this.height=t.getHeight()},t.prototype.outcode=function(t,e){var n,r=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof c.awt.geom.Point2D||null===t)&&void 0===e)return this.outcode$java_awt_geom_Point2D(t);throw new Error("invalid overload")}return n=0,r.width<=0?n|=c.awt.geom.Rectangle2D.OUT_LEFT|c.awt.geom.Rectangle2D.OUT_RIGHT:t<r.x?n|=c.awt.geom.Rectangle2D.OUT_LEFT:t>r.x+r.width&&(n|=c.awt.geom.Rectangle2D.OUT_RIGHT),r.height<=0?n|=c.awt.geom.Rectangle2D.OUT_TOP|c.awt.geom.Rectangle2D.OUT_BOTTOM:e<r.y?n|=c.awt.geom.Rectangle2D.OUT_TOP:e>r.y+r.height&&(n|=c.awt.geom.Rectangle2D.OUT_BOTTOM),n},t.prototype.getBounds2D=function(){return new e.Float(this.x,this.y,this.width,this.height)},t.prototype.createIntersection=function(t){var e;return e=null!=t&&t instanceof c.awt.geom.Rectangle2D.Float?new c.awt.geom.Rectangle2D.Float:new c.awt.geom.Rectangle2D.Double,c.awt.geom.Rectangle2D.intersect(this,t,e),e},t.prototype.createUnion=function(t){var e;return e=null!=t&&t instanceof c.awt.geom.Rectangle2D.Float?new c.awt.geom.Rectangle2D.Float:new c.awt.geom.Rectangle2D.Double,c.awt.geom.Rectangle2D.union(this,t,e),e},t.prototype.toString=function(){return"java.awt.geom.Rectangle2D.Float[x="+this.x+",y="+this.y+",w="+this.width+",h="+this.height+"]"},t.serialVersionUID=0x34b7c0d33b2c0600,t}(c.awt.geom.Rectangle2D);e.Float=t;var n=function(o){function t(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if(void 0!==t||void 0!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0}else o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,i.setRect(t,e,n,r)}return __extends(t,o),t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isEmpty=function(){return this.width<=0||this.height<=0},t.prototype.setRect=function(t,e,n,r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof c.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.setRect$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.setRect$double$double$double$double(t,e,n,r)},t.prototype.setRect$double$double$double$double=function(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r},t.prototype.setRect$java_awt_geom_Rectangle2D=function(t){this.x=t.getX(),this.y=t.getY(),this.width=t.getWidth(),this.height=t.getHeight()},t.prototype.outcode=function(t,e){var n,r=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof c.awt.geom.Point2D||null===t)&&void 0===e)return this.outcode$java_awt_geom_Point2D(t);throw new Error("invalid overload")}return n=0,r.width<=0?n|=c.awt.geom.Rectangle2D.OUT_LEFT|c.awt.geom.Rectangle2D.OUT_RIGHT:t<r.x?n|=c.awt.geom.Rectangle2D.OUT_LEFT:t>r.x+r.width&&(n|=c.awt.geom.Rectangle2D.OUT_RIGHT),r.height<=0?n|=c.awt.geom.Rectangle2D.OUT_TOP|c.awt.geom.Rectangle2D.OUT_BOTTOM:e<r.y?n|=c.awt.geom.Rectangle2D.OUT_TOP:e>r.y+r.height&&(n|=c.awt.geom.Rectangle2D.OUT_BOTTOM),n},t.prototype.getBounds2D=function(){return new e.Double(this.x,this.y,this.width,this.height)},t.prototype.createIntersection=function(t){var e=new c.awt.geom.Rectangle2D.Double;return c.awt.geom.Rectangle2D.intersect(this,t,e),e},t.prototype.createUnion=function(t){var e=new c.awt.geom.Rectangle2D.Double;return c.awt.geom.Rectangle2D.union(this,t,e),e},t.prototype.toString=function(){return"java.awt.geom.Rectangle2D.Double[x="+this.x+",y="+this.y+",w="+this.width+",h="+this.height+"]"},t.serialVersionUID=777131379144185e4,t}(c.awt.geom.Rectangle2D);e.Double=n}(n=e.Rectangle2D||(e.Rectangle2D={}))}(java||(java={})),function(l){var t,e,n;t=l.awt||(l.awt={}),e=t.geom||(t.geom={}),n=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable"]})}return __extends(e,t),e.prototype.setRoundRect=function(t,e,n,r,i,o){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if((null!=t&&t instanceof l.awt.geom.RoundRectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o)return this.setRoundRect$java_awt_geom_RoundRectangle2D(t);throw new Error("invalid overload")}return this.setRoundRect$double$double$double$double$double$double(t,e,n,r,i,o)},e.prototype.setRoundRect$double$double$double$double$double$double=function(t,e,n,r,i,o){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},e.prototype.setRoundRect$java_awt_geom_RoundRectangle2D=function(t){this.setRoundRect(t.getX(),t.getY(),t.getWidth(),t.getHeight(),t.getArcWidth(),t.getArcHeight())},e.prototype.setFrame=function(t,e,n,r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof l.awt.geom.Point2D||null===t)&&(null!=e&&e instanceof l.awt.geom.Dimension2D||null===e)&&void 0===n&&void 0===r)return this.setFrame$java_awt_geom_Point2D$java_awt_geom_Dimension2D(t,e);if((null!=t&&t instanceof l.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.setFrame$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.setFrame$double$double$double$double(t,e,n,r)},e.prototype.setFrame$double$double$double$double=function(t,e,n,r){this.setRoundRect(t,e,n,r,this.getArcWidth(),this.getArcHeight())},e.prototype.contains=function(t,e,n,r,i){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||void 0!==i){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i){if((null!=t&&t instanceof l.awt.geom.Point2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_geom_Point2D(t);if((null!=t&&t instanceof l.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.contains$double$double(t,e)}return this.contains$double$double$double$double(t,e,n,r)},e.prototype.contains$double$double=function(t,e){if(this.isEmpty())return!1;var n=this.getX(),r=this.getY(),i=n+this.getWidth(),o=r+this.getHeight();if(t<n||e<r||i<=t||o<=e)return!1;var a=Math.min(this.getWidth(),Math.abs(this.getArcWidth()))/2,s=Math.min(this.getHeight(),Math.abs(this.getArcHeight()))/2;return t>=(n+=a)&&t<(n=i-a)||e>=(r+=s)&&e<(r=o-s)||(t=(t-n)/a)*t+(e=(e-r)/s)*e<=1},e.prototype.classify=function(t,e,n,r){return t<e?0:t<e+r?1:t<n-r?2:t<n?3:4},e.prototype.intersects=function(c,h,f,p){var d=this;if("number"!=typeof c&&null!==c||"number"!=typeof h&&null!==h||"number"!=typeof f&&null!==f||"number"!=typeof p&&null!==p){if((null!=c&&c instanceof l.awt.geom.Rectangle2D||null===c)&&void 0===h&&void 0===f&&void 0===p)return this.intersects$java_awt_geom_Rectangle2D(c);throw new Error("invalid overload")}return function(){if(d.isEmpty()||f<=0||p<=0)return!1;var t=d.getX(),e=d.getY(),n=t+d.getWidth(),r=e+d.getHeight();if(c+f<=t||n<=c||h+p<=e||r<=h)return!1;var i=Math.min(d.getWidth(),Math.abs(d.getArcWidth()))/2,o=Math.min(d.getHeight(),Math.abs(d.getArcHeight()))/2,a=d.classify(c,t,n,i),s=d.classify(c+f,t,n,i),l=d.classify(h,e,r,o),u=d.classify(h+p,e,r,o);return 2===a||2===s||2===l||2===u||a<2&&2<s||l<2&&2<u||(c=1===s?c=c+f-(t+i):c-=n-i,h=1===u?h=h+p-(e+o):h-=r-o,(c/=i)*c+(h/=o)*h<=1)}()},e.prototype.contains$double$double$double$double=function(t,e,n,r){return!(this.isEmpty()||n<=0||r<=0)&&this.contains(t,e)&&this.contains(t+n,e)&&this.contains(t,e+r)&&this.contains(t+n,e+r)},e.prototype.getPathIterator$java_awt_geom_AffineTransform=function(t){return new l.awt.geom.RoundRectIterator(this,t)},e.prototype.hashCode=function(){var t=javaemul.internal.DoubleHelper.doubleToLongBits(this.getX());return t+=37*javaemul.internal.DoubleHelper.doubleToLongBits(this.getY()),t+=43*javaemul.internal.DoubleHelper.doubleToLongBits(this.getWidth()),t+=47*javaemul.internal.DoubleHelper.doubleToLongBits(this.getHeight()),t+=53*javaemul.internal.DoubleHelper.doubleToLongBits(this.getArcWidth()),(0|(t+=59*javaemul.internal.DoubleHelper.doubleToLongBits(this.getArcHeight())))^(t>>32|0)},e.prototype.equals=function(t){if(t===this)return!0;if(null!=t&&t instanceof l.awt.geom.RoundRectangle2D){var e=t;return this.getX()===e.getX()&&this.getY()===e.getY()&&this.getWidth()===e.getWidth()&&this.getHeight()===e.getHeight()&&this.getArcWidth()===e.getArcWidth()&&this.getArcHeight()===e.getArcHeight()}return!1},e}(l.awt.geom.RectangularShape),e.RoundRectangle2D=n,function(t){var e=function(s){function t(t,e,n,r,i,o){var a=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if(void 0!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o)throw new Error("invalid overload");s.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,this.arcwidth=0,this.archeight=0}else s.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,this.arcwidth=0,this.archeight=0,a.setRoundRect(t,e,n,r,i,o)}return __extends(t,s),t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getArcWidth=function(){return this.arcwidth},t.prototype.getArcHeight=function(){return this.archeight},t.prototype.isEmpty=function(){return this.width<=0||this.height<=0},t.prototype.setRoundRect=function(t,e,n,r,i,o){var a=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if((null!=t&&t instanceof l.awt.geom.RoundRectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o)return this.setRoundRect$java_awt_geom_RoundRectangle2D(t);throw new Error("invalid overload")}return this.setRoundRect$double$double$double$double$double$double(t,e,n,r,i,o)}return a.x=t,a.y=e,a.width=n,a.height=r,a.arcwidth=i,void(a.archeight=o)},t.prototype.setRoundRect$double$double$double$double$double$double=function(t,e,n,r,i,o){this.x=t,this.y=e,this.width=n,this.height=r,this.arcwidth=i,this.archeight=o},t.prototype.setRoundRect$java_awt_geom_RoundRectangle2D=function(t){this.x=t.getX(),this.y=t.getY(),this.width=t.getWidth(),this.height=t.getHeight(),this.arcwidth=t.getArcWidth(),this.archeight=t.getArcHeight()},t.prototype.getBounds2D=function(){return new l.awt.geom.Rectangle2D.Float(this.x,this.y,this.width,this.height)},t.serialVersionUID=-0x2f817959ce067200,t}(l.awt.geom.RoundRectangle2D);t.Float=e;var n=function(s){function t(t,e,n,r,i,o){var a=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if(void 0!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o)throw new Error("invalid overload");s.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,this.arcwidth=0,this.archeight=0}else s.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,this.arcwidth=0,this.archeight=0,a.setRoundRect(t,e,n,r,i,o)}return __extends(t,s),t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getArcWidth=function(){return this.arcwidth},t.prototype.getArcHeight=function(){return this.archeight},t.prototype.isEmpty=function(){return this.width<=0||this.height<=0},t.prototype.setRoundRect=function(t,e,n,r,i,o){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if((null!=t&&t instanceof l.awt.geom.RoundRectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i&&void 0===o)return this.setRoundRect$java_awt_geom_RoundRectangle2D(t);throw new Error("invalid overload")}return this.setRoundRect$double$double$double$double$double$double(t,e,n,r,i,o)},t.prototype.setRoundRect$double$double$double$double$double$double=function(t,e,n,r,i,o){this.x=t,this.y=e,this.width=n,this.height=r,this.arcwidth=i,this.archeight=o},t.prototype.setRoundRect$java_awt_geom_RoundRectangle2D=function(t){this.x=t.getX(),this.y=t.getY(),this.width=t.getWidth(),this.height=t.getHeight(),this.arcwidth=t.getArcWidth(),this.archeight=t.getArcHeight()},t.prototype.getBounds2D=function(){return new l.awt.geom.Rectangle2D.Double(this.x,this.y,this.width,this.height)},t.serialVersionUID=0xe8e94c42b521a80,t}(l.awt.geom.RoundRectangle2D);t.Double=n}(n=e.RoundRectangle2D||(e.RoundRectangle2D={}))}(java||(java={})),function(t){var e,n;e=t.awt||(t.awt={}),n=function(e){function t(t){e.call(this),this.canvas=t,this.context=t.getContext("2d")}return __extends(t,e),t.prototype.drawString=function(t,e,n){this.context.fillText(t,e,n)},t.prototype.getCanvas=function(){return this.canvas},t.prototype.getContext=function(){return this.context},t}(t.awt.Graphics),e.WebGraphics2D=n}(java||(java={})),function(l){var t,e;t=l.io||(l.io={}),e=function(t){function e(){t.call(this),this.PREFIX="LSFS://"}return __extends(e,t),e.prototype.getSeparator=function(){return"/"},e.prototype.getPathSeparator=function(){return":"},e.prototype.normalize=function(o,a,s){if("string"!=typeof o&&null!==o||"number"!=typeof a&&null!==a||"number"!=typeof s&&null!==s){if("string"!=typeof o&&null!==o||void 0!==a||void 0!==s)throw new Error("invalid overload");return this.normalize$java_lang_String(o)}return function(){if(0===a)return o;for(var t=a;0<t&&"/"===o.charAt(t-1);)t--;if(0===t)return"/";var e=new l.lang.StringBuffer(o.length);0<s&&e.append(o.substring(0,s));for(var n=String.fromCharCode(0),r=s;r<t;r++){var i=o.charAt(r);"/"===n&&"/"===i||(e.append(i),n=i)}return e.toString()}()},e.prototype.normalize$java_lang_String=function(t){for(var e=t.length,n=String.fromCharCode(0),r=0;r<e;r++){var i=t.charAt(r);if("/"===n&&"/"===i)return this.normalize(t,e,r-1);n=i}return"/"===n?this.normalize(t,e,e-1):t},e.prototype.prefixLength=function(t){return 0===t.length?0:"/"===t.charAt(0)?1:0},e.prototype.resolve=function(t,e){if("string"!=typeof t&&null!==t||"string"!=typeof e&&null!==e){if((null!=t&&t instanceof l.io.File||null===t)&&void 0===e)return this.resolve$java_io_File(t);throw new Error("invalid overload")}return""===e?t:"/"===e.charAt(0)?"/"===t?e:t+e:"/"===t?t+e:t+"/"+e},e.prototype.getDefaultParent=function(){return"/"},e.prototype.fromURIPath=function(t){var e,n,r,i=t;return n=(e=i).length-"/".length,-1!==(r=e.indexOf("/",n))&&r===n&&1<i.length&&(i=i.substring(0,i.length-1)),i},e.prototype.isAbsolute=function(t){return 0!==t.getPrefixLength()},e.prototype.resolve$java_io_File=function(t){return this.isAbsolute(t)?t.getPath():this.resolve(l.lang.System.getProperty("user.dir"),t.getPath())},e.prototype.canonicalize=function(t){return this.normalize(t)},e.prototype.getBooleanAttributes=function(t){var e=this.getEntry(t.getAbsolutePath());return null==e?0:e.attributes},e.prototype.checkAccess=function(t,e){return 0!=(this.getEntry(t.getAbsolutePath()).access&e)},e.prototype.setPermission=function(t,e,n,r){return!1},e.prototype.getLastModifiedTime=function(t){return this.getEntry(t.getAbsolutePath()).lastModifiedTime},e.prototype.getLength=function(t){return this.getEntry(t.getAbsolutePath()).length},e.prototype.clear=function(){for(var t=0;t<localStorage.length;t++){var e=localStorage.key(t);n=e,r=this.PREFIX,(i=void 0)===i&&(i=0),n.substr(i,r.length)===r&&localStorage.removeItem(e)}var n,r,i},e.prototype.getKey=function(t){return this.PREFIX+t},e.prototype.createFileExclusively=function(t){var e=new l.io.File(t);if(t=e.getAbsolutePath(),this.hasEntry(t))return!1;var n=e.getParentFile();if(null!=n){var r=n.getAbsolutePath(),i=this.getDirectoryEntry(r);if(null==i)throw new l.io.IOException("directory does not exist: "+r);i.entries.push(e.getName()),this.putEntry(r,i)}return this.putEntry(t,Object.defineProperty({lastModifiedTime:l.lang.System.currentTimeMillis(),length:0,data:"",attributes:l.io.FileSystem.BA_EXISTS|l.io.FileSystem.BA_REGULAR,access:l.io.FileSystem.ACCESS_READ|l.io.FileSystem.ACCESS_WRITE},"__interfaces",{configurable:!0,value:["java.io.LocalStorageFileSystem.Entry"]})),!0},e.prototype.hasEntry=function(t){return null!=localStorage.getItem(this.getKey(t))},e.prototype.getEntry=function(t){return JSON.parse(localStorage.getItem(this.getKey(t)))},e.prototype.getDirectoryEntry=function(t){return JSON.parse(localStorage.getItem(this.getKey(t)))},e.prototype.putEntry=function(t,e){localStorage.setItem(this.getKey(t),JSON.stringify(e))},e.prototype.getChildEntries=function(t){var e=this.getDirectoryEntry(t);return null!=e?e.entries:new Array},e.prototype.removeEntry=function(t){for(var e=this.getChildEntries(t),n=0;n<e.length;n++){var r=e[n];this.removeEntry(t+"/"+r)}localStorage.removeItem(this.getKey(t))},e.prototype.delete=function(t){if(this.hasEntry(t.getAbsolutePath())){this.removeEntry(t.getAbsolutePath());var e=t.getParentFile().getAbsolutePath(),n=this.getDirectoryEntry(e),r=n.entries;return n.entries=r.splice(r.indexOf(t.getName()),1),this.putEntry(e,n),!0}return!1},e.prototype.list=function(t){return this.getChildEntries(t.getAbsolutePath())},e.prototype.createDirectory=function(t){if(this.hasEntry(t.getAbsolutePath()))return!1;var e=t.getParentFile();if(null!=e){var n=e.getAbsolutePath(),r=this.getDirectoryEntry(n);if(null==r)return!1;r.entries.push(t.getName()),this.putEntry(n,r)}return this.putEntry(t.getAbsolutePath(),Object.defineProperty({attributes:l.io.FileSystem.BA_DIRECTORY|l.io.FileSystem.BA_EXISTS,access:l.io.FileSystem.ACCESS_READ|l.io.FileSystem.ACCESS_WRITE,entries:new Array(0)},"__interfaces",{configurable:!0,value:["java.io.LocalStorageFileSystem.DirectoryEntry","java.io.LocalStorageFileSystem.Entry"]})),!0},e.prototype.rename=function(t,e){var n=this.getEntry(t.getAbsolutePath()),r=this.getEntry(e.getAbsolutePath());if(null==n||null!=r)return!1;this.delete(t);try{this.createFileExclusively(e.getAbsolutePath())}catch(t){return!1}return this.putEntry(e.getAbsolutePath(),n),!0},e.prototype.setLastModifiedTime=function(t,e){var n=this.getEntry(t.getAbsolutePath());return null!=n&&(n.lastModifiedTime=e,!0)},e.prototype.setReadOnly=function(t){return this.getEntry(t.getAbsolutePath()).access&=~l.io.FileSystem.ACCESS_WRITE,!0},e.prototype.listRoots=function(){return null==this.roots&&(this.roots=[new l.io.File("/")]),this.roots},e.prototype.getSpace=function(t,e){return 0},e.prototype.compare=function(t,e){return t.getAbsolutePath().localeCompare(e.getAbsolutePath())},e.prototype.hashCode=function(t){return t.getAbsolutePath().toString()},e}(l.io.FileSystem),t.LocalStorageFileSystem=e}(java||(java={})),function(o){var t,e;t=o.io||(o.io={}),e=function(r){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=-1),r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable"]}),this.pos=0,this._mark=0,this.count=0,-1===n&&(n=t.length),this.buf=t,this.pos=e,this._mark=e,this.count=e+n>t.length?t.length:e+n}return __extends(t,r),t.prototype.available=function(){return this.count-this.pos},t.prototype.close=function(){},t.prototype.mark=function(t){this._mark=this.pos},t.prototype.markSupported=function(){return!0},t.prototype.read$=function(){return this.read(null,0,0)},t.prototype.read=function(e,n,r){var i=this;if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=e&&e instanceof Array||null===e)&&void 0===n&&void 0===r)return this.read$byte_A(e);if(void 0===e&&void 0===n&&void 0===r)return this.read$();throw new Error("invalid overload")}return function(){if(null==e)return i.pos<i.count?255&i.buf[i.pos++]:-1;if(o.io.IOUtils.checkOffsetAndCount(e,n,r),i.pos>=i.count)return-1;if(0===r)return 0;var t=i.count-i.pos<r?i.count-i.pos:r;return o.lang.System.arraycopy(i.buf,i.pos,e,n,t),i.pos+=t,t}()},t.prototype.reset=function(){this.pos=this._mark},t.prototype.skip=function(t){if(t<=0)return 0;var e=this.pos;return this.pos=this.count-this.pos<t?this.count:this.pos+t|0,this.pos-e},t}(o.io.InputStream),t.ByteArrayInputStream=e}(java||(java={})),function(i){var t,e;t=i.io||(i.io={}),e=function(r){function t(t){var e=this;if("string"==typeof t||null===t){var n=null!=t?new i.io.File(t):null;r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable"]}),this.index=0,function(){if(null==(null!=n?n.getPath():null))throw new i.lang.NullPointerException;if(n.isInvalid())throw new i.io.FileNotFoundException("Invalid file path");if(!n.exists())throw new i.io.FileNotFoundException;e.content=atob(i.io.File.fs_$LI$().getEntry(n.getAbsolutePath()).data),e.index=0}()}else{if(!(null!=t&&t instanceof i.io.File||null===t))throw new Error("invalid overload");n=t;r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable"]}),this.index=0,function(){if(null==(null!=n?n.getPath():null))throw new i.lang.NullPointerException;if(n.isInvalid())throw new i.io.FileNotFoundException("Invalid file path");if(!n.exists())throw new i.io.FileNotFoundException;e.content=atob(i.io.File.fs_$LI$().getEntry(n.getAbsolutePath()).data),e.index=0}()}}return __extends(t,r),t.prototype.read$=function(){return this.index>=this.content.length?-1:this.content[this.index++]},t.prototype.readBytes=function(t,e,n){if(this.index>=this.content.length)return-1;for(var r=0,i=e;i<e+n&&!(this.index>=this.content.length);i++)t[i]=this.content[this.index++],r++;return r},t.prototype.read$byte_A=function(t){return this.readBytes(t,0,t.length)},t.prototype.read=function(t,e,n){var r=this;if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n)return this.read$byte_A(t);if(void 0===t&&void 0===e&&void 0===n)return this.read$();throw new Error("invalid overload")}return r.readBytes(t,e,n)},t.prototype.skip=function(t){return this.index+=t,t},t.prototype.available=function(){return this.content.length-this.index},t.prototype.close=function(){},t}(i.io.InputStream),t.FileInputStream=e}(java||(java={})),function(t){var e,n;e=t.io||(t.io={}),n=function(e){function t(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable"]}),this.in=t}return __extends(t,e),t.prototype.available=function(){return this.in.available()},t.prototype.close=function(){this.in.close()},t.prototype.mark=function(t){this.in.mark(t)},t.prototype.markSupported=function(){return this.in.markSupported()},t.prototype.read$=function(){return this.in.read()},t.prototype.read=function(t,e,n){var r=this;if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n)return this.read$byte_A(t);if(void 0===t&&void 0===e&&void 0===n)return this.read$();throw new Error("invalid overload")}return r.in.read(t,e,n)},t.prototype.reset=function(){this.in.reset()},t.prototype.skip=function(t){return this.in.skip(t)},t}(t.io.InputStream),e.FilterInputStream=n}(java||(java={})),function(i){var t,e;t=i.io||(i.io={}),e=function(n){function t(t){var e=this;if("number"==typeof t||null===t)n.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}),this.count=0,function(){if(!(0<=t))throw new i.lang.IllegalArgumentException("size < 0");e.buf=new Array(t)}();else{if(void 0!==t)throw new Error("invalid overload");n.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}),this.count=0,e.buf=new Array(32)}}return __extends(t,n),t.prototype.close=function(){n.prototype.close.call(this)},t.prototype.expand=function(t){if(!(this.count+t<=this.buf.length)){var e=new Array(2*(this.count+t));i.lang.System.arraycopy(this.buf,0,e,0,this.count),this.buf=e}},t.prototype.reset=function(){this.count=0},t.prototype.size=function(){return this.count},t.prototype.toByteArray=function(){var t=new Array(this.count);return i.lang.System.arraycopy(this.buf,0,t,0,this.count),t},t.prototype.toString$=function(){return t=this.buf.map(function(t){return String.fromCharCode(t)}).join(""),e=this.count,t.substring(0,0+e);var t,e},t.prototype.toString$int=function(t){for(var e=new Array(this.size()),n=0;n<e.length;n++)e[n]=String.fromCharCode((255&t)<<8|255&this.buf[n]);return new String(e)},t.prototype.toString=function(t){var e,n,r=this;if("string"==typeof t||null===t)return e=r.buf.map(function(t){return String.fromCharCode(t)}).join(""),n=r.count,e.substring(0,0+n);if("number"==typeof t||null===t)return this.toString$int(t);if(void 0===t)return this.toString$();throw new Error("invalid overload")},t.prototype.write=function(t,e,n){var r=this;if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n)return this.write$byte_A(t);if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return this.write$int(t)}return i.io.IOUtils.checkOffsetAndCount(t,e,n),void(0!==n&&(r.expand(n),i.lang.System.arraycopy(t,e,r.buf,r.count,n),r.count+=n))},t.prototype.write$int=function(t){this.count===this.buf.length&&this.expand(1),this.buf[this.count++]=0|t},t.prototype.writeTo=function(t){t.write(this.buf,0,this.count)},t}(i.io.OutputStream),t.ByteArrayOutputStream=e}(java||(java={})),function(o){var t,e;t=o.io||(o.io={}),e=function(i){function t(t,e){var n=this;if("string"!=typeof t&&null!==t||"boolean"!=typeof e&&null!==e)if(!(null!=t&&t instanceof o.io.File||null===t)||"boolean"!=typeof e&&null!==e)if("string"!=typeof t&&null!==t||void 0!==e){if(!(null!=t&&t instanceof o.io.File||null===t)||void 0!==e)throw new Error("invalid overload");r=t,e=!1;i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}),this.append=!1,function(){if(!r.exists())throw new o.io.FileNotFoundException;n.file=r,n.append=e,n.entry=o.io.File.fs_$LI$().getEntry(r.getAbsolutePath()),n.content=e?n.entry.data.split("").map(function(t){return t.charCodeAt(0)}):new Array(0)}()}else{r=null!=t?new o.io.File(t):null;var e=!1;i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}),this.append=!1,function(){if(!r.exists())throw new o.io.FileNotFoundException;n.file=r,n.append=e,n.entry=o.io.File.fs_$LI$().getEntry(r.getAbsolutePath()),n.content=e?n.entry.data.split("").map(function(t){return t.charCodeAt(0)}):new Array(0)}()}else{var r=t;i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}),this.append=!1,function(){if(!r.exists())throw new o.io.FileNotFoundException;n.file=r,n.append=e,n.entry=o.io.File.fs_$LI$().getEntry(r.getAbsolutePath()),n.content=e?n.entry.data.split("").map(function(t){return t.charCodeAt(0)}):new Array(0)}()}else{var r=null!=t?new o.io.File(t):null;i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}),this.append=!1,function(){if(!r.exists())throw new o.io.FileNotFoundException;n.file=r,n.append=e,n.entry=o.io.File.fs_$LI$().getEntry(r.getAbsolutePath()),n.content=e?n.entry.data.split("").map(function(t){return t.charCodeAt(0)}):new Array(0)}()}}return __extends(t,i),t.prototype.write$int$boolean=function(t,e){this.content.push(0|t)},t.prototype.write$int=function(t){this.write(t,this.append)},t.prototype.writeBytes=function(t,e,n,r){for(var i=e;i<e+n;i++)this.content.push(t[i])},t.prototype.write$byte_A=function(t){this.writeBytes(t,0,t.length,this.append)},t.prototype.write=function(t,e,n){var r=this;if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if("number"!=typeof t&&null!==t||"boolean"!=typeof e&&null!==e||void 0!==n){if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n)return this.write$byte_A(t);if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return this.write$int(t)}return this.write$int$boolean(t,e)}r.writeBytes(t,e,n,r.append)},t.prototype.flush=function(){this.entry.data=btoa(this.content.map(function(t,e,n){return String.fromCharCode(t)}).join("")),o.io.File.fs_$LI$().putEntry(this.file.getAbsolutePath(),this.entry)},t.prototype.close=function(){this.flush()},t}(o.io.OutputStream),t.FileOutputStream=e}(java||(java={})),function(o){var t,e;t=o.io||(o.io={}),e=function(e){function t(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}),this.out=t}return __extends(t,e),t.prototype.close=function(){var e=null;try{this.flush()}catch(t){e=t}try{this.out.close()}catch(t){null==e&&(e=t)}if(null!=e)throw new o.io.IOException(e)},t.prototype.flush=function(){this.out.flush()},t.prototype.write=function(e,n,r){var i=this;if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=e&&e instanceof Array||null===e)&&void 0===n&&void 0===r)return this.write$byte_A(e);if("number"!=typeof e&&null!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.write$int(e)}return function(){o.io.IOUtils.checkOffsetAndCount(e,n,r);for(var t=0;t<r;t++)i.write(e[n+t])}()},t.prototype.write$int=function(t){this.out.write(t)},t}(o.io.OutputStream),t.FilterOutputStream=e}(java||(java={})),function(f){var t,e;t=f.io||(f.io={}),e=function(r){function h(t,e){var n=this;if(!(null!=t&&t instanceof f.io.Reader||null===t)||"number"!=typeof e&&null!==e){if(!(null!=t&&t instanceof f.io.Reader||null===t)||void 0!==e)throw new Error("invalid overload");e=h.defaultCharBufferSize;r.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable"]}),this.nChars=0,this.nextChar=0,this.markedChar=0,this.readAheadLimit=0,this.skipLF=!1,this.markedSkipLF=!1,function(){if(n.markedChar=h.UNMARKED,n.readAheadLimit=0,n.skipLF=!1,n.markedSkipLF=!1,e<=0)throw new f.lang.IllegalArgumentException("Buffer size <= 0");n.in=t,n.cb=new Array(e),n.nextChar=n.nChars=0}()}else r.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable"]}),this.nChars=0,this.nextChar=0,this.markedChar=0,this.readAheadLimit=0,this.skipLF=!1,this.markedSkipLF=!1,function(){if(n.markedChar=h.UNMARKED,n.readAheadLimit=0,n.skipLF=!1,n.markedSkipLF=!1,e<=0)throw new f.lang.IllegalArgumentException("Buffer size <= 0");n.in=t,n.cb=new Array(e),n.nextChar=n.nChars=0}()}return __extends(h,r),h.prototype.ensureOpen=function(){if(null==this.in)throw new f.io.IOException("Stream closed")},h.prototype.fill=function(){var t,e;if(this.markedChar<=h.UNMARKED)t=0;else{var n=this.nextChar-this.markedChar;if(n>=this.readAheadLimit)this.markedChar=h.INVALIDATED,t=this.readAheadLimit=0;else{if(this.readAheadLimit<=this.cb.length)f.lang.System.arraycopy(this.cb,this.markedChar,this.cb,0,n),this.markedChar=0,t=n;else{var r=new Array(this.readAheadLimit);f.lang.System.arraycopy(this.cb,this.markedChar,r,0,n),this.cb=r,this.markedChar=0,t=n}this.nextChar=this.nChars=n}}for(;0===(e=this.in.read(this.cb,t,this.cb.length-t)););0<e&&(this.nChars=t+e,this.nextChar=t)},h.prototype.read$=function(){for(this.ensureOpen();;){if(this.nextChar>=this.nChars&&(this.fill(),this.nextChar>=this.nChars))return-1;if(!this.skipLF||(this.skipLF=!1,"\n"!==this.cb[this.nextChar]))return this.cb[this.nextChar++].charCodeAt(0);this.nextChar++}},h.prototype.read1=function(t,e,n){if(this.nextChar>=this.nChars){if(n>=this.cb.length&&this.markedChar<=h.UNMARKED&&!this.skipLF)return this.in.read(t,e,n);this.fill()}if(this.nextChar>=this.nChars)return-1;if(this.skipLF&&(this.skipLF=!1,"\n"===this.cb[this.nextChar]&&(this.nextChar++,this.nextChar>=this.nChars&&this.fill(),this.nextChar>=this.nChars)))return-1;var r=Math.min(n,this.nChars-this.nextChar);return f.lang.System.arraycopy(this.cb,this.nextChar,t,e,r),this.nextChar+=r,r},h.prototype.read=function(n,r,i){var o=this;if(!(null!=n&&n instanceof Array||null===n)||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i){if((null!=n&&n instanceof Array||null===n)&&void 0===r&&void 0===i)return this.read$char_A(n);if(void 0===n&&void 0===r&&void 0===i)return this.read$();throw new Error("invalid overload")}return function(){if(o.ensureOpen(),r<0||r>n.length||i<0||r+i>n.length||r+i<0)throw new f.lang.IndexOutOfBoundsException;if(0===i)return 0;var t=o.read1(n,r,i);if(t<=0)return t;for(;t<i&&o.in.ready();){var e=o.read1(n,r+t,i-t);if(e<=0)break;t+=e}return t}()},h.prototype.readLine=function(t){void 0===t&&(t=!1);var e,n,r,i,o=null;this.ensureOpen();for(var a=t||this.skipLF;;){if(this.nextChar>=this.nChars&&this.fill(),this.nextChar>=this.nChars)return null!=o&&0<o.length()?o.toString():null;var s,l,u=!1,c=String.fromCharCode(0);a&&"\n"===this.cb[this.nextChar]&&this.nextChar++,a=this.skipLF=!1;t:for(s=this.nextChar;s<this.nChars;s++)if("\n"===(c=this.cb[s])||"\r"===c){u=!0;break t}if(e=this.nextChar,this.nextChar=s,u)return null==o?(n=this.cb.join(""),i=s-(r=e),l=n.substring(r,r+i)):(o.append(this.cb,e,s-e),l=o.toString()),this.nextChar++,"\r"===c&&(this.skipLF=!0),l;null==o&&(o=new f.lang.StringBuffer(h.defaultExpectedLineLength)),o.append(this.cb,e,s-e)}},h.prototype.skip=function(t){if(t<0)throw new f.lang.IllegalArgumentException("skip value is negative");this.ensureOpen();for(var e=t;0<e&&(this.nextChar>=this.nChars&&this.fill(),!(this.nextChar>=this.nChars));){this.skipLF&&(this.skipLF=!1,"\n"===this.cb[this.nextChar]&&this.nextChar++);var n=this.nChars-this.nextChar;if(e<=n){this.nextChar+=e,e=0;break}e-=n,this.nextChar=this.nChars}return t-e},h.prototype.ready=function(){return this.ensureOpen(),this.skipLF&&(this.nextChar>=this.nChars&&this.in.ready()&&this.fill(),this.nextChar<this.nChars&&("\n"===this.cb[this.nextChar]&&this.nextChar++,this.skipLF=!1)),this.nextChar<this.nChars||this.in.ready()},h.prototype.markSupported=function(){return!0},h.prototype.mark=function(t){if(t<0)throw new f.lang.IllegalArgumentException("Read-ahead limit < 0");this.ensureOpen(),this.readAheadLimit=t,this.markedChar=this.nextChar,this.markedSkipLF=this.skipLF},h.prototype.reset=function(){if(this.ensureOpen(),this.markedChar<0)throw new f.io.IOException(this.markedChar===h.INVALIDATED?"Mark invalid":"Stream not marked");this.nextChar=this.markedChar,this.skipLF=this.markedSkipLF},h.prototype.close=function(){if(null!=this.in)try{this.in.close()}finally{this.in=null,this.cb=null}},h.INVALIDATED=-2,h.UNMARKED=-1,h.defaultCharBufferSize=8192,h.defaultExpectedLineLength=80,h}(f.io.Reader),t.BufferedReader=e}(java||(java={})),function(o){var t,e;t=o.io||(o.io={}),e=function(i){function t(t,e){var n=this;if(!(null!=t&&t instanceof o.io.InputStream||null===t)||"string"!=typeof e&&null!==e)if((null!=t&&t instanceof o.io.InputStream||null===t)&&(null!=e&&e instanceof o.nio.charset.Charset||null===e)){var r=e;i.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable"]}),function(){if(n.in=t,null==r)throw new o.lang.NullPointerException("charset")}()}else{if(!(null!=t&&t instanceof o.io.InputStream||null===t)||void 0!==e)throw new Error("invalid overload");i.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable"]}),n.in=t}else i.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable"]}),n.in=t}return __extends(t,i),t.prototype.read=function(t,e,n){var r,i=this;if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n)return this.read$char_A(t);if(void 0===t&&void 0===e&&void 0===n)return this.read$();throw new Error("invalid overload")}return r=t,i.in.read(r,e,n)},t.prototype.ready=function(){return 0<this.in.available()},t.prototype.close=function(){this.in.close()},t}(o.io.Reader),t.InputStreamReader=e}(java||(java={})),function(o){var t,e;t=o.io||(o.io={}),e=function(i){function t(t,e){var n=this;if(!(null!=t&&t instanceof o.io.OutputStream||null===t)||"string"!=typeof e&&null!==e)if((null!=t&&t instanceof o.io.OutputStream||null===t)&&(null!=e&&e instanceof o.nio.charset.Charset||null===e)){var r=e;i.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Appendable","java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}),function(){if(null==r)throw new o.lang.NullPointerException("charset");n.out=t}()}else{if(!(null!=t&&t instanceof o.io.OutputStream||null===t)||void 0!==e)throw new Error("invalid overload");i.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Appendable","java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}),n.out=t}else i.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Appendable","java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}),function(){if(null==e)throw new o.lang.NullPointerException("charsetName");n.out=t}()}return __extends(t,i),t.prototype.flushBuffer=function(){this.out.flush()},t.prototype.write$int=function(t){this.out.write(t)},t.prototype.write=function(t,e,n){var r,i=this;if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if("string"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n)return this.write$char_A(t);if("string"!=typeof t&&null!==t||void 0!==e||void 0!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return this.write$int(t)}return this.write$java_lang_String(t)}return this.write$java_lang_String$int$int(t,e,n)}return r=t,void i.out.write(r,e,n)},t.prototype.write$java_lang_String$int$int=function(t,e,n){this.out.write(t.split("").map(function(t){return t.charCodeAt(0)}),e,n)},t.prototype.flush=function(){this.out.flush()},t.prototype.close=function(){this.out.close()},t}(o.io.Writer),t.OutputStreamWriter=e}(java||(java={})),function(a){var t,e;t=a.lang||(a.lang={}),e=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.CharSequence","java.lang.Appendable"]});else if(null!=t&&(null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof t)||null===t)e.call(this,new String(t).toString()),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.CharSequence","java.lang.Appendable"]});else if("number"==typeof t||null===t){e.call(this,""),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.CharSequence","java.lang.Appendable"]})}else{if(void 0!==t)throw new Error("invalid overload");e.call(this,""),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.CharSequence","java.lang.Appendable"]})}}return __extends(t,e),t.prototype.append$boolean=function(t){return this.string+=t,this},t.prototype.append$char=function(t){return this.string+=t,this},t.prototype.append$char_A=function(t){return this.string+=new String(t).toString(),this},t.prototype.append=function(t,e,n){var r,i,o=this;if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&(null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof t)||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n)return this.append$char_A(t);if("string"!=typeof t&&null!==t||void 0!==e||void 0!==n){if((null!=t&&t instanceof a.lang.StringBuffer||null===t)&&void 0===e&&void 0===n)return this.append$java_lang_StringBuffer(t);if((null!=t&&(null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof t)||null===t)&&void 0===e&&void 0===n)return this.append$java_lang_CharSequence(t);if("boolean"!=typeof t&&null!==t||void 0!==e||void 0!==n){if("string"!=typeof t&&null!==t||void 0!==e||void 0!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n){if(null==t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return this.append$java_lang_Object(t)}return this.append$double(t)}return this.append$float(t)}return this.append$long(t)}return this.append$int(t)}return this.append$char(t)}return this.append$boolean(t)}return this.append$java_lang_String(t)}return this.append$java_lang_CharSequence$int$int(t,e,n)}return o.string+=(r=e,i=n,t.join("").substring(r,r+i)),o},t.prototype.append$java_lang_CharSequence=function(t){return this.string+=t,this},t.prototype.append$java_lang_CharSequence$int$int=function(t,e,n){return this.append0(t,e,n),this},t.prototype.append$double=function(t){return this.string+=t,this},t.prototype.append$float=function(t){return this.string+=t,this},t.prototype.append$int=function(t){return this.string+=t,this},t.prototype.append$long=function(t){return this.string+=t,this},t.prototype.append$java_lang_Object=function(t){return this.string+=t,this},t.prototype.append$java_lang_String=function(t){return this.string+=t,this},t.prototype.append$java_lang_StringBuffer=function(t){return this.string+=t,this},t.prototype.appendCodePoint=function(t){return this.appendCodePoint0(t),this},t.prototype.delete=function(t,e){return this.replace0(t,e,""),this},t.prototype.deleteCharAt=function(t){return this.replace0(t,t+1,""),this},t.prototype.insert$int$boolean=function(t,e){return this.insert(t,new String(e).toString())},t.prototype.insert$int$char=function(t,e){return this.insert(t,new String(e).toString())},t.prototype.insert$int$char_A=function(t,e){return this.insert(t,new String(e).toString())},t.prototype.insert=function(t,e,n,r){var i,o,a=this;if("number"!=typeof t&&null!==t||!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if("number"!=typeof t&&null!==t||!(null!=e&&(null!=e.__interfaces&&0<=e.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof e)||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if("number"!=typeof t&&null!==t||!(null!=e&&e instanceof Array||null===e)||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||"string"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||!(null!=e&&(null!=e.__interfaces&&0<=e.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof e)||null===e)||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||"boolean"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||"string"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||null==e&&null!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.insert$int$java_lang_Object(t,e)}return this.insert$int$double(t,e)}return this.insert$int$float(t,e)}return this.insert$int$long(t,e)}return this.insert$int$int(t,e)}return this.insert$int$char(t,e)}return this.insert$int$boolean(t,e)}return this.insert$int$java_lang_CharSequence(t,e)}return this.insert$int$java_lang_String(t,e)}return this.insert$int$char_A(t,e)}return this.insert$int$java_lang_CharSequence$int$int(t,e,n,r)}return a.insert(t,(i=n,o=r,e.join("").substring(i,i+o)))},t.prototype.insert$int$java_lang_CharSequence=function(t,e){return this.insert(t,e.toString())},t.prototype.insert$int$java_lang_CharSequence$int$int=function(t,e,n,r){return this.insert(t,e.substring(n,r).toString())},t.prototype.insert$int$double=function(t,e){return this.insert(t,new String(e).toString())},t.prototype.insert$int$float=function(t,e){return this.insert(t,new String(e).toString())},t.prototype.insert$int$int=function(t,e){return this.insert(t,new String(e).toString())},t.prototype.insert$int$long=function(t,e){return this.insert(t,new String(e).toString())},t.prototype.insert$int$java_lang_Object=function(t,e){return this.insert(t,new String(e).toString())},t.prototype.insert$int$java_lang_String=function(t,e){return this.replace0(t,t,e),this},t.prototype.replace=function(t,e,n){return this.replace0(t,e,n),this},t.prototype.reverse=function(){return this.reverse0(),this},t}(a.lang.AbstractStringBuilder),t.StringBuffer=e}(java||(java={})),function(a){var t,e;t=a.lang||(a.lang={}),e=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.CharSequence","java.lang.Appendable"]});else if(null!=t&&(null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof t)||null===t)e.call(this,new String(t).toString()),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.CharSequence","java.lang.Appendable"]});else if("number"==typeof t||null===t){e.call(this,""),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.CharSequence","java.lang.Appendable"]})}else{if(void 0!==t)throw new Error("invalid overload");e.call(this,""),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.CharSequence","java.lang.Appendable"]})}}return __extends(t,e),t.prototype.append$boolean=function(t){return this.string+=t,this},t.prototype.append$char=function(t){return this.string+=t,this},t.prototype.append$char_A=function(t){return this.string+=new String(t).toString(),this},t.prototype.append=function(t,e,n){var r,i,o=this;if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&(null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof t)||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n)return this.append$char_A(t);if("string"!=typeof t&&null!==t||void 0!==e||void 0!==n){if((null!=t&&t instanceof a.lang.StringBuffer||null===t)&&void 0===e&&void 0===n)return this.append$java_lang_StringBuffer(t);if((null!=t&&(null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof t)||null===t)&&void 0===e&&void 0===n)return this.append$java_lang_CharSequence(t);if("boolean"!=typeof t&&null!==t||void 0!==e||void 0!==n){if("string"!=typeof t&&null!==t||void 0!==e||void 0!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n){if(null==t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return this.append$java_lang_Object(t)}return this.append$double(t)}return this.append$float(t)}return this.append$long(t)}return this.append$int(t)}return this.append$char(t)}return this.append$boolean(t)}return this.append$java_lang_String(t)}return this.append$java_lang_CharSequence$int$int(t,e,n)}return o.string+=(r=e,i=n,t.join("").substring(r,r+i)),o},t.prototype.append$java_lang_CharSequence=function(t){return this.string+=t,this},t.prototype.append$java_lang_CharSequence$int$int=function(t,e,n){return this.append0(t,e,n),this},t.prototype.append$double=function(t){return this.string+=t,this},t.prototype.append$float=function(t){return this.string+=t,this},t.prototype.append$int=function(t){return this.string+=t,this},t.prototype.append$long=function(t){return this.string+=t,this},t.prototype.append$java_lang_Object=function(t){return this.string+=t,this},t.prototype.append$java_lang_String=function(t){return this.string+=t,this},t.prototype.append$java_lang_StringBuffer=function(t){return this.string+=t,this},t.prototype.appendCodePoint=function(t){return this.appendCodePoint0(t),this},t.prototype.delete=function(t,e){return this.replace0(t,e,""),this},t.prototype.deleteCharAt=function(t){return this.replace0(t,t+1,""),this},t.prototype.insert$int$boolean=function(t,e){return this.insert(t,new String(e).toString())},t.prototype.insert$int$char=function(t,e){return this.replace0(t,t,new String(e).toString()),this},t.prototype.insert$int$char_A=function(t,e){return this.insert(t,new String(e).toString())},t.prototype.insert=function(t,e,n,r){var i,o,a=this;if("number"!=typeof t&&null!==t||!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if("number"!=typeof t&&null!==t||!(null!=e&&(null!=e.__interfaces&&0<=e.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof e)||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if("number"!=typeof t&&null!==t||!(null!=e&&e instanceof Array||null===e)||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||"string"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||!(null!=e&&(null!=e.__interfaces&&0<=e.__interfaces.indexOf("java.lang.CharSequence")||"string"==typeof e)||null===e)||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||"boolean"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||"string"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r){if("number"!=typeof t&&null!==t||null==e&&null!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.insert$int$java_lang_Object(t,e)}return this.insert$int$double(t,e)}return this.insert$int$float(t,e)}return this.insert$int$long(t,e)}return this.insert$int$int(t,e)}return this.insert$int$char(t,e)}return this.insert$int$boolean(t,e)}return this.insert$int$java_lang_CharSequence(t,e)}return this.insert$int$java_lang_String(t,e)}return this.insert$int$char_A(t,e)}return this.insert$int$java_lang_CharSequence$int$int(t,e,n,r)}return a.insert(t,(i=n,o=r,e.join("").substring(i,i+o)))},t.prototype.insert$int$java_lang_CharSequence=function(t,e){return this.insert(t,e.toString())},t.prototype.insert$int$java_lang_CharSequence$int$int=function(t,e,n,r){return this.insert(t,e.substring(n,r).toString())},t.prototype.insert$int$double=function(t,e){return this.insert(t,new String(e).toString())},t.prototype.insert$int$float=function(t,e){return this.insert(t,new String(e).toString())},t.prototype.insert$int$int=function(t,e){return this.insert(t,new String(e).toString())},t.prototype.insert$int$long=function(t,e){return this.insert(t,new String(e).toString())},t.prototype.insert$int$java_lang_Object=function(t,e){return this.insert(t,new String(e).toString())},t.prototype.insert$int$java_lang_String=function(t,e){return this.replace0(t,t,e),this},t.prototype.replace=function(t,e,n){return this.replace0(t,e,n),this},t.prototype.reverse=function(){return this.reverse0(),this},t}(a.lang.AbstractStringBuilder),t.StringBuilder=e}(java||(java={})),function(t){var e,n,r;e=t.awt||(t.awt={}),n=e.geom||(e.geom={}),r=function(e){function t(t){e.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(t,e),t}(t.lang.Exception),n.NoninvertibleTransformException=r}(java||(java={})),function(t){var e,n;e=t.io||(t.io={}),n=function(n){function t(t,e){if("string"!=typeof t&&null!==t||!(null!=e&&e instanceof Error||null===e))if("string"!=typeof t&&null!==t||void 0!==e)if((null!=t&&t instanceof Error||null===t)&&void 0===e){e=t;n.call(this,e),this.message=e,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{if(void 0!==t||void 0!==e)throw new Error("invalid overload");n.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else n.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else n.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(t,n),t}(Error),e.IOException=n}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t}(Error),e.CloneNotSupportedException=n}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t}(Error),e.NoSuchMethodException=n}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(i){function t(t,e,n,r){if("string"!=typeof t&&null!==t||!(null!=e&&e instanceof Error||null===e)||"boolean"!=typeof n&&null!==n||"boolean"!=typeof r&&null!==r)if("string"!=typeof t&&null!==t||!(null!=e&&e instanceof Error||null===e)||void 0!==n||void 0!==r)if("string"!=typeof t&&null!==t||void 0!==e||void 0!==n||void 0!==r)if((null!=t&&t instanceof Error||null===t)&&void 0===e&&void 0===n&&void 0===r){e=t;i.call(this,e),this.message=e,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{if(void 0!==t||void 0!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else i.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else i.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else i.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(t,i),t}(Error),e.RuntimeException=n}(java||(java={})),function(t){var e,n;e=t.security||(t.security={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t}(Error),e.GeneralSecurityException=n}(java||(java={})),function(t){var e,n;e=t.text||(t.text={}),n=function(n){function t(t,e){n.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]}),this.errorOffset=0,this.errorOffset=e}return __extends(t,n),t.prototype.getErrorOffset=function(){return this.errorOffset},t}(Error),e.ParseException=n}(java||(java={})),function(t){var e,n;e=t.util||(t.util={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t}(Error),e.TooManyListenersException=n}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(n){function t(t,e){if("string"!=typeof t&&null!==t||!(null!=e&&e instanceof Error||null===e))if("string"!=typeof t&&null!==t||void 0!==e)if((null!=t&&t instanceof Error||null===t)&&void 0===e){e=t;n.call(this,e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{if(void 0!==t||void 0!==e)throw new Error("invalid overload");n.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else n.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else n.call(this,t,e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(t,n),t.serialVersionUID=-0x7dc4ccb23ff53c00,t}(t.lang.VirtualMachineError),e.InternalError=n}(java||(java={})),function(c){var t,e;t=c.internal||(c.internal={}),e=function(e){function t(t){e.call(this,t,null),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable"]})}return __extends(t,e),t.UTF_8_$LI$=function(){return null==t.UTF_8&&(t.UTF_8=new t.UtfCharset("UTF-8")),t.UTF_8},t.ISO_LATIN_1_$LI$=function(){return null==t.ISO_LATIN_1&&(t.ISO_LATIN_1=new t.LatinCharset("ISO-LATIN-1")),t.ISO_LATIN_1},t.ISO_8859_1_$LI$=function(){return null==t.ISO_8859_1&&(t.ISO_8859_1=new t.LatinCharset("ISO-8859-1")),t.ISO_8859_1},t}(java.nio.charset.Charset),t.EmulatedCharset=e,function(t){var e=function(e){function t(t){e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable"]})}return __extends(t,e),t.prototype.getBytes=function(t){for(var e=t.length,n=new Array(e),r=0;r<e;++r)n[r]=255&t.charAt(r).charCodeAt(0)|0;return n},t.prototype.decodeString=function(t,e,n){for(var r=new Array(n),i=0;i<n;++i)r[i]=String.fromCharCode(255&t[e+i]);return r},t}(c.internal.EmulatedCharset);t.LatinCharset=e;var n=function(e){function t(t){e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable"]})}return __extends(t,e),t.prototype.decodeString=function(t,e,n){for(var r=0,i=0;i<n;){if(++r,128==(192&(l=t[e+i])))throw new java.lang.IllegalArgumentException("Invalid UTF8 sequence");if(0==(128&l))++i;else if(192==(224&l))i+=2;else if(224==(240&l))i+=3;else{if(240!=(248&l))throw new java.lang.IllegalArgumentException("Invalid UTF8 sequence");i+=4}if(n<i)throw new java.lang.IndexOutOfBoundsException("Invalid UTF8 sequence")}var o=new Array(r),a=0,s=0;for(i=0;i<n;){var l;for(0==(128&(l=t[e+i++]))?(s=1,l&=127):192==(224&l)?(s=2,l&=31):224==(240&l)?(s=3,l&=15):240==(248&l)?(s=4,l&=7):248==(252&l)&&(s=5,l&=3);0<--s;){var u=t[e+i++];if(128!=(192&u))throw new java.lang.IllegalArgumentException("Invalid UTF8 sequence at "+(e+i-1)+", byte="+c.internal.IntegerHelper.toHexString(u));l=l<<6|63&u}a+=c.internal.CharacterHelper.toChars(l,o,a)}return o},t.prototype.getBytes=function(t){for(var e=t.length,n=0,r=0;r<e;){var i=t.charCodeAt(r);r+=c.internal.CharacterHelper.charCount(i),i<128?n++:i<2048?n+=2:i<65536?n+=3:i<1<<21?n+=4:i<1<<26&&(n+=5)}var o=new Array(n),a=0;for(r=0;r<e;)i=t.charCodeAt(r),r+=c.internal.CharacterHelper.charCount(i),a+=this.encodeUtf8(o,a,i);return o},t.prototype.encodeUtf8=function(t,e,n){if(n<128)return t[e]=127&n|0,1;if(n<2048)return t[e++]=192|n>>6&31,t[e]=128|63&n,2;if(n<65536)return t[e++]=224|n>>12&15,t[e++]=128|n>>6&63,t[e]=128|63&n,3;if(n<1<<21)return t[e++]=240|n>>18&7,t[e++]=128|n>>12&63,t[e++]=128|n>>6&63,t[e]=128|63&n,4;if(n<1<<26)return t[e++]=248|n>>24&3,t[e++]=128|n>>18&63,t[e++]=128|n>>12&63,t[e++]=128|n>>6&63,t[e]=128|63&n,5;throw new java.lang.IllegalArgumentException("Character out of range: "+n)},t}(c.internal.EmulatedCharset);t.UtfCharset=n}(e=t.EmulatedCharset||(t.EmulatedCharset={}))}(javaemul||(javaemul={})),function(i){var t,e,n,r;t=i.security||(i.security={}),r=function(e){function n(t){e.call(this),this.algorithm=t}return __extends(n,e),n.getInstance=function(t){if("MD5"===t)return new n.Md5Digest;throw new i.security.NoSuchAlgorithmException(t+" not supported")},n.isEqual=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;++r)if(t[r]!==e[r])return!1;return!0},n.prototype.digest$=function(){return this.engineDigest()},n.prototype.digest$byte_A=function(t){return this.update(t),this.digest()},n.prototype.digest=function(t,e,n){var r=this;if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n)return this.digest$byte_A(t);if(void 0===t&&void 0===e&&void 0===n)return this.digest$();throw new Error("invalid overload")}return r.engineDigest(t,e,n)},n.prototype.getAlgorithm=function(){return this.algorithm},n.prototype.getDigestLength=function(){return this.engineGetDigestLength()},n.prototype.reset=function(){this.engineReset()},n.prototype.update$byte=function(t){this.engineUpdate(t)},n.prototype.update$byte_A=function(t){this.engineUpdate(t,0,t.length)},n.prototype.update=function(t,e,n){var r=this;if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n)return this.update$byte_A(t);if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return this.update$byte(t)}r.engineUpdate(t,e,n)},n}(i.security.MessageDigestSpi),t.MessageDigest=r,e=r=t.MessageDigest||(t.MessageDigest={}),n=function(t){function s(){t.call(this,"MD5"),this.oneByte=new Array(1),this.counter=0,this.remainder=0,this.engineReset()}return __extends(s,t),s.padding_$LI$=function(){return null==s.padding&&(s.padding=[128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s.padding},s.toBytes=function(t){var e=new Array(8);return e[0]=0|t,t>>>=8,e[1]=0|t,t>>>=8,e[2]=0|t,t>>>=8,e[3]=0|t,t>>>=8,e[4]=0|t,t>>>=8,e[5]=0|t,t>>>=8,e[6]=0|t,t>>>=8,e[7]=0|t,e},s.byte2int=function(t,e){for(var n=0,r=0;r<16;r++)e[r]=255&t[n++]|(255&t[n++])<<8|(255&t[n++])<<16|(255&t[n++])<<24},s.f=function(t,e,n){return n^t&(e^n)},s.ff=function(t,e,n,r,i,o,a){return(t=(t+=i+a+s.f(e,n,r))<<o|t>>>-o)+e},s.g=function(t,e,n){return e^n&(t^e)},s.gg=function(t,e,n,r,i,o,a){return(t=(t+=i+a+s.g(e,n,r))<<o|t>>>-o)+e},s.h=function(t,e,n){return t^e^n},s.hh=function(t,e,n,r,i,o,a){return(t=(t+=i+a+s.h(e,n,r))<<o|t>>>-o)+e},s.i=function(t,e,n){return e^(t|~n)},s.ii=function(t,e,n,r,i,o,a){return(t=(t+=i+a+s.i(e,n,r))<<o|t>>>-o)+e},s.int2byte=function(t,e){for(var n=0,r=0;n<4;n++)e[r++]=255&t[n]|0,e[r++]=t[n]>>>8&255|0,e[r++]=t[n]>>>16&255|0,e[r++]=t[n]>>>24&255|0},s.prototype.engineDigest$=function(){var t=s.toBytes(this.counter<<3),e=new Array(16);return 8<this.remainder?this.engineUpdate(s.padding_$LI$(),0,this.remainder-8):this.engineUpdate(s.padding_$LI$(),0,this.remainder-8+64),this.engineUpdate(t,0,8),s.int2byte(this.state,e),this.reset(),e},s.prototype.engineGetDigestLength=function(){return 16},s.prototype.engineReset=function(){this.buffer=new Array(64),this.state=new Array(4),this.x=new Array(16),this.state[0]=1732584193,this.state[1]=-271733879,this.state[2]=-1732584194,this.state[3]=271733878,this.counter=0,this.remainder=64},s.prototype.engineUpdate$byte=function(t){this.oneByte[0]=t,this.engineUpdate(this.oneByte,0,1)},s.prototype.engineUpdate=function(t,e,n){var r=this;if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return this.engineUpdate$byte(t)}return function(){for(;;){if(!(n>=r.remainder)){i.lang.System.arraycopy(t,e,r.buffer,63&r.counter|0,n),r.counter+=n,r.remainder-=n;break}i.lang.System.arraycopy(t,e,r.buffer,63&r.counter|0,r.remainder),r.transform(r.buffer),r.counter+=r.remainder,e+=r.remainder,n-=r.remainder,r.remainder=64}}()},s.prototype.transform=function(t){var e,n,r,i;s.byte2int(t,this.x),e=this.state[0],n=this.state[1],r=this.state[2],i=this.state[3],e=s.ff(e,n,r,i,this.x[0],7,-680876936),i=s.ff(i,e,n,r,this.x[1],12,-389564586),r=s.ff(r,i,e,n,this.x[2],17,606105819),n=s.ff(n,r,i,e,this.x[3],22,-1044525330),e=s.ff(e,n,r,i,this.x[4],7,-176418897),i=s.ff(i,e,n,r,this.x[5],12,1200080426),r=s.ff(r,i,e,n,this.x[6],17,-1473231341),n=s.ff(n,r,i,e,this.x[7],22,-45705983),e=s.ff(e,n,r,i,this.x[8],7,1770035416),i=s.ff(i,e,n,r,this.x[9],12,-1958414417),r=s.ff(r,i,e,n,this.x[10],17,-42063),n=s.ff(n,r,i,e,this.x[11],22,-1990404162),e=s.ff(e,n,r,i,this.x[12],7,1804603682),i=s.ff(i,e,n,r,this.x[13],12,-40341101),r=s.ff(r,i,e,n,this.x[14],17,-1502002290),n=s.ff(n,r,i,e,this.x[15],22,1236535329),e=s.gg(e,n,r,i,this.x[1],5,-165796510),i=s.gg(i,e,n,r,this.x[6],9,-1069501632),r=s.gg(r,i,e,n,this.x[11],14,643717713),n=s.gg(n,r,i,e,this.x[0],20,-373897302),e=s.gg(e,n,r,i,this.x[5],5,-701558691),i=s.gg(i,e,n,r,this.x[10],9,38016083),r=s.gg(r,i,e,n,this.x[15],14,-660478335),n=s.gg(n,r,i,e,this.x[4],20,-405537848),e=s.gg(e,n,r,i,this.x[9],5,568446438),i=s.gg(i,e,n,r,this.x[14],9,-1019803690),r=s.gg(r,i,e,n,this.x[3],14,-187363961),n=s.gg(n,r,i,e,this.x[8],20,1163531501),e=s.gg(e,n,r,i,this.x[13],5,-1444681467),i=s.gg(i,e,n,r,this.x[2],9,-51403784),r=s.gg(r,i,e,n,this.x[7],14,1735328473),n=s.gg(n,r,i,e,this.x[12],20,-1926607734),e=s.hh(e,n,r,i,this.x[5],4,-378558),i=s.hh(i,e,n,r,this.x[8],11,-2022574463),r=s.hh(r,i,e,n,this.x[11],16,1839030562),n=s.hh(n,r,i,e,this.x[14],23,-35309556),e=s.hh(e,n,r,i,this.x[1],4,-1530992060),i=s.hh(i,e,n,r,this.x[4],11,1272893353),r=s.hh(r,i,e,n,this.x[7],16,-155497632),n=s.hh(n,r,i,e,this.x[10],23,-1094730640),e=s.hh(e,n,r,i,this.x[13],4,681279174),i=s.hh(i,e,n,r,this.x[0],11,-358537222),r=s.hh(r,i,e,n,this.x[3],16,-722521979),n=s.hh(n,r,i,e,this.x[6],23,76029189),e=s.hh(e,n,r,i,this.x[9],4,-640364487),i=s.hh(i,e,n,r,this.x[12],11,-421815835),r=s.hh(r,i,e,n,this.x[15],16,530742520),n=s.hh(n,r,i,e,this.x[2],23,-995338651),e=s.ii(e,n,r,i,this.x[0],6,-198630844),i=s.ii(i,e,n,r,this.x[7],10,1126891415),r=s.ii(r,i,e,n,this.x[14],15,-1416354905),n=s.ii(n,r,i,e,this.x[5],21,-57434055),e=s.ii(e,n,r,i,this.x[12],6,1700485571),i=s.ii(i,e,n,r,this.x[3],10,-1894986606),r=s.ii(r,i,e,n,this.x[10],15,-1051523),n=s.ii(n,r,i,e,this.x[1],21,-2054922799),e=s.ii(e,n,r,i,this.x[8],6,1873313359),i=s.ii(i,e,n,r,this.x[15],10,-30611744),r=s.ii(r,i,e,n,this.x[6],15,-1560198380),n=s.ii(n,r,i,e,this.x[13],21,1309151649),e=s.ii(e,n,r,i,this.x[4],6,-145523070),i=s.ii(i,e,n,r,this.x[11],10,-1120210379),r=s.ii(r,i,e,n,this.x[2],15,718787259),n=s.ii(n,r,i,e,this.x[9],21,-343485551),this.state[0]=javaemul.internal.Coercions.ensureInt(this.state[0]+e),this.state[1]=javaemul.internal.Coercions.ensureInt(this.state[1]+n),this.state[2]=javaemul.internal.Coercions.ensureInt(this.state[2]+r),this.state[3]=javaemul.internal.Coercions.ensureInt(this.state[3]+i)},s}(i.security.MessageDigest),e.Md5Digest=n}(java||(java={})),function(a){var t,e;t=a.util||(a.util={}),e=function(t){function n(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.List","java.util.Collection","java.lang.Iterable"]}),this.modCount=0}return __extends(n,t),n.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();){t(e.next())}},n.prototype.add$java_lang_Object=function(t){return this.add(this.size(),t),!0},n.prototype.add=function(t,e){if("number"!=typeof t&&null!==t||null==e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.add$java_lang_Object(t)}return function(){throw new a.lang.UnsupportedOperationException("Add not supported on this list")}()},n.prototype.addAll=function(r,i){var o=this;if("number"!=typeof r&&null!==r||!(null!=i&&null!=i.__interfaces&&0<=i.__interfaces.indexOf("java.util.Collection")||null===i)){if((null!=r&&null!=r.__interfaces&&0<=r.__interfaces.indexOf("java.util.Collection")||null===r)&&void 0===i)return this.addAll$java_util_Collection(r);throw new Error("invalid overload")}return function(){javaemul.internal.InternalPreconditions.checkNotNull(i);for(var t=!1,e=i.iterator();e.hasNext();){var n=e.next();o.add(r++,n),t=!0}return t}()},n.prototype.clear=function(){this.removeRange(0,this.size())},n.prototype.equals=function(t){if(t===this)return!0;if(!(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.List")))return!1;var e=t;if(this.size()!==e.size())return!1;for(var n=e.iterator(),r=this.iterator();r.hasNext();){var i=r.next(),o=n.next();if(!a.util.Objects.equals(i,o))return!1}return!0},n.prototype.hashCode=function(){return a.util.Collections.hashCode(this)},n.prototype.indexOf=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.indexOf$java_lang_Object(t)},n.prototype.indexOf$java_lang_Object=function(t){for(var e=0,n=this.size();e<n;++e)if(a.util.Objects.equals(t,this.get(e)))return e;return-1},n.prototype.iterator=function(){return new n.IteratorImpl(this)},n.prototype.lastIndexOf=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.lastIndexOf$java_lang_Object(t)},n.prototype.lastIndexOf$java_lang_Object=function(t){for(var e=this.size()-1;-1<e;--e)if(a.util.Objects.equals(t,this.get(e)))return e;return-1},n.prototype.listIterator$=function(){return this.listIterator(0)},n.prototype.listIterator=function(t){if("number"==typeof t||null===t)return new n.ListIteratorImpl(this,t);if(void 0===t)return this.listIterator$();throw new Error("invalid overload")},n.prototype.remove=function(t){if("number"==typeof t||null===t)return function(){throw new a.lang.UnsupportedOperationException("Remove not supported on this list")}();if(null!=t||null===t)return this.remove$java_lang_Object(t);throw new Error("invalid overload")},n.prototype.set=function(t,e){throw new a.lang.UnsupportedOperationException("Set not supported on this list")},n.prototype.subList=function(t,e){return new n.SubList(this,t,e)},n.prototype.removeRange=function(t,e){for(var n=this.listIterator(t),r=t;r<e;++r)n.next(),n.remove()},n}(a.util.AbstractCollection),t.AbstractList=e,function(t){var e=function(){function t(t){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.__parent=t,this.i=0,this.last=0,this.i=0,this.last=-1}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){return this.i<this.__parent.size()},t.prototype.next=function(){return javaemul.internal.InternalPreconditions.checkElement(this.hasNext()),this.__parent.get(this.last=this.i++)},t.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(-1!==this.last),this.__parent.remove(this.last),this.i=this.last,this.last=-1},t}();t.IteratorImpl=e;var n=function(r){function t(t,e){var n=this;if("number"==typeof e||null===e)r.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator","java.util.ListIterator"]}),this.__parent=t,javaemul.internal.InternalPreconditions.checkPositionIndex(e,n.__parent.size()),n.i=e;else{if(void 0!==e)throw new Error("invalid overload");r.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator","java.util.ListIterator"]}),this.__parent=t}}return __extends(t,r),t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.add=function(t){this.__parent.add(this.i,t),this.i++,this.last=-1},t.prototype.hasPrevious=function(){return 0<this.i},t.prototype.nextIndex=function(){return this.i},t.prototype.previous=function(){return javaemul.internal.InternalPreconditions.checkElement(this.hasPrevious()),this.__parent.get(this.last=--this.i)},t.prototype.previousIndex=function(){return this.i-1},t.prototype.set=function(t){javaemul.internal.InternalPreconditions.checkState(-1!==this.last),this.__parent.set(this.last,t)},t}(t.IteratorImpl);t.ListIteratorImpl=n;var r=function(r){function t(t,e,n){r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.List","java.util.Collection","java.lang.Iterable"]}),this.fromIndex=0,this.__size=0,javaemul.internal.InternalPreconditions.checkCriticalPositionIndexes(e,n,t.size()),this.wrapped=t,this.fromIndex=e,this.__size=n-e}return __extends(t,r),t.prototype.add=function(t,e){var n=this;if("number"!=typeof t&&null!==t||null==e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.add$java_lang_Object(t)}return javaemul.internal.InternalPreconditions.checkPositionIndex(t,n.__size),n.wrapped.add(n.fromIndex+t,e),void n.__size++},t.prototype.get=function(t){return javaemul.internal.InternalPreconditions.checkElementIndex(t,this.__size),this.wrapped.get(this.fromIndex+t)},t.prototype.remove=function(e){var n=this;if("number"==typeof e||null===e)return function(){javaemul.internal.InternalPreconditions.checkElementIndex(e,n.__size);var t=n.wrapped.remove(n.fromIndex+e);return n.__size--,t}();if(null!=e||null===e)return this.remove$java_lang_Object(e);throw new Error("invalid overload")},t.prototype.set=function(t,e){return javaemul.internal.InternalPreconditions.checkElementIndex(t,this.__size),this.wrapped.set(this.fromIndex+t,e)},t.prototype.size=function(){return this.__size},t}(a.util.AbstractList);t.SubList=r}(e=t.AbstractList||(t.AbstractList={}))}(java||(java={})),function(t){var e,n;e=t.util||(t.util={}),n=function(e){function t(){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Queue","java.lang.Iterable"]})}return __extends(t,e),t.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();){t(e.next())}},t.prototype.add=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.add$java_lang_Object(t)},t.prototype.add$java_lang_Object=function(t){return javaemul.internal.InternalPreconditions.checkState(this.offer(t),"Unable to add element to queue"),!0},t.prototype.addAll=function(t,e){if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Collection")||null===t)&&void 0===e)return this.addAll$java_util_Collection(t);throw new Error("invalid overload")},t.prototype.addAll$java_util_Collection=function(t){return javaemul.internal.InternalPreconditions.checkNotNull(t),javaemul.internal.InternalPreconditions.checkArgument(t!==this,"Can't add a queue to itself"),e.prototype.addAll.call(this,t)},t.prototype.clear=function(){for(;null!=this.poll(););},t.prototype.element=function(){var t=this.peek();return javaemul.internal.InternalPreconditions.checkElement(null!=t,"Queue is empty"),t},t.prototype.remove=function(t){if(null!=t||null===t)return this.remove$java_lang_Object(t);if(void 0===t)return this.remove$();throw new Error("invalid overload")},t.prototype.remove$=function(){var t=this.poll();return javaemul.internal.InternalPreconditions.checkElement(null!=t,"Queue is empty"),t},t}(t.util.AbstractCollection),e.AbstractQueue=n}(java||(java={})),function(n){var t,e;t=n.util||(n.util={}),e=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Set","java.lang.Iterable"]})}return __extends(e,t),e.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();){t(e.next())}},e.prototype.equals=function(t){if(t===this)return!0;if(!(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Set")))return!1;var e=t;return e.size()===this.size()&&this.containsAll(e)},e.prototype.hashCode=function(){return n.util.Collections.hashCode(this)},e.prototype.removeAll=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);var e=this.size();if(e<t.size())for(var n=this.iterator();n.hasNext();){var r=n.next();t.contains(r)&&n.remove()}else for(var i=t.iterator();i.hasNext();){var o=i.next();this.remove(o)}return e!==this.size()},e}(n.util.AbstractCollection),t.AbstractSet=e}(java||(java={})),function(i){var t,e;t=i.util||(i.util={}),e=function(){function r(t){this.backingMap=i.util.InternalJsMapFactory.newJsMap(),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Iterable"]}),this.size=0,this.valueMod=0,this.host=t}return r.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();){t(e.next())}},r.prototype.contains=function(t){return!javaemul.internal.JsUtils.isUndefined(this.backingMap.get(t))},r.prototype.get=function(t){return this.backingMap.get(t)},r.prototype.put=function(t,e){var n=this.backingMap.get(t);return this.backingMap.set(t,r.toNullIfUndefined(e)),javaemul.internal.JsUtils.isUndefined(n)?(this.size++,i.util.ConcurrentModificationDetector.structureChanged(this.host)):this.valueMod++,n},r.prototype.remove=function(t){var e=this.backingMap.get(t);return javaemul.internal.JsUtils.isUndefined(e)?this.valueMod++:(this.backingMap.delete(t),this.size--,i.util.ConcurrentModificationDetector.structureChanged(this.host)),e},r.prototype.getSize=function(){return this.size},r.prototype.iterator=function(){return new r.InternalStringMap$0(this)},r.prototype.newMapEntry=function(t,e){return new r.InternalStringMap$1(this,t,e)},r.toNullIfUndefined=function(t){return javaemul.internal.JsUtils.isUndefined(t)?null:t},r}(),t.InternalStringMap=e,function(t){var e=function(){function t(t){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.__parent=t,this.entries=this.__parent.backingMap.entries(),this.current=this.entries.next()}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){return!this.current.done},t.prototype.next=function(){return this.last=this.current,this.current=this.entries.next(),this.__parent.newMapEntry(this.last,this.__parent.valueMod)},t.prototype.remove=function(){this.__parent.remove(this.last.value[0])},t}();t.InternalStringMap$0=e;var n=function(r){function t(t,e,n){r.call(this),this.entry=e,this.lastValueMod=n,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map.Entry"]}),this.__parent=t}return __extends(t,r),t.prototype.getKey=function(){return this.entry.value[0]},t.prototype.getValue=function(){return this.__parent.valueMod!==this.lastValueMod?this.__parent.get(this.entry.value[0]):this.entry.value[1]},t.prototype.setValue=function(t){return this.__parent.put(this.entry.value[0],t)},t}(i.util.AbstractMapEntry);t.InternalStringMap$1=n}(e=t.InternalStringMap||(t.InternalStringMap={}))}(java||(java={})),function(u){var t,e,n,r;t=u.internal||(u.internal={}),r=function(){function l(){}return l.CASE_INSENSITIVE_ORDER_$LI$=function(){return null==l.CASE_INSENSITIVE_ORDER&&(l.CASE_INSENSITIVE_ORDER=new l.StringHelper$0),l.CASE_INSENSITIVE_ORDER},l.copyValueOf$char_A=function(t){return l.valueOf(t)},l.copyValueOf=function(t,e,n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n)return u.internal.StringHelper.copyValueOf$char_A(t);throw new Error("invalid overload")}return l.valueOf(t,e,n)},l.valueOf$boolean=function(t){return""+t},l.valueOf$char=function(t){return""+t},l.valueOf=function(o,a,s){if(!(null!=o&&o instanceof Array||null===o)||"number"!=typeof a&&null!==a||"number"!=typeof s&&null!==s){if((null!=o&&o instanceof Array||null===o)&&void 0===a&&void 0===s)return u.internal.StringHelper.valueOf$char_A(o);if("boolean"!=typeof o&&null!==o||void 0!==a||void 0!==s){if("string"!=typeof o&&null!==o||void 0!==a||void 0!==s){if("number"!=typeof o&&null!==o||void 0!==a||void 0!==s){if("number"!=typeof o&&null!==o||void 0!==a||void 0!==s){if("number"!=typeof o&&null!==o||void 0!==a||void 0!==s){if("number"!=typeof o&&null!==o||void 0!==a||void 0!==s){if(null==o&&null!==o||void 0!==a||void 0!==s)throw new Error("invalid overload");return u.internal.StringHelper.valueOf$java_lang_Object(o)}return u.internal.StringHelper.valueOf$double(o)}return u.internal.StringHelper.valueOf$float(o)}return u.internal.StringHelper.valueOf$long(o)}return u.internal.StringHelper.valueOf$int(o)}return u.internal.StringHelper.valueOf$char(o)}return u.internal.StringHelper.valueOf$boolean(o)}return function(){var t=a+s;u.internal.InternalPreconditions.checkStringBounds(a,t,o.length);for(var e=u.internal.ArrayHelper.ARRAY_PROCESS_BATCH_SIZE,n="",r=a;r<t;){var i=Math.min(r+e,t);n+=l.fromCharCode(u.internal.ArrayHelper.unsafeClone(o,r,i)),r=i}return n}()},l.fromCharCode=function(t){return String.fromCharCode(t)},l.valueOf$char_A=function(t){return l.valueOf(t,0,t.length)},l.valueOf$double=function(t){return""+t},l.valueOf$float=function(t){return""+t},l.valueOf$int=function(t){return""+t},l.valueOf$long=function(t){return""+t},l.valueOf$java_lang_Object=function(t){return null==t?"null":t.toString()},l.translateReplaceString=function(t){for(var e=0;0<=(e=t.indexOf("\\",e));)t="$"===t.charAt(e+1)?t.substring(0,e)+"$"+t.substring(++e):t.substring(0,e)+t.substring(++e);return t},l.compareTo=function(t,e){return t==e?0:t<e?-1:1},l.getCharset=function(e){try{return java.nio.charset.Charset.forName(e)}catch(t){throw new java.io.UnsupportedEncodingException(e)}},l.fromCodePoint=function(t){if(t>=u.internal.CharacterHelper.MIN_SUPPLEMENTARY_CODE_POINT){var e=u.internal.CharacterHelper.getHighSurrogate(t),n=u.internal.CharacterHelper.getLowSurrogate(t);return new String(e).toString()+new String(n).toString()}return new String(String.fromCharCode(t)).toString()},l.format=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return sprintf(t,e)},l}(),t.StringHelper=r,e=r=t.StringHelper||(t.StringHelper={}),n=function(){function t(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Comparator"]})}return t.prototype.compare=function(t,e){return t.toUpperCase().localeCompare(e.toUpperCase())},t}(),e.StringHelper$0=n}(javaemul||(javaemul={})),function(r){var t,e;t=r.sql||(r.sql={}),e=function(i){function n(t,e,n){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");var r=t;i.call(this,r),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"]})}else i.call(this,t,e,n),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"]})}return __extends(n,i),n.valueOf=function(e){var t=e.split("-");if(3!==t.length)throw new r.lang.IllegalArgumentException("Invalid escape format: "+e);try{return new n(javaemul.internal.IntegerHelper.parseInt(t[0])-1900,javaemul.internal.IntegerHelper.parseInt(t[1])-1,javaemul.internal.IntegerHelper.parseInt(t[2]))}catch(t){throw new r.lang.IllegalArgumentException("Invalid escape format: "+e)}},n.prototype.getHours=function(){throw new r.lang.IllegalArgumentException},n.prototype.getMinutes=function(){throw new r.lang.IllegalArgumentException},n.prototype.getSeconds=function(){throw new r.lang.IllegalArgumentException},n.prototype.setHours=function(t){throw new r.lang.IllegalArgumentException},n.prototype.setMinutes=function(t){throw new r.lang.IllegalArgumentException},n.prototype.setSeconds=function(t){throw new r.lang.IllegalArgumentException},n}(r.util.Date),t.Date=e}(java||(java={})),function(r){var t,e;t=r.sql||(r.sql={}),e=function(i){function n(t,e,n){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");var r=t;i.call(this,r),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"]})}else i.call(this,70,0,1,t,e,n),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"]})}return __extends(n,i),n.valueOf=function(e){var t=e.split(":");if(3!==t.length)throw new r.lang.IllegalArgumentException("Invalid escape format: "+e);try{return new n(javaemul.internal.IntegerHelper.parseInt(t[0]),javaemul.internal.IntegerHelper.parseInt(t[1]),javaemul.internal.IntegerHelper.parseInt(t[2]))}catch(t){throw new r.lang.IllegalArgumentException("Invalid escape format: "+e)}},n.prototype.getDate=function(){throw new r.lang.IllegalArgumentException},n.prototype.getDay=function(){throw new r.lang.IllegalArgumentException},n.prototype.getMonth=function(){throw new r.lang.IllegalArgumentException},n.prototype.getYear=function(){throw new r.lang.IllegalArgumentException},n.prototype.setDate=function(t){throw new r.lang.IllegalArgumentException},n.prototype.setMonth=function(t){throw new r.lang.IllegalArgumentException},n.prototype.setYear=function(t){throw new r.lang.IllegalArgumentException},n}(r.util.Date),t.Time=e}(java||(java={})),function(h){var t,e;t=h.sql||(h.sql={}),e=function(u){function c(t,e,n,r,i,o,a){var s=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a){if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a)throw new Error("invalid overload");var l=t;u.call(this,l),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"]}),this.nanos=0,s.nanos=1e6*(l%1e3|0)}else u.call(this,t,e,n,r,i,o),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"]}),this.nanos=0,s.setNanos(a)}return __extends(c,u),c.valueOf=function(e){var t=e.split(" ");if(2!==t.length)throw new h.lang.IllegalArgumentException("Invalid escape format: "+e);var n=t[1].split("\\."),r=!0,i=0;if(1===n.length)r=!1;else if(2!==n.length)throw new h.lang.IllegalArgumentException("Invalid escape format: "+e);var o=h.sql.Date.valueOf(t[0]),a=h.sql.Time.valueOf(n[0]);if(r){var s=n[1],l=s.length;if(9<l)throw new h.lang.IllegalArgumentException("Invalid escape format: "+e);l<9&&(s+="00000000".substring(l-1));try{i=javaemul.internal.IntegerHelper.valueOf(s)}catch(t){throw new h.lang.IllegalArgumentException("Invalid escape format: "+e)}}return new c(o.getYear(),o.getMonth(),o.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),i)},c.padNine=function(t){var e=new h.lang.StringBuilder("000000000"),n=new String(t).toString();return(e=e.replace(9-n.length,9,n)).toString()},c.prototype.after=function(t){var e=this;if(null!=t&&t instanceof h.sql.Timestamp||null===t)return e.getTime()>t.getTime()||e.getTime()===t.getTime()&&e.getNanos()>t.getNanos();if(null!=t&&t instanceof h.util.Date||null===t)return this.after$java_util_Date(t);throw new Error("invalid overload")},c.prototype.before=function(t){var e=this;if(null!=t&&t instanceof h.sql.Timestamp||null===t)return e.getTime()<t.getTime()||e.getTime()===t.getTime()&&e.getNanos()<t.getNanos();if(null!=t&&t instanceof h.util.Date||null===t)return this.before$java_util_Date(t);throw new Error("invalid overload")},c.prototype.compareTo$java_util_Date=function(t){return null!=t&&t instanceof h.sql.Timestamp?this.compareTo(t):this.compareTo(new c(t.getTime()))},c.prototype.compareTo=function(t){var e,n=this;if(null!=t&&t instanceof h.sql.Timestamp||null===t)return 0===(e=javaemul.internal.LongHelper.compare(n.getTime(),t.getTime()))?javaemul.internal.IntegerHelper.compare(n.getNanos(),t.getNanos()):e;if(null!=t&&t instanceof h.util.Date||null===t)return this.compareTo$java_util_Date(t);throw new Error("invalid overload")},c.prototype.equals$java_lang_Object=function(t){return null!=t&&t instanceof h.sql.Timestamp&&this.equals(t)},c.prototype.equals=function(t){var e=this;if(null!=t&&t instanceof h.sql.Timestamp||null===t)return null!=t&&e.getTime()===t.getTime()&&e.getNanos()===t.getNanos();if(null!=t||null===t)return this.equals$java_lang_Object(t);throw new Error("invalid overload")},c.prototype.getNanos=function(){return this.nanos},c.prototype.getTime=function(){return u.prototype.getTime.call(this)},c.prototype.hashCode=function(){return u.prototype.hashCode.call(this)},c.prototype.setNanos=function(t){if(t<0||999999999<t)throw new h.lang.IllegalArgumentException("nanos out of range "+t);this.nanos=t,u.prototype.setTime.call(this,1e3*Math.round(this.getTime()/1e3)+(this.nanos/1e6|0))},c.prototype.setTime=function(t){u.prototype.setTime.call(this,t),this.nanos=1e6*(t%1e3|0)},c}(h.util.Date),t.Timestamp=e}(java||(java={})),function(n){var t,e,r;t=n.util||(n.util={}),e=t.logging||(t.logging={}),r=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.publish=function(t){if(this.isLoggable(t)){var e=this.toConsoleLogLevel(t.getLevel());console.log(e,t.getMessage()),null!=t.getThrown()&&console.log(e,t.getThrown())}},e.prototype.toConsoleLogLevel=function(t){var e=t.intValue();return e>=n.util.logging.Level.SEVERE_$LI$().intValue()?"error":e>=n.util.logging.Level.WARNING_$LI$().intValue()?"warn":e>=n.util.logging.Level.INFO_$LI$().intValue()?"info":"log"},e.prototype.close=function(){},e.prototype.flush=function(){},e}(n.util.logging.Handler),e.SimpleConsoleLogHandler=r}(java||(java={})),function(n){var o,t,e,r;o=n.internal||(n.internal={}),r=function(r){function i(t){var e=this;if("string"==typeof t||null===t)r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.value=0,e.value=i.parseByte(t);else{if("number"!=typeof t&&null!==t)throw new Error("invalid overload");var n=t;r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.value=0,e.value=n}}return __extends(i,r),i.MIN_VALUE_$LI$=function(){return null==i.MIN_VALUE&&(i.MIN_VALUE=128),i.MIN_VALUE},i.MAX_VALUE_$LI$=function(){return null==i.MAX_VALUE&&(i.MAX_VALUE=127),i.MAX_VALUE},i.TYPE_$LI$=function(){return null==i.TYPE&&(i.TYPE=Number),i.TYPE},i.compare=function(t,e){return t-e},i.decode=function(t){return i.valueOf(0|o.NumberHelper.__decodeAndValidateInt(t,i.MIN_VALUE_$LI$(),i.MAX_VALUE_$LI$()))},i.hashCode=function(t){return t},i.parseByte=function(t,e){return void 0===e&&(e=10),0|o.NumberHelper.__parseAndValidateInt(t,e,i.MIN_VALUE_$LI$(),i.MAX_VALUE_$LI$())},i.toString=function(t){return new String(t).toString()},i.valueOf$byte=function(t){var e=t+128,n=i.BoxedValues.boxedValues_$LI$()[e];return null==n&&(n=i.BoxedValues.boxedValues_$LI$()[e]=new i(t)),n},i.valueOf$java_lang_String=function(t){return i.valueOf(t,10)},i.valueOf=function(t,e){if("string"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("string"!=typeof t&&null!==t||void 0!==e){if("number"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return n.internal.ByteHelper.valueOf$byte(t)}return n.internal.ByteHelper.valueOf$java_lang_String(t)}return i.valueOf(i.parseByte(t,e))},i.prototype.byteValue=function(){return this.value},i.prototype.compareTo=function(t){var e=this;if(null!=t&&t instanceof n.internal.ByteHelper||null===t)return i.compare(e.value,t.value);throw new Error("invalid overload")},i.prototype.doubleValue=function(){return this.value},i.prototype.equals=function(t){return null!=t&&t instanceof n.internal.ByteHelper&&t.value===this.value},i.prototype.floatValue=function(){return this.value},i.prototype.hashCode=function(){return i.hashCode(this.value)},i.prototype.intValue=function(){return this.value},i.prototype.longValue=function(){return this.value},i.prototype.shortValue=function(){return this.value},i.prototype.toString=function(){return i.toString(this.value)},i.SIZE=8,i}(n.internal.NumberHelper),o.ByteHelper=r,t=r=o.ByteHelper||(o.ByteHelper={}),e=function(){function t(){}return t.boxedValues_$LI$=function(){return null==t.boxedValues&&(t.boxedValues=new Array(256)),t.boxedValues},t}(),t.BoxedValues=e}(javaemul||(javaemul={})),function(n){var r,t,e,i;r=n.internal||(n.internal={}),i=function(e){function l(t){if("string"==typeof t||null===t)e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]});else{if("number"!=typeof t&&null!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]})}}return __extends(l,e),l.NaN_$LI$=function(){return null==l.NaN&&(l.NaN=NaN),l.NaN},l.NEGATIVE_INFINITY_$LI$=function(){return null==l.NEGATIVE_INFINITY&&(l.NEGATIVE_INFINITY=-1/0),l.NEGATIVE_INFINITY},l.POSITIVE_INFINITY_$LI$=function(){return null==l.POSITIVE_INFINITY&&(l.POSITIVE_INFINITY=1/0),l.POSITIVE_INFINITY},l.compare=function(t,e){return t<e?-1:e<t?1:t===e?0:l.isNaN(t)?l.isNaN(e)?0:1:-1},l.doubleToLongBits=function(t){if(l.isNaN(t))return 0x7ff8000000000000;var e=!1;if(0===t)return 1/t===l.NEGATIVE_INFINITY_$LI$()?-0x8000000000000000:0;if(t<0&&(e=!0,t=-t),l.isInfinite(t))return e?-4503599627370496:0x7ff0000000000000;var n=0;if(t<1){for(var r=512,i=0;i<10;i++,r>>=1)t<l.PowersTable.invPowers_$LI$()[i]&&-1023<=n-r&&(t*=l.PowersTable.powers_$LI$()[i],n-=r);t<1&&-1023<=n-1&&(t*=2,n--)}else if(2<=t)for(r=512,i=0;i<10;i++,r>>=1)t>=l.PowersTable.powers_$LI$()[i]&&(t*=l.PowersTable.invPowers_$LI$()[i],n+=r);-1023<n?t-=1:t*=.5;var o=Math.round(t*l.POWER_20);return t-=o*l.POWER_MINUS_20,o|=n+1023<<20,e&&(o|=2147483648),o<<32|Math.round(t*l.POWER_52)},l.hashCode=function(t){return 0|t},l.isInfinite=function(t){return t===n.internal.JsUtils.getInfinity()||t===-n.internal.JsUtils.getInfinity()},l.isNaN=function(t){return isNaN(t)},l.longBitsToDouble=function(t){var e=Math.round(t>>32),n=Math.round(4294967295&t);e<0&&(e+=4294967296),n<0&&(n+=4294967296);var r=0!=(-2147483648&e),i=e>>20&2047|0;if(e&=1048575,0===i){var o=e*l.POWER_MINUS_20+n*l.POWER_MINUS_52;return o*=l.POWER_MINUS_1022,r?0===o?-0:-o:o}if(2047===i)return 0===e&&0===n?r?l.NEGATIVE_INFINITY_$LI$():l.POSITIVE_INFINITY_$LI$():l.NaN_$LI$();o=1+e*l.POWER_MINUS_20+n*l.POWER_MINUS_52;if(0<(i-=1023))for(var a=512,s=0;s<10;s++,a>>=1)a<=i&&(o*=l.PowersTable.powers_$LI$()[s],i-=a);else if(i<0)for(;i<0;)for(a=512,s=0;s<10;s++,a>>=1)i<=-a&&(o*=l.PowersTable.invPowers_$LI$()[s],i+=a);return r?-o:o},l.parseDouble=function(t){return r.NumberHelper.__parseAndValidateDouble(t)},l.toString=function(t){return new String(t).toString()},l.valueOf$double=function(t){return new l(t)},l.valueOf=function(t){if("string"==typeof t||null===t)return new l(t);if("number"==typeof t||null===t)return n.internal.DoubleHelper.valueOf$double(t);throw new Error("invalid overload")},l.prototype.byteValue=function(){return 0|this.doubleValue()},l.prototype.compareTo=function(t){var e=this;if(null!=t&&t instanceof n.internal.DoubleHelper||null===t)return l.compare(e.doubleValue(),t.doubleValue());throw new Error("invalid overload")},l.prototype.doubleValue=function(){return l.unsafeCast(n.internal.InternalPreconditions.checkNotNull(this))},l.unsafeCast=function(t){return t},l.prototype.equals=function(t){return n.internal.InternalPreconditions.checkNotNull(this)===t},l.prototype.floatValue=function(){return this.doubleValue()},l.prototype.hashCode=function(){return l.hashCode(this.doubleValue())},l.prototype.intValue=function(){return 0|this.doubleValue()},l.prototype.isInfinite=function(){return l.isInfinite(this.doubleValue())},l.prototype.isNaN=function(){return l.isNaN(this.doubleValue())},l.prototype.longValue=function(){return Math.round(this.doubleValue())},l.prototype.shortValue=function(){return 0|this.doubleValue()},l.prototype.toString=function(){return l.toString(this.doubleValue())},l.MAX_VALUE=1.7976931348623157e308,l.MIN_VALUE=5e-324,l.MIN_NORMAL=2.2250738585072014e-308,l.MAX_EXPONENT=1023,l.MIN_EXPONENT=-1022,l.SIZE=64,l.POWER_512=1.3407807929942597e154,l.POWER_MINUS_512=7.458340731200207e-155,l.POWER_256=1.157920892373162e77,l.POWER_MINUS_256=8.636168555094445e-78,l.POWER_128=3.402823669209385e38,l.POWER_MINUS_128=2.938735877055719e-39,l.POWER_64=0x10000000000000000,l.POWER_MINUS_64=5.421010862427522e-20,l.POWER_52=4503599627370496,l.POWER_MINUS_52=2.220446049250313e-16,l.POWER_32=4294967296,l.POWER_MINUS_32=2.3283064365386963e-10,l.POWER_31=2147483648,l.POWER_20=1048576,l.POWER_MINUS_20=9.5367431640625e-7,l.POWER_16=65536,l.POWER_MINUS_16=152587890625e-16,l.POWER_8=256,l.POWER_MINUS_8=.00390625,l.POWER_4=16,l.POWER_MINUS_4=.0625,l.POWER_2=4,l.POWER_MINUS_2=.25,l.POWER_1=2,l.POWER_MINUS_1=.5,l.POWER_MINUS_1022=2.2250738585072014e-308,l}(n.internal.NumberHelper),r.DoubleHelper=i,t=i=r.DoubleHelper||(r.DoubleHelper={}),e=function(){function t(){}return t.powers_$LI$=function(){return null==t.powers&&(t.powers=[n.internal.DoubleHelper.POWER_512,n.internal.DoubleHelper.POWER_256,n.internal.DoubleHelper.POWER_128,n.internal.DoubleHelper.POWER_64,n.internal.DoubleHelper.POWER_32,n.internal.DoubleHelper.POWER_16,n.internal.DoubleHelper.POWER_8,n.internal.DoubleHelper.POWER_4,n.internal.DoubleHelper.POWER_2,n.internal.DoubleHelper.POWER_1]),t.powers},t.invPowers_$LI$=function(){return null==t.invPowers&&(t.invPowers=[n.internal.DoubleHelper.POWER_MINUS_512,n.internal.DoubleHelper.POWER_MINUS_256,n.internal.DoubleHelper.POWER_MINUS_128,n.internal.DoubleHelper.POWER_MINUS_64,n.internal.DoubleHelper.POWER_MINUS_32,n.internal.DoubleHelper.POWER_MINUS_16,n.internal.DoubleHelper.POWER_MINUS_8,n.internal.DoubleHelper.POWER_MINUS_4,n.internal.DoubleHelper.POWER_MINUS_2,n.internal.DoubleHelper.POWER_MINUS_1]),t.invPowers},t}(),t.PowersTable=e}(javaemul||(javaemul={})),function(s){var n,t;n=s.internal||(s.internal={}),t=function(r){function a(t){var e=this;if("string"==typeof t||null===t)r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.value=0,e.value=a.parseFloat(t);else if("number"==typeof t||null===t){var n=t;r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.value=0,e.value=n}else{if("number"!=typeof t&&null!==t)throw new Error("invalid overload");n=t;r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.value=0,e.value=n}}return __extends(a,r),a.NaN_$LI$=function(){return null==a.NaN&&(a.NaN=NaN),a.NaN},a.NEGATIVE_INFINITY_$LI$=function(){return null==a.NEGATIVE_INFINITY&&(a.NEGATIVE_INFINITY=-1/0),a.NEGATIVE_INFINITY},a.POSITIVE_INFINITY_$LI$=function(){return null==a.POSITIVE_INFINITY&&(a.POSITIVE_INFINITY=1/0),a.POSITIVE_INFINITY},a.compare=function(t,e){return s.internal.DoubleHelper.compare(t,e)},a.floatToIntBits=function(t){if(a.isNaN(t))return 2143289344;if(0===t)return 1/t===a.NEGATIVE_INFINITY_$LI$()?-2147483648:0;var e=!1;if(t<0&&(e=!0,t=-t),a.isInfinite(t))return e?-8388608:2139095040;var n=s.internal.DoubleHelper.doubleToLongBits(t),r=(n>>52&2047)-1023|0,i=(0xfffffffffffff&n)>>29|0;r<=-127&&(i=(8388608|i)>>-127-r+1,r=-127);var o=e?a.POWER_31_INT:0;return o|=r+127<<23,0|(o|=i)},a.hashCode=function(t){return 0|t},a.intBitsToFloat=function(t){var e=0!=(-2147483648&t),n=t>>23&255;if(t&=8388607,0===n){if(0===t)return e?-0:0}else if(255===n)return 0===t?e?a.NEGATIVE_INFINITY_$LI$():a.POSITIVE_INFINITY_$LI$():a.NaN_$LI$();if(0===n){for(n=1;0==(8388608&t);)t<<=1,n--;t&=8388607}var r=e?-0x8000000000000000:0;return r|=Math.round(n+896)<<52,r|=Math.round(t)<<29,s.internal.DoubleHelper.longBitsToDouble(r)},a.isInfinite=function(t){return s.internal.DoubleHelper.isInfinite(t)},a.isNaN=function(t){return s.internal.DoubleHelper.isNaN(t)},a.parseFloat=function(t){var e=n.NumberHelper.__parseAndValidateDouble(t);return a.MAX_VALUE<e?a.POSITIVE_INFINITY_$LI$():e<-a.MAX_VALUE?a.NEGATIVE_INFINITY_$LI$():e},a.toString=function(t){return new String(t).toString()},a.valueOf$float=function(t){return new a(t)},a.valueOf=function(t){if("string"==typeof t||null===t)return new a(t);if("number"==typeof t||null===t)return s.internal.FloatHelper.valueOf$float(t);throw new Error("invalid overload")},a.prototype.byteValue=function(){return 0|this.value},a.prototype.compareTo=function(t){var e=this;if(null!=t&&t instanceof s.internal.FloatHelper||null===t)return a.compare(e.value,t.value);throw new Error("invalid overload")},a.prototype.doubleValue=function(){return this.value},a.prototype.equals=function(t){return null!=t&&t instanceof s.internal.FloatHelper&&t.value===this.value},a.prototype.floatValue=function(){return this.value},a.prototype.hashCode=function(){return a.hashCode(this.value)},a.prototype.intValue=function(){return 0|this.value},a.prototype.isInfinite=function(){return a.isInfinite(this.value)},a.prototype.isNaN=function(){return a.isNaN(this.value)},a.prototype.longValue=function(){return Math.round(this.value)},a.prototype.shortValue=function(){return 0|this.value},a.prototype.toString=function(){return a.toString(this.value)},a.MAX_VALUE=3.4028235e38,a.MIN_VALUE=1.4e-45,a.MAX_EXPONENT=127,a.MIN_EXPONENT=-126,a.MIN_NORMAL=1.17549435e-38,a.SIZE=32,a.POWER_31_INT=2147483648,a}(s.internal.NumberHelper),n.FloatHelper=t}(javaemul||(javaemul={})),function(n){var i,t;i=n.internal||(n.internal={}),t=function(r){function o(t){var e=this;if("string"==typeof t||null===t)r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.value=0,e.value=o.parseInt(t);else{if("number"!=typeof t&&null!==t)throw new Error("invalid overload");var n=t;r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.value=0,e.value=n}}return __extends(o,r),o.bitCount=function(t){return t=((t=((t-=t>>1&1431655765)>>2&858993459)+(858993459&t))>>4)+t&252645135,t+=t>>8,63&(t+=t>>16)},o.compare=function(t,e){return t<e?-1:e<t?1:0},o.decode=function(t){return o.valueOf(i.NumberHelper.__decodeAndValidateInt(t,o.MIN_VALUE,o.MAX_VALUE))},o.hashCode=function(t){return t},o.highestOneBit=function(t){if(t<0)return o.MIN_VALUE;if(0===t)return 0;var e;for(e=1073741824;0==(e&t);e>>=1);return e},o.lowestOneBit=function(t){return t&-t},o.numberOfLeadingZeros=function(t){return t<0?0:0===t?o.SIZE:(r=16-(n=(e=-(t>>16))>>16&16),r+=n=(e=(t>>=n)-256)>>16&8,r+=n=(e=(t<<=n)-4096)>>16&4,(r+=n=(e=(t<<=n)-16384)>>16&2)+2-(n=(e=(t<<=n)>>14)&~(e>>1)));var e,n,r},o.numberOfTrailingZeros=function(t){if(0===t)return o.SIZE;for(var e=0,n=1;0==(n&t);n<<=1)e++;return e},o.parseInt=function(t,e){return void 0===e&&(e=10),i.NumberHelper.__parseAndValidateInt(t,e,o.MIN_VALUE,o.MAX_VALUE)},o.reverse=function(t){var e=o.ReverseNibbles.reverseNibbles_$LI$();return e[t>>>28]|e[t>>24&15]<<4|e[t>>20&15]<<8|e[t>>16&15]<<12|e[t>>12&15]<<16|e[t>>8&15]<<20|e[t>>4&15]<<24|e[15&t]<<28},o.reverseBytes=function(t){return(255&t)<<24|(65280&t)<<8|(16711680&t)>>8|(-16777216&t)>>>24},o.rotateLeft=function(t,e){for(;0<e--;)t=t<<1|(t<0?1:0);return t},o.rotateRight=function(t,e){for(var n=t&o.MAX_VALUE,r=t<0?1073741824:0;0<e--;){var i=1&n;n=r|n>>1,r=0===i?0:1073741824}return 0!==r&&(n|=o.MIN_VALUE),n},o.signum=function(t){return 0===t?0:t<0?-1:1},o.toBinaryString=function(t){return o.toUnsignedRadixString(t,2)},o.toHexString=function(t){return o.toUnsignedRadixString(t,16)},o.toOctalString=function(t){return o.toUnsignedRadixString(t,8)},o.toString$int=function(t){return new String(t).toString()},o.toString=function(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("number"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return n.internal.IntegerHelper.toString$int(t)}return 10===e||e<n.internal.CharacterHelper.MIN_RADIX||e>n.internal.CharacterHelper.MAX_RADIX?new String(t).toString():o.toRadixString(t,e)},o.valueOf$int=function(t){if(-129<t&&t<128){var e=t+128,n=o.BoxedValues.boxedValues_$LI$()[e];return null==n&&(n=o.BoxedValues.boxedValues_$LI$()[e]=new o(t)),n}return new o(t)},o.valueOf$java_lang_String=function(t){return o.valueOf(t,10)},o.valueOf=function(t,e){if("string"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("string"!=typeof t&&null!==t||void 0!==e){if("number"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return n.internal.IntegerHelper.valueOf$int(t)}return n.internal.IntegerHelper.valueOf$java_lang_String(t)}return o.valueOf(o.parseInt(t,e))},o.toRadixString=function(t,e){return t.toString(e)},o.toUnsignedRadixString=function(t,e){return(t>>>0).toString(e)},o.prototype.byteValue=function(){return 0|this.value},o.prototype.compareTo=function(t){var e=this;if(null!=t&&t instanceof n.internal.IntegerHelper||null===t)return o.compare(e.value,t.value);throw new Error("invalid overload")},o.prototype.doubleValue=function(){return this.value},o.prototype.equals=function(t){return null!=t&&t instanceof n.internal.IntegerHelper&&t.value===this.value},o.prototype.floatValue=function(){return this.value},o.prototype.hashCode=function(){return o.hashCode(this.value)},o.prototype.intValue=function(){return this.value},o.prototype.longValue=function(){return this.value},o.prototype.shortValue=function(){return 0|this.value},o.prototype.toString=function(){return o.toString(this.value)},o.MAX_VALUE=2147483647,o.MIN_VALUE=-2147483648,o.SIZE=32,o}(n.internal.NumberHelper),i.IntegerHelper=t,function(t){var e=function(){function t(){}return t.boxedValues_$LI$=function(){return null==t.boxedValues&&(t.boxedValues=new Array(256)),t.boxedValues},t}();t.BoxedValues=e;var n=function(){function t(){}return t.reverseNibbles_$LI$=function(){return null==t.reverseNibbles&&(t.reverseNibbles=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]),t.reverseNibbles},t}();t.ReverseNibbles=n}(t=i.IntegerHelper||(i.IntegerHelper={}))}(javaemul||(javaemul={})),function(h){var n,t,e,r;n=h.internal||(h.internal={}),r=function(r){function o(t){var e=this;if("string"==typeof t||null===t)r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.value=0,e.value=o.parseLong(t);else{if("number"!=typeof t&&null!==t)throw new Error("invalid overload");var n=t;r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.value=0,e.value=n}}return __extends(o,r),o.bitCount=function(t){var e=t>>32|0,n=0|t;return h.internal.IntegerHelper.bitCount(e)+h.internal.IntegerHelper.bitCount(n)},o.compare=function(t,e){return t<e?-1:e<t?1:0},o.decode=function(t){var e=n.NumberHelper.__decodeNumberString(t);return o.valueOf(e.payload,e.radix)},o.hashCode=function(t){return 0|t},o.highestOneBit=function(t){var e=t>>32|0;return 0!==e?Math.round(h.internal.IntegerHelper.highestOneBit(e))<<32:4294967295&h.internal.IntegerHelper.highestOneBit(0|t)},o.lowestOneBit=function(t){return t&-t},o.numberOfLeadingZeros=function(t){var e=t>>32|0;return 0!==e?h.internal.IntegerHelper.numberOfLeadingZeros(e):h.internal.IntegerHelper.numberOfLeadingZeros(0|t)+32},o.numberOfTrailingZeros=function(t){var e=0|t;return 0!==e?h.internal.IntegerHelper.numberOfTrailingZeros(e):h.internal.IntegerHelper.numberOfTrailingZeros(t>>32|0)+32},o.parseLong=function(t,e){return void 0===e&&(e=10),n.NumberHelper.__parseAndValidateLong(t,e)},o.reverse=function(t){var e=t>>>32|0,n=0|t;return Math.round(h.internal.IntegerHelper.reverse(n))<<32|4294967295&h.internal.IntegerHelper.reverse(e)},o.reverseBytes=function(t){var e=t>>>32|0,n=0|t;return Math.round(h.internal.IntegerHelper.reverseBytes(n))<<32|4294967295&h.internal.IntegerHelper.reverseBytes(e)},o.rotateLeft=function(t,e){for(;0<e--;)t=t<<1|(t<0?1:0);return t},o.rotateRight=function(t,e){for(var n=t&o.MAX_VALUE,r=t<0?0x4000000000000000:0;0<e--;){var i=1&n;n=r|n>>1,r=0===i?0:0x4000000000000000}return 0!==r&&(n|=o.MIN_VALUE),n},o.signum=function(t){return 0===t?0:t<0?-1:1},o.toBinaryString=function(t){return o.toPowerOfTwoUnsignedString(t,1)},o.toHexString=function(t){return o.toPowerOfTwoUnsignedString(t,4)},o.toOctalString=function(t){return o.toPowerOfTwoUnsignedString(t,3)},o.toString$long=function(t){return new String(t).toString()},o.toString=function(u,c){if("number"!=typeof u&&null!==u||"number"!=typeof c&&null!==c){if("number"!=typeof u&&null!==u||void 0!==c)throw new Error("invalid overload");return h.internal.LongHelper.toString$long(u)}return function(){if(10===c||c<h.internal.CharacterHelper.MIN_RADIX||c>h.internal.CharacterHelper.MAX_RADIX)return new String(u).toString();var t=0|u;if(t===u)return h.internal.IntegerHelper.toString(t,c);var e=u<0;e||(u=-u);var n,r,i=c<8?65:23,o=new Array(i),a=i,s=c;do{var l=Math.round(u/s);o[--a]=h.internal.CharacterHelper.forDigit(s*l-u|0),u=l}while(0!==u);return e&&(o[--a]="-"),r=i-(n=a),o.join("").substring(n,n+r)}()},o.valueOf$long=function(t){if(-129<t&&t<128){var e=128+(0|t),n=o.BoxedValues.boxedValues_$LI$()[e];return null==n&&(n=o.BoxedValues.boxedValues_$LI$()[e]=new o(t)),n}return new o(t)},o.valueOf$java_lang_String=function(t){return o.valueOf(t,10)},o.valueOf=function(t,e){if("string"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("string"!=typeof t&&null!==t||void 0!==e){if("number"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return h.internal.LongHelper.valueOf$long(t)}return h.internal.LongHelper.valueOf$java_lang_String(t)}return o.valueOf(o.parseLong(t,e))},o.toPowerOfTwoUnsignedString=function(t,e){var n=1<<e;if(h.internal.IntegerHelper.MIN_VALUE<=t&&t<=h.internal.IntegerHelper.MAX_VALUE)return h.internal.IntegerHelper.toString(0|t,n);for(var r,i,o=n-1,a=1+(64/e|0),s=new Array(a),l=a;s[--l]=h.internal.CharacterHelper.forDigit((0|t)&o),0!==(t>>>=e););return i=a-(r=l),s.join("").substring(r,r+i)},o.prototype.byteValue=function(){return 0|this.value},o.prototype.compareTo=function(t){var e=this;if(null!=t&&t instanceof h.internal.LongHelper||null===t)return o.compare(e.value,t.value);throw new Error("invalid overload")},o.prototype.doubleValue=function(){return this.value},o.prototype.equals=function(t){return null!=t&&t instanceof h.internal.LongHelper&&t.value===this.value},o.prototype.floatValue=function(){return this.value},o.prototype.hashCode=function(){return o.hashCode(this.value)},o.prototype.intValue=function(){return 0|this.value},o.prototype.longValue=function(){return this.value},o.prototype.shortValue=function(){return 0|this.value},o.prototype.toString=function(){return o.toString(this.value)},o.MAX_VALUE=0x8000000000000000,o.MIN_VALUE=-0x8000000000000000,o.SIZE=64,o}(h.internal.NumberHelper),n.LongHelper=r,t=r=n.LongHelper||(n.LongHelper={}),e=function(){function t(){}return t.boxedValues_$LI$=function(){return null==t.boxedValues&&(t.boxedValues=new Array(256)),t.boxedValues},t}(),t.BoxedValues=e}(javaemul||(javaemul={})),function(n){var o,t,e,r;o=n.internal||(n.internal={}),r=function(r){function i(t){var e=this;if("string"==typeof t||null===t)r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.value=0,e.value=i.parseShort(t);else{if("number"!=typeof t&&null!==t)throw new Error("invalid overload");var n=t;r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.value=0,e.value=n}}return __extends(i,r),i.MIN_VALUE_$LI$=function(){return null==i.MIN_VALUE&&(i.MIN_VALUE=32768),i.MIN_VALUE},i.MAX_VALUE_$LI$=function(){return null==i.MAX_VALUE&&(i.MAX_VALUE=32767),i.MAX_VALUE},i.TYPE_$LI$=function(){return null==i.TYPE&&(i.TYPE=Number),i.TYPE},i.compare=function(t,e){return t-e},i.decode=function(t){return i.valueOf(0|o.NumberHelper.__decodeAndValidateInt(t,i.MIN_VALUE_$LI$(),i.MAX_VALUE_$LI$()))},i.hashCode=function(t){return t},i.parseShort=function(t,e){return void 0===e&&(e=10),0|o.NumberHelper.__parseAndValidateInt(t,e,i.MIN_VALUE_$LI$(),i.MAX_VALUE_$LI$())},i.reverseBytes=function(t){return(255&t)<<8|(65280&t)>>8|0},i.toString=function(t){return new String(t).toString()},i.valueOf$short=function(t){if(-129<t&&t<128){var e=t+128,n=i.BoxedValues.boxedValues_$LI$()[e];return null==n&&(n=i.BoxedValues.boxedValues_$LI$()[e]=new i(t)),n}return new i(t)},i.valueOf$java_lang_String=function(t){return i.valueOf(t,10)},i.valueOf=function(t,e){if("string"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if("string"!=typeof t&&null!==t||void 0!==e){if("number"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return n.internal.ShortHelper.valueOf$short(t)}return n.internal.ShortHelper.valueOf$java_lang_String(t)}return i.valueOf(i.parseShort(t,e))},i.prototype.byteValue=function(){return 0|this.value},i.prototype.compareTo=function(t){var e=this;if(null!=t&&t instanceof n.internal.ShortHelper||null===t)return i.compare(e.value,t.value);throw new Error("invalid overload")},i.prototype.doubleValue=function(){return this.value},i.prototype.equals=function(t){return null!=t&&t instanceof n.internal.ShortHelper&&t.value===this.value},i.prototype.floatValue=function(){return this.value},i.prototype.hashCode=function(){return i.hashCode(this.value)},i.prototype.intValue=function(){return this.value},i.prototype.longValue=function(){return this.value},i.prototype.shortValue=function(){return this.value},i.prototype.toString=function(){return i.toString(this.value)},i.SIZE=16,i}(n.internal.NumberHelper),o.ShortHelper=r,t=r=o.ShortHelper||(o.ShortHelper={}),e=function(){function t(){}return t.boxedValues_$LI$=function(){return null==t.boxedValues&&(t.boxedValues=new Array(256)),t.boxedValues},t}(),t.BoxedValues=e}(javaemul||(javaemul={})),function(r){var t,e,n;t=r.awt||(r.awt={}),e=t.geom||(t.geom={}),n=function(n){function t(t,e){n.call(this,r.awt.geom.Curve.INCREASING),this.x=0,this.y=0,this.x=t,this.y=e}return __extends(t,n),t.prototype.getOrder=function(){return 0},t.prototype.getXTop=function(){return this.x},t.prototype.getYTop=function(){return this.y},t.prototype.getXBot=function(){return this.x},t.prototype.getYBot=function(){return this.y},t.prototype.getXMin=function(){return this.x},t.prototype.getXMax=function(){return this.x},t.prototype.getX0=function(){return this.x},t.prototype.getY0=function(){return this.y},t.prototype.getX1=function(){return this.x},t.prototype.getY1=function(){return this.y},t.prototype.XforY=function(t){return t},t.prototype.TforY=function(t){return 0},t.prototype.XforT=function(t){return this.x},t.prototype.YforT=function(t){return this.y},t.prototype.dXforT=function(t,e){return 0},t.prototype.dYforT=function(t,e){return 0},t.prototype.nextVertical=function(t,e){return e},t.prototype.crossingsFor=function(t,e){return 0},t.prototype.accumulateCrossings=function(t){return this.x>t.getXLo()&&this.x<t.getXHi()&&this.y>t.getYLo()&&this.y<t.getYHi()},t.prototype.enlarge=function(t){t.add(this.x,this.y)},t.prototype.getSubCurve=function(t,e,n){var r=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n)throw new Error("invalid overload");return this.getSubCurve$double$double(t,e)}return r},t.prototype.getReversedCurve=function(){return this},t.prototype.getSegment=function(t){return t[0]=this.x,t[1]=this.y,java.awt.geom.PathIterator.SEG_MOVETO},t}(r.awt.geom.Curve),e.Order0=n}(sun||(sun={})),function(c){var t,h,e;t=c.awt||(c.awt={}),h=t.geom||(t.geom={}),e=function(u){function l(t,e,n,r,i){u.call(this,i),this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.xmin=0,this.xmax=0,this.x0=t,this.y0=e,this.x1=n,this.y1=r,t<n?(this.xmin=t,this.xmax=n):(this.xmin=n,this.xmax=t)}return __extends(l,u),l.prototype.getOrder=function(){return 1},l.prototype.getXTop=function(){return this.x0},l.prototype.getYTop=function(){return this.y0},l.prototype.getXBot=function(){return this.x1},l.prototype.getYBot=function(){return this.y1},l.prototype.getXMin=function(){return this.xmin},l.prototype.getXMax=function(){return this.xmax},l.prototype.getX0=function(){return this.direction===c.awt.geom.Curve.INCREASING?this.x0:this.x1},l.prototype.getY0=function(){return this.direction===c.awt.geom.Curve.INCREASING?this.y0:this.y1},l.prototype.getX1=function(){return this.direction===c.awt.geom.Curve.DECREASING?this.x0:this.x1},l.prototype.getY1=function(){return this.direction===c.awt.geom.Curve.DECREASING?this.y0:this.y1},l.prototype.XforY=function(t){return this.x0===this.x1||t<=this.y0?this.x0:t>=this.y1?this.x1:this.x0+(t-this.y0)*(this.x1-this.x0)/(this.y1-this.y0)},l.prototype.TforY=function(t){return t<=this.y0?0:t>=this.y1?1:(t-this.y0)/(this.y1-this.y0)},l.prototype.XforT=function(t){return this.x0+t*(this.x1-this.x0)},l.prototype.YforT=function(t){return this.y0+t*(this.y1-this.y0)},l.prototype.dXforT=function(t,e){switch(e){case 0:return this.x0+t*(this.x1-this.x0);case 1:return this.x1-this.x0;default:return 0}},l.prototype.dYforT=function(t,e){switch(e){case 0:return this.y0+t*(this.y1-this.y0);case 1:return this.y1-this.y0;default:return 0}},l.prototype.nextVertical=function(t,e){return e},l.prototype.accumulateCrossings=function(t){var e,n,r,i,o=t.getXLo(),a=t.getYLo(),s=t.getXHi(),l=t.getYHi();if(this.xmin>=s)return!1;if(this.y0<a){if(this.y1<=a)return!1;n=a,e=this.XforY(a)}else{if(this.y0>=l)return!1;n=this.y0,e=this.x0}return this.y1>l?(i=l,r=this.XforY(l)):(i=this.y1,r=this.x1),!(s<=e&&s<=r)&&(o<e||o<r||(t.record(n,i,this.direction),!1))},l.prototype.enlarge=function(t){t.add(this.x0,this.y0),t.add(this.x1,this.y1)},l.prototype.getSubCurve=function(i,o,a){var s=this;if("number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a){if("number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||void 0!==a)throw new Error("invalid overload");return this.getSubCurve$double$double(i,o)}return function(){if(i===s.y0&&o===s.y1)return s.getWithDirection(a);if(s.x0===s.x1)return new l(s.x0,i,s.x1,o,a);var t=s.x0-s.x1,e=s.y0-s.y1,n=s.x0+(i-s.y0)*t/e,r=s.x0+(o-s.y0)*t/e;return new l(n,i,r,o,a)}()},l.prototype.getReversedCurve=function(){return new l(this.x0,this.y0,this.x1,this.y1,-this.direction)},l.prototype.compareTo=function(t,e){if(!(null!=t&&t instanceof c.awt.geom.Order1))return u.prototype.compareTo.call(this,t,e);var n=t;if(e[1]<=e[0])throw new java.lang.InternalError("yrange already screwed up...");if(e[1]=Math.min(Math.min(e[1],this.y1),n.y1),e[1]<=e[0])throw new java.lang.InternalError("backstepping from "+e[0]+" to "+e[1]);if(this.xmax<=n.xmin)return this.xmin===n.xmax?0:-1;if(this.xmin>=n.xmax)return 1;var r,i=this.x1-this.x0,o=this.y1-this.y0,a=n.x1-n.x0,s=n.y1-n.y0,l=a*o-i*s;return 0!==l?(r=((this.x0-n.x0)*o*s-this.y0*i*s+n.y0*a*o)/l)<=e[0]?r=Math.min(this.y1,n.y1):(r<e[1]&&(e[1]=r),r=Math.max(this.y0,n.y0)):r=Math.max(this.y0,n.y0),h.Curve.orderof(this.XforY(r),n.XforY(r))},l.prototype.getSegment=function(t){return this.direction===c.awt.geom.Curve.INCREASING?(t[0]=this.x1,t[1]=this.y1):(t[0]=this.x0,t[1]=this.y0),java.awt.geom.PathIterator.SEG_LINETO},l}(c.awt.geom.Curve),h.Order1=e}(sun||(sun={})),function(p){var t,e,n;t=p.awt||(p.awt={}),e=t.geom||(t.geom={}),n=function(s){function f(t,e,n,r,i,o,a){s.call(this,a),this.x0=0,this.y0=0,this.cx0=0,this.cy0=0,this.x1=0,this.y1=0,this.xmin=0,this.xmax=0,this.xcoeff0=0,this.xcoeff1=0,this.xcoeff2=0,this.ycoeff0=0,this.ycoeff1=0,this.ycoeff2=0,r<e?r=e:o<r&&(r=o),this.x0=t,this.y0=e,this.cx0=n,this.cy0=r,this.x1=i,this.y1=o,this.xmin=Math.min(Math.min(t,i),n),this.xmax=Math.max(Math.max(t,i),n),this.xcoeff0=t,this.xcoeff1=n+n-t-t,this.xcoeff2=t-n-n+i,this.ycoeff0=e,this.ycoeff1=r+r-e-e,this.ycoeff2=e-r-r+o}return __extends(f,s),f.insert=function(t,e,n,r,i,o,a,s,l){if(0!==f.getHorizontalParams(r,o,s,e)){var u=e[0];e[0]=n,e[1]=r,e[2]=i,e[3]=o,e[4]=a,e[5]=s,f.split(e,0,u);var c=l===p.awt.geom.Curve.INCREASING?0:4,h=4-c;f.addInstance(t,e[c],e[c+1],e[c+2],e[c+3],e[c+4],e[c+5],l),f.addInstance(t,e[h],e[h+1],e[h+2],e[h+3],e[h+4],e[h+5],l)}else f.addInstance(t,n,r,i,o,a,s,l)},f.addInstance=function(t,e,n,r,i,o,a,s){a<n?t.add(new f(o,a,r,i,e,n,-s)):n<a&&t.add(new f(e,n,r,i,o,a,s))},f.getHorizontalParams=function(t,e,n,r){if(t<=e&&e<=n)return 0;var i=(t-=e)+(n-=e);if(0===i)return 0;var o=t/i;return o<=0||1<=o?0:(r[0]=o,1)},f.split=function(t,e,n){var r,i,o,a,s,l;t[e+8]=s=t[e+4],t[e+9]=l=t[e+5],s=(o=t[e+2])+(s-o)*n,l=(a=t[e+3])+(l-a)*n,r=t[e+0],i=t[e+1],o=(r+=(o-r)*n)+(s-r)*n,a=(i+=(a-i)*n)+(l-i)*n,t[e+2]=r,t[e+3]=i,t[e+4]=o,t[e+5]=a,t[e+6]=s,t[e+7]=l},f.prototype.getOrder=function(){return 2},f.prototype.getXTop=function(){return this.x0},f.prototype.getYTop=function(){return this.y0},f.prototype.getXBot=function(){return this.x1},f.prototype.getYBot=function(){return this.y1},f.prototype.getXMin=function(){return this.xmin},f.prototype.getXMax=function(){return this.xmax},f.prototype.getX0=function(){return this.direction===p.awt.geom.Curve.INCREASING?this.x0:this.x1},f.prototype.getY0=function(){return this.direction===p.awt.geom.Curve.INCREASING?this.y0:this.y1},f.prototype.getCX0=function(){return this.cx0},f.prototype.getCY0=function(){return this.cy0},f.prototype.getX1=function(){return this.direction===p.awt.geom.Curve.DECREASING?this.x0:this.x1},f.prototype.getY1=function(){return this.direction===p.awt.geom.Curve.DECREASING?this.y0:this.y1},f.prototype.XforY=function(t){return t<=this.y0?this.x0:t>=this.y1?this.x1:this.XforT(this.TforY(t))},f.prototype.TforY=function(t){return t<=this.y0?0:t>=this.y1?1:f.TforY(t,this.ycoeff0,this.ycoeff1,this.ycoeff2)},f.TforY=function(t,e,n,r){if(e-=t,0===r){if(0<=(o=-e/n)&&o<=1)return o}else{var i=n*n-4*r*e;if(0<=i){i=Math.sqrt(i),n<0&&(i=-i);var o,a=(n+i)/-2;if(0<=(o=a/r)&&o<=1)return o;if(0!==a&&0<=(o=e/a)&&o<=1)return o}}return 0<(e+(e+n+r))/2?0:1},f.prototype.XforT=function(t){return(this.xcoeff2*t+this.xcoeff1)*t+this.xcoeff0},f.prototype.YforT=function(t){return(this.ycoeff2*t+this.ycoeff1)*t+this.ycoeff0},f.prototype.dXforT=function(t,e){switch(e){case 0:return(this.xcoeff2*t+this.xcoeff1)*t+this.xcoeff0;case 1:return 2*this.xcoeff2*t+this.xcoeff1;case 2:return 2*this.xcoeff2;default:return 0}},f.prototype.dYforT=function(t,e){switch(e){case 0:return(this.ycoeff2*t+this.ycoeff1)*t+this.ycoeff0;case 1:return 2*this.ycoeff2*t+this.ycoeff1;case 2:return 2*this.ycoeff2;default:return 0}},f.prototype.nextVertical=function(t,e){var n=-this.xcoeff1/(2*this.xcoeff2);return t<n&&n<e?n:e},f.prototype.enlarge=function(t){t.add(this.x0,this.y0);var e=-this.xcoeff1/(2*this.xcoeff2);0<e&&e<1&&t.add(this.XforT(e),this.YforT(e)),t.add(this.x1,this.y1)},f.prototype.getSubCurve=function(i,o,a){var s=this;if("number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a){if("number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||void 0!==a)throw new Error("invalid overload");return this.getSubCurve$double$double(i,o)}return function(){var t,e;if(i<=s.y0){if(o>=s.y1)return s.getWithDirection(a);t=0}else t=f.TforY(i,s.ycoeff0,s.ycoeff1,s.ycoeff2);e=o>=s.y1?1:f.TforY(o,s.ycoeff0,s.ycoeff1,s.ycoeff2);var n,r=new Array(10);return r[0]=s.x0,r[1]=s.y0,r[2]=s.cx0,r[3]=s.cy0,r[4]=s.x1,r[5]=s.y1,e<1&&f.split(r,0,e),t<=0?n=0:(f.split(r,0,t/e),n=4),new f(r[n+0],i,r[n+2],r[n+3],r[n+4],o,a)}()},f.prototype.getReversedCurve=function(){return new f(this.x0,this.y0,this.cx0,this.cy0,this.x1,this.y1,-this.direction)},f.prototype.getSegment=function(t){return t[0]=this.cx0,t[1]=this.cy0,this.direction===p.awt.geom.Curve.INCREASING?(t[2]=this.x1,t[3]=this.y1):(t[2]=this.x0,t[3]=this.y0),java.awt.geom.PathIterator.SEG_QUADTO},f.prototype.controlPointString=function(){return"("+e.Curve.round(this.cx0)+", "+e.Curve.round(this.cy0)+"), "},f}(p.awt.geom.Curve),e.Order2=n}(sun||(sun={})),function(y){var t,e,n;t=y.awt||(y.awt={}),e=t.geom||(t.geom={}),n=function(u){function d(t,e,n,r,i,o,a,s,l){u.call(this,l),this.x0=0,this.y0=0,this.cx0=0,this.cy0=0,this.cx1=0,this.cy1=0,this.x1=0,this.y1=0,this.xmin=0,this.xmax=0,this.xcoeff0=0,this.xcoeff1=0,this.xcoeff2=0,this.xcoeff3=0,this.ycoeff0=0,this.ycoeff1=0,this.ycoeff2=0,this.ycoeff3=0,this.TforY1=0,this.YforT1=0,this.TforY2=0,this.YforT2=0,this.TforY3=0,this.YforT3=0,r<e&&(r=e),s<o&&(o=s),this.x0=t,this.y0=e,this.cx0=n,this.cy0=r,this.cx1=i,this.cy1=o,this.x1=a,this.y1=s,this.xmin=Math.min(Math.min(t,a),Math.min(n,i)),this.xmax=Math.max(Math.max(t,a),Math.max(n,i)),this.xcoeff0=t,this.xcoeff1=3*(n-t),this.xcoeff2=3*(i-n-n+t),this.xcoeff3=a-3*(i-n)-t,this.ycoeff0=e,this.ycoeff1=3*(r-e),this.ycoeff2=3*(o-r-r+e),this.ycoeff3=s-3*(o-r)-e,this.YforT1=this.YforT2=this.YforT3=e}return __extends(d,u),d.insert=function(t,e,n,r,i,o,a,s,l,u,c){var h=d.getHorizontalParams(r,o,s,u,e);if(0!==h){e[3]=n,e[4]=r,e[5]=i,e[6]=o,e[7]=a,e[8]=s,e[9]=l,e[10]=u;var f=e[0];1<h&&f>e[1]&&(e[0]=e[1],e[1]=f,f=e[0]),d.split(e,3,f),1<h&&(f=(e[1]-f)/(1-f),d.split(e,9,f));var p=3;for(c===y.awt.geom.Curve.DECREASING&&(p+=6*h);0<=h;)d.addInstance(t,e[p+0],e[p+1],e[p+2],e[p+3],e[p+4],e[p+5],e[p+6],e[p+7],c),h--,c===y.awt.geom.Curve.INCREASING?p+=6:p-=6}else d.addInstance(t,n,r,i,o,a,s,l,u,c)},d.addInstance=function(t,e,n,r,i,o,a,s,l,u){l<n?t.add(new d(s,l,o,a,r,i,e,n,-u)):n<l&&t.add(new d(e,n,r,i,o,a,s,l,u))},d.getHorizontalParams=function(t,e,n,r,i){if(t<=e&&e<=n&&n<=r)return 0;r-=n,n-=e,e-=t,i[0]=e,i[1]=2*(n-e),i[2]=r-n-n+e;for(var o=java.awt.geom.QuadCurve2D.solveQuadratic(i,i),a=0,s=0;s<o;s++){var l=i[s];0<l&&l<1&&(a<s&&(i[a]=l),a++)}return a},d.split=function(t,e,n){var r,i,o,a,s,l,u,c;t[e+12]=u=t[e+6],t[e+13]=c=t[e+7],u=(s=t[e+4])+(u-s)*n,c=(l=t[e+5])+(c-l)*n,r=t[e+0],i=t[e+1],r+=((o=t[e+2])-r)*n,i+=((a=t[e+3])-i)*n,s=(o+=(s-o)*n)+(u-o)*n,l=(a+=(l-a)*n)+(c-a)*n,o=r+(o-r)*n,a=i+(a-i)*n,t[e+2]=r,t[e+3]=i,t[e+4]=o,t[e+5]=a,t[e+6]=o+(s-o)*n,t[e+7]=a+(l-a)*n,t[e+8]=s,t[e+9]=l,t[e+10]=u,t[e+11]=c},d.prototype.getOrder=function(){return 3},d.prototype.getXTop=function(){return this.x0},d.prototype.getYTop=function(){return this.y0},d.prototype.getXBot=function(){return this.x1},d.prototype.getYBot=function(){return this.y1},d.prototype.getXMin=function(){return this.xmin},d.prototype.getXMax=function(){return this.xmax},d.prototype.getX0=function(){return this.direction===y.awt.geom.Curve.INCREASING?this.x0:this.x1},d.prototype.getY0=function(){return this.direction===y.awt.geom.Curve.INCREASING?this.y0:this.y1},d.prototype.getCX0=function(){return this.direction===y.awt.geom.Curve.INCREASING?this.cx0:this.cx1},d.prototype.getCY0=function(){return this.direction===y.awt.geom.Curve.INCREASING?this.cy0:this.cy1},d.prototype.getCX1=function(){return this.direction===y.awt.geom.Curve.DECREASING?this.cx0:this.cx1},d.prototype.getCY1=function(){return this.direction===y.awt.geom.Curve.DECREASING?this.cy0:this.cy1},d.prototype.getX1=function(){return this.direction===y.awt.geom.Curve.DECREASING?this.x0:this.x1},d.prototype.getY1=function(){return this.direction===y.awt.geom.Curve.DECREASING?this.y0:this.y1},d.prototype.TforY=function(t){if(t<=this.y0)return 0;if(t>=this.y1)return 1;if(t===this.YforT1)return this.TforY1;if(t===this.YforT2)return this.TforY2;if(t===this.YforT3)return this.TforY3;if(0===this.ycoeff3)return y.awt.geom.Order2.TforY(t,this.ycoeff0,this.ycoeff1,this.ycoeff2);var e,n=this.ycoeff2/this.ycoeff3,r=this.ycoeff1/this.ycoeff3,i=(this.ycoeff0-t)/this.ycoeff3,o=(n*n-3*r)/9,a=(2*n*n*n-9*n*r+27*i)/54,s=a*a,l=o*o*o,u=n/3;if(s<l){var c=Math.acos(a/Math.sqrt(l));o=-2*Math.sqrt(o),(e=this.refine(n,r,i,t,o*Math.cos(c/3)-u))<0&&(e=this.refine(n,r,i,t,o*Math.cos((c+2*Math.PI)/3)-u)),e<0&&(e=this.refine(n,r,i,t,o*Math.cos((c-2*Math.PI)/3)-u))}else{var h=a<0,f=Math.sqrt(s-l);h&&(a=-a);var p=Math.pow(a+f,1/3);h||(p=-p);var d=0===p?0:o/p;e=this.refine(n,r,i,t,p+d-u)}if(e<0)for(var v=0,m=1;(e=(v+m)/2)!==v&&e!==m;){var g=this.YforT(e);if(g<t)v=e;else{if(!(t<g))break;m=e}}return 0<=e&&(this.TforY3=this.TforY2,this.YforT3=this.YforT2,this.TforY2=this.TforY1,this.YforT2=this.YforT1,this.TforY1=e,this.YforT1=t),e},d.prototype.refine=function(t,e,n,r,i){if(i<-.1||1.1<i)return-1;var o,a,s=this.YforT(i);s<r?(o=i,a=1):(o=0,a=i);for(var l=!0;s!==r;){if(l){var u=this.dYforT(i,1);if(0===u){l=!1;continue}if((c=i+(r-s)/u)===i||c<=o||a<=c){l=!1;continue}i=c}else{var c;if((c=(o+a)/2)===o||c===a)break;i=c}if((s=this.YforT(i))<r)o=i;else{if(!(r<s))break;a=i}}return 1<i?-1:i},d.prototype.XforY=function(t){return t<=this.y0?this.x0:t>=this.y1?this.x1:this.XforT(this.TforY(t))},d.prototype.XforT=function(t){return((this.xcoeff3*t+this.xcoeff2)*t+this.xcoeff1)*t+this.xcoeff0},d.prototype.YforT=function(t){return((this.ycoeff3*t+this.ycoeff2)*t+this.ycoeff1)*t+this.ycoeff0},d.prototype.dXforT=function(t,e){switch(e){case 0:return((this.xcoeff3*t+this.xcoeff2)*t+this.xcoeff1)*t+this.xcoeff0;case 1:return(3*this.xcoeff3*t+2*this.xcoeff2)*t+this.xcoeff1;case 2:return 6*this.xcoeff3*t+2*this.xcoeff2;case 3:return 6*this.xcoeff3;default:return 0}},d.prototype.dYforT=function(t,e){switch(e){case 0:return((this.ycoeff3*t+this.ycoeff2)*t+this.ycoeff1)*t+this.ycoeff0;case 1:return(3*this.ycoeff3*t+2*this.ycoeff2)*t+this.ycoeff1;case 2:return 6*this.ycoeff3*t+2*this.ycoeff2;case 3:return 6*this.ycoeff3;default:return 0}},d.prototype.nextVertical=function(t,e){for(var n=[this.xcoeff1,2*this.xcoeff2,3*this.xcoeff3],r=java.awt.geom.QuadCurve2D.solveQuadratic(n,n),i=0;i<r;i++)t<n[i]&&n[i]<e&&(e=n[i]);return e},d.prototype.enlarge=function(t){t.add(this.x0,this.y0);for(var e=[this.xcoeff1,2*this.xcoeff2,3*this.xcoeff3],n=java.awt.geom.QuadCurve2D.solveQuadratic(e,e),r=0;r<n;r++){var i=e[r];0<i&&i<1&&t.add(this.XforT(i),this.YforT(i))}t.add(this.x1,this.y1)},d.prototype.getSubCurve=function(o,a,s){var l=this;if("number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a||"number"!=typeof s&&null!==s){if("number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a||void 0!==s)throw new Error("invalid overload");return this.getSubCurve$double$double(o,a)}return function(){if(o<=l.y0&&a>=l.y1)return l.getWithDirection(s);var t,e,n,r=new Array(14);if(t=l.TforY(o),e=l.TforY(a),r[0]=l.x0,r[1]=l.y0,r[2]=l.cx0,r[3]=l.cy0,r[4]=l.cx1,r[5]=l.cy1,r[6]=l.x1,r[7]=l.y1,e<t){var i=t;t=e,e=i}return e<1&&d.split(r,0,e),t<=0?n=0:(d.split(r,0,t/e),n=6),new d(r[n+0],o,r[n+2],r[n+3],r[n+4],r[n+5],r[n+6],a,s)}()},d.prototype.getReversedCurve=function(){return new d(this.x0,this.y0,this.cx0,this.cy0,this.cx1,this.cy1,this.x1,this.y1,-this.direction)},d.prototype.getSegment=function(t){return this.direction===y.awt.geom.Curve.INCREASING?(t[0]=this.cx0,t[1]=this.cy0,t[2]=this.cx1,t[3]=this.cy1,t[4]=this.x1,t[5]=this.y1):(t[0]=this.cx1,t[1]=this.cy1,t[2]=this.cx0,t[3]=this.cy0,t[4]=this.x0,t[5]=this.y0),java.awt.geom.PathIterator.SEG_CUBICTO},d.prototype.controlPointString=function(){return"("+e.Curve.round(this.getCX0())+", "+e.Curve.round(this.getCY0())+"), ("+e.Curve.round(this.getCX1())+", "+e.Curve.round(this.getCY1())+"), "},d}(y.awt.geom.Curve),e.Order3=n}(sun||(sun={})),function(M){var t,e,n;t=M.awt||(M.awt={}),e=t.geom||(t.geom={}),n=function(){function P(){this.verbose=!1}return P.prototype.calculate=function(t,e){var n=new java.util.Vector;if(P.addEdges(n,t,P.CTAG_LEFT),P.addEdges(n,e,P.CTAG_RIGHT),n=this.pruneEdges(n),this.verbose){console.info("result: ");for(var r=n.size(),i=n.toArray(new Array(r)),o=0;o<r;o++)console.info("curvelist["+o+"] = "+i[o])}return n},P.addEdges=function(t,e,n){for(var r=e.elements();r.hasMoreElements();){var i=r.nextElement();0<i.getOrder()&&t.add(new M.awt.geom.Edge(i,n))}},P.YXTopComparator_$LI$=function(){return null==P.YXTopComparator&&(P.YXTopComparator=new P.AreaOp$0),P.YXTopComparator},P.prototype.pruneEdges=function(t){var e=t.size();if(e<2)return t;var n,r=t.toArray(new Array(e));if(java.util.Arrays.sort(r,P.YXTopComparator_$LI$()),this.verbose){console.info("pruning: ");for(var i=0;i<e;i++)console.info("edgelist["+i+"] = "+r[i])}for(var o=0,a=0,s=0,l=0,u=new Array(2),c=new java.util.Vector,h=new java.util.Vector,f=new java.util.Vector;o<e;){var p=u[0];for(s=l=a-1;o<=s;s--)(n=r[s]).getCurve().getYBot()>p&&(s<l&&(r[l]=n),l--);if(a<=(o=l+1)){if(e<=a)break;(p=r[a].getCurve().getYTop())>u[0]&&P.finalizeSubCurves(c,h),u[0]=p}for(;a<e&&!((n=r[a]).getCurve().getYTop()>p);)a++;if(u[1]=r[o].getCurve().getYBot(),a<e&&(p=r[a].getCurve().getYTop(),u[1]>p&&(u[1]=p)),this.verbose)for(console.info("current line: y = ["+u[0]+", "+u[1]+"]"),s=o;s<a;s++)console.info("  "+r[s]);var d=1;for(s=o;s<a;s++){for((n=r[s]).setEquivalence(0),l=s;o<l;l--){var v=r[l-1],m=n.compareTo(v,u);if(u[1]<=u[0])throw new java.lang.InternalError("backstepping to "+u[1]+" from "+u[0]);if(0<=m){0===m&&(0===(A=v.getEquivalence())&&(A=d++,v.setEquivalence(A)),n.setEquivalence(A));break}r[l]=v}r[l]=n}if(this.verbose)for(console.info("current sorted line: y = ["+u[0]+", "+u[1]+"]"),s=o;s<a;s++)console.info("  "+r[s]);this.newRow();var g=u[0],y=u[1];for(s=o;s<a;s++){var _;if(0!==(A=(n=r[s]).getEquivalence())){var b=this.getState();_=b===P.RSTAG_INSIDE?P.ETAG_EXIT:P.ETAG_ENTER;for(var w=null,E=n,x=y;this.classify(n),null==w&&n.isActiveFor(g,_)&&(w=n),x<(p=n.getCurve().getYBot())&&(E=n,x=p),++s<a&&(n=r[s]).getEquivalence()===A;);--s,this.getState()===b?_=P.ETAG_IGNORE:n=null!=w?w:E}else _=this.classify(n);_!==P.ETAG_IGNORE&&(n.record(y,_),f.add(new M.awt.geom.CurveLink(n.getCurve(),g,y,_)))}if(this.getState()!==P.RSTAG_OUTSIDE)for(console.info("Still inside at end of active edge list!"),console.info("num curves = "+(a-o)),console.info("num links = "+f.size()),console.info("y top = "+u[0]),a<e?console.info("y top of next curve = "+r[a].getCurve().getYTop()):console.info("no more curves"),s=o;s<a;s++){var A;n=r[s],console.info(n),0!==(A=n.getEquivalence())&&console.info("  was equal to "+A+"...")}if(this.verbose)for(console.info("new links:"),i=0;i<f.size();i++){var S=f.elementAt(i);console.info("  "+S.getSubCurve())}P.resolveLinks(c,h,f),f.clear(),u[0]=y}P.finalizeSubCurves(c,h);for(var T=new java.util.Vector,L=c.elements();L.hasMoreElements();){S=L.nextElement(),T.add(S.getMoveto());for(var I=S;null!=(I=I.getNext());)S.absorb(I)||(T.add(S.getSubCurve()),S=I);T.add(S.getSubCurve())}return T},P.finalizeSubCurves=function(t,e){var n=e.size();if(0!==n){if(0!=(1&n))throw new java.lang.InternalError("Odd number of chains!");var r=new Array(n);e.toArray(r);for(var i=1;i<n;i+=2){var o=r[i-1],a=r[i],s=o.linkTo(a);null!=s&&t.add(s)}e.clear()}},P.EmptyLinkList_$LI$=function(){return null==P.EmptyLinkList&&(P.EmptyLinkList=new Array(2)),P.EmptyLinkList},P.EmptyChainList_$LI$=function(){return null==P.EmptyChainList&&(P.EmptyChainList=new Array(2)),P.EmptyChainList},P.resolveLinks=function(t,e,n){var r,i=n.size();if(0===i)r=P.EmptyLinkList_$LI$();else{if(0!=(1&i))throw new java.lang.InternalError("Odd number of new curves!");r=new Array(i+2),n.toArray(r)}var o,a=e.size();if(0===a)o=P.EmptyChainList_$LI$();else{if(0!=(1&a))throw new java.lang.InternalError("Odd number of chains!");o=new Array(a+2),e.toArray(o)}var s=0,l=0;e.clear();for(var u=o[0],c=o[1],h=r[0],f=r[1];null!=u||null!=h;){var p=null==h,d=null==u;if(!(p||d||(p=0==(1&s)&&u.getX()===c.getX(),d=0==(1&l)&&h.getX()===f.getX(),p||d))){var v=u.getX(),m=h.getX();p=null!=c&&v<m&&P.obstructs(c.getX(),m,s),d=null!=f&&m<v&&P.obstructs(f.getX(),v,l)}if(p){var g=u.linkTo(c);null!=g&&t.add(g),u=o[s+=2],c=o[s+1]}if(d){var y=new M.awt.geom.ChainEnd(h,null),_=new M.awt.geom.ChainEnd(f,y);y.setOtherEnd(_),e.add(y),e.add(_),h=r[l+=2],f=r[l+1]}p||d||(u.addLink(h),e.add(u),u=c,c=o[++s+1],h=f,f=r[++l+1])}0!=(1&e.size())&&console.info("Odd number of chains!")},P.obstructs=function(t,e,n){return 0==(1&n)?t<=e:t<e},P.CTAG_LEFT=0,P.CTAG_RIGHT=1,P.ETAG_IGNORE=0,P.ETAG_ENTER=1,P.ETAG_EXIT=-1,P.RSTAG_INSIDE=1,P.RSTAG_OUTSIDE=-1,P}(),e.AreaOp=n,function(t){var e=function(t){function e(){t.call(this),this.inLeft=!1,this.inRight=!1,this.inResult=!1}return __extends(e,t),e.prototype.newRow=function(){this.inLeft=!1,this.inRight=!1,this.inResult=!1},e.prototype.classify=function(t){t.getCurveTag()===M.awt.geom.AreaOp.CTAG_LEFT?this.inLeft=!this.inLeft:this.inRight=!this.inRight;var e=this.newClassification(this.inLeft,this.inRight);return this.inResult===e?M.awt.geom.AreaOp.ETAG_IGNORE:(this.inResult=e)?M.awt.geom.AreaOp.ETAG_ENTER:M.awt.geom.AreaOp.ETAG_EXIT},e.prototype.getState=function(){return this.inResult?M.awt.geom.AreaOp.RSTAG_INSIDE:M.awt.geom.AreaOp.RSTAG_OUTSIDE},e}(M.awt.geom.AreaOp);t.CAGOp=e;var n=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.newClassification=function(t,e){return t||e},e}(t.CAGOp);t.AddOp=n;var r=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.newClassification=function(t,e){return t&&!e},e}(t.CAGOp);t.SubOp=r;var i=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.newClassification=function(t,e){return t&&e},e}(t.CAGOp);t.IntOp=i;var o=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.newClassification=function(t,e){return t!==e},e}(t.CAGOp);t.XorOp=o;var a=function(t){function e(){t.call(this),this.count=0}return __extends(e,t),e.prototype.newRow=function(){this.count=0},e.prototype.classify=function(t){var e=this.count,n=0===e?M.awt.geom.AreaOp.ETAG_ENTER:M.awt.geom.AreaOp.ETAG_IGNORE;return e+=t.getCurve().getDirection(),0===(this.count=e)?M.awt.geom.AreaOp.ETAG_EXIT:n},e.prototype.getState=function(){return 0===this.count?M.awt.geom.AreaOp.RSTAG_OUTSIDE:M.awt.geom.AreaOp.RSTAG_INSIDE},e}(M.awt.geom.AreaOp);t.NZWindOp=a;var s=function(t){function e(){t.call(this),this.inside=!1}return __extends(e,t),e.prototype.newRow=function(){this.inside=!1},e.prototype.classify=function(t){var e=!this.inside;return(this.inside=e)?M.awt.geom.AreaOp.ETAG_ENTER:M.awt.geom.AreaOp.ETAG_EXIT},e.prototype.getState=function(){return this.inside?M.awt.geom.AreaOp.RSTAG_INSIDE:M.awt.geom.AreaOp.RSTAG_OUTSIDE},e}(M.awt.geom.AreaOp);t.EOWindOp=s;var l=function(){function t(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Comparator"]})}return t.prototype.compare=function(t,e){var n,r,i=t.getCurve(),o=e.getCurve();return(n=i.getYTop())===(r=o.getYTop())&&(n=i.getXTop())===(r=o.getXTop())?0:n<r?-1:1},t}();t.AreaOp$0=l}(n=e.AreaOp||(e.AreaOp={}))}(sun||(sun={})),function(c){var t,e,n;t=c.awt||(c.awt={}),e=t.geom||(t.geom={}),n=function(u){function t(t,e,n,r,i){var o=this;if("number"!=typeof t&&null!==t||!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||!(null!=r&&r instanceof Array||null===r)||"number"!=typeof i&&null!==i)if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i)if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.awt.Shape")||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i){var a=t;u.call(this,a,null),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]})}else if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i){if(void 0!==t||void 0!==e||void 0!==n||void 0!==r||void 0!==i)throw new Error("invalid overload");u.call(this,c.awt.geom.Path2D.WIND_NON_ZERO_$LI$(),c.awt.geom.Path2D.INIT_SIZE),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]})}else s=t,u.call(this,s,c.awt.geom.Path2D.INIT_SIZE),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]});else{var s=t,l=e;u.call(this,s,l),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]})}else u.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),o.windingRule=t,o.pointTypes=e,o.numTypes=n,o.floatCoords=r,o.numCoords=i}return __extends(t,u),t.serialVersionUID=-0x738fca4bc2abc400,t}(c.awt.geom.Path2D.Float),e.GeneralPath=n}(java||(java={})),function(c){var t,e;t=c.awt||(c.awt={}),e=function(l){function u(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r)if((null!=t&&t instanceof c.awt.Point||null===t)&&(null!=e&&e instanceof c.awt.Dimension||null===e)&&void 0===n&&void 0===r){var o=e;t=(s=t).x,e=s.y,n=o.width,r=o.height;l.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,i.x=t,i.y=e,i.width=n,i.height=r}else if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r)if((null!=t&&t instanceof c.awt.Rectangle||null===t)&&void 0===e&&void 0===n&&void 0===r){var a=t;t=a.x,e=a.y,n=a.width,r=a.height;l.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,i.x=t,i.y=e,i.width=n,i.height=r}else if((null!=t&&t instanceof c.awt.Point||null===t)&&void 0===e&&void 0===n&&void 0===r){var s;t=(s=t).x,e=s.y,n=0,r=0;l.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,i.x=t,i.y=e,i.width=n,i.height=r}else if((null!=t&&t instanceof c.awt.Dimension||null===t)&&void 0===e&&void 0===n&&void 0===r){o=t,t=0,e=0,n=o.width,r=o.height;l.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,i.x=t,i.y=e,i.width=n,i.height=r}else{if(void 0!==t||void 0!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");t=0,e=0,n=0,r=0;l.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,i.x=t,i.y=e,i.width=n,i.height=r}else{var n=t,r=e,t=0,e=0;l.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,i.x=t,i.y=e,i.width=n,i.height=r}else l.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable","java.io.Serializable"]}),this.x=0,this.y=0,this.width=0,this.height=0,i.x=t,i.y=e,i.width=n,i.height=r}return __extends(u,l),u.prototype.getX=function(){return this.x},u.prototype.getY=function(){return this.y},u.prototype.getWidth=function(){return this.width},u.prototype.getHeight=function(){return this.height},u.prototype.getBounds=function(){return new u(this.x,this.y,this.width,this.height)},u.prototype.getBounds2D=function(){return new u(this.x,this.y,this.width,this.height)},u.prototype.setBounds$java_awt_Rectangle=function(t){this.setBounds(t.x,t.y,t.width,t.height)},u.prototype.setBounds=function(t,e,n,r){var i=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof c.awt.Rectangle||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.setBounds$java_awt_Rectangle(t);throw new Error("invalid overload")}i.reshape(t,e,n,r)},u.prototype.setRect=function(t,e,n,r){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if((null!=t&&t instanceof c.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r)return this.setRect$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.setRect$double$double$double$double(t,e,n,r)},u.prototype.setRect$double$double$double$double=function(t,e,n,r){var i,o,a,s;t>2*javaemul.internal.IntegerHelper.MAX_VALUE?(i=javaemul.internal.IntegerHelper.MAX_VALUE,a=-1):(i=u.clip(t,!1),0<=n&&(n+=t-i),a=u.clip(n,0<=n)),e>2*javaemul.internal.IntegerHelper.MAX_VALUE?(o=javaemul.internal.IntegerHelper.MAX_VALUE,s=-1):(o=u.clip(e,!1),0<=r&&(r+=e-o),s=u.clip(r,0<=r)),this.reshape(i,o,a,s)},u.clip=function(t,e){return t<=javaemul.internal.IntegerHelper.MIN_VALUE?javaemul.internal.IntegerHelper.MIN_VALUE:t>=javaemul.internal.IntegerHelper.MAX_VALUE?javaemul.internal.IntegerHelper.MAX_VALUE:0|(e?Math.ceil(t):Math.floor(t))},u.prototype.reshape=function(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r},u.prototype.getLocation=function(){return new c.awt.Point(this.x,this.y)},u.prototype.setLocation$java_awt_Point=function(t){this.setLocation(t.x,t.y)},u.prototype.setLocation=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof c.awt.Point||null===t)&&void 0===e)return this.setLocation$java_awt_Point(t);throw new Error("invalid overload")}n.move(t,e)},u.prototype.move=function(t,e){this.x=t,this.y=e},u.prototype.translate=function(t,e){var n=this.x,r=n+t;t<0?n<r&&(0<=this.width&&(this.width+=r-javaemul.internal.IntegerHelper.MIN_VALUE),r=javaemul.internal.IntegerHelper.MIN_VALUE):r<n&&(0<=this.width&&(this.width+=r-javaemul.internal.IntegerHelper.MAX_VALUE,this.width<0&&(this.width=javaemul.internal.IntegerHelper.MAX_VALUE)),r=javaemul.internal.IntegerHelper.MAX_VALUE),this.x=r,r=(n=this.y)+e,e<0?n<r&&(0<=this.height&&(this.height+=r-javaemul.internal.IntegerHelper.MIN_VALUE),r=javaemul.internal.IntegerHelper.MIN_VALUE):r<n&&(0<=this.height&&(this.height+=r-javaemul.internal.IntegerHelper.MAX_VALUE,this.height<0&&(this.height=javaemul.internal.IntegerHelper.MAX_VALUE)),r=javaemul.internal.IntegerHelper.MAX_VALUE),this.y=r},u.prototype.getSize=function(){return new c.awt.Dimension(this.width,this.height)},u.prototype.setSize$java_awt_Dimension=function(t){this.setSize(t.width,t.height)},u.prototype.setSize=function(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof c.awt.Dimension||null===t)&&void 0===e)return this.setSize$java_awt_Dimension(t);throw new Error("invalid overload")}n.resize(t,e)},u.prototype.resize=function(t,e){this.width=t,this.height=e},u.prototype.contains=function(t,e,n,r,i){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||void 0!==i){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||void 0!==i){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i){if((null!=t&&t instanceof c.awt.Point||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_Point(t);if((null!=t&&t instanceof c.awt.Rectangle||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_Rectangle(t);if((null!=t&&t instanceof c.awt.geom.Point2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_geom_Point2D(t);if((null!=t&&t instanceof c.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.contains$double$double(t,e)}return this.contains$int$int(t,e)}return this.contains$double$double$double$double(t,e,n,r)}return this.contains$int$int$int$int(t,e,n,r)},u.prototype.contains$java_awt_Point=function(t){return this.contains(t.x,t.y)},u.prototype.contains$int$int=function(t,e){return this.inside(t,e)},u.prototype.contains$java_awt_Rectangle=function(t){return this.contains(t.x,t.y,t.width,t.height)},u.prototype.contains$int$int$int$int=function(t,e,n,r){var i=this.width,o=this.height;if((i|o|n|r)<0)return!1;var a=this.x,s=this.y;if(t<a||e<s)return!1;if(i+=a,(n+=t)<=t){if(a<=i||i<n)return!1}else if(a<=i&&i<n)return!1;if(o+=s,(r+=e)<=e){if(s<=o||o<r)return!1}else if(s<=o&&o<r)return!1;return!0},u.prototype.inside=function(t,e){var n=this.width,r=this.height;if((n|r)<0)return!1;var i=this.x,o=this.y;return!(t<i||e<o)&&(r+=o,((n+=i)<i||t<n)&&(r<o||e<r))},u.prototype.intersects$java_awt_Rectangle=function(t){var e=this.width,n=this.height,r=t.width,i=t.height;if(r<=0||i<=0||e<=0||n<=0)return!1;var o=this.x,a=this.y,s=t.x,l=t.y;return i+=l,e+=o,n+=a,((r+=s)<s||o<r)&&(i<l||a<i)&&(e<o||s<e)&&(n<a||l<n)},u.prototype.intersection=function(t){var e=this.x,n=this.y,r=t.x,i=t.y,o=e;o+=this.width;var a=n;a+=this.height;var s=r,l=i;return e<r&&(e=r),n<i&&(n=i),(s+=t.width)<o&&(o=s),(l+=t.height)<a&&(a=l),a-=n,(o-=e)<javaemul.internal.IntegerHelper.MIN_VALUE&&(o=javaemul.internal.IntegerHelper.MIN_VALUE),a<javaemul.internal.IntegerHelper.MIN_VALUE&&(a=javaemul.internal.IntegerHelper.MIN_VALUE),new u(e,n,0|o,0|a)},u.prototype.union=function(t){var e=this.width,n=this.height;if((e|n)<0)return new u(t);var r=t.width,i=t.height;if((r|i)<0)return new u(this);var o=this.x,a=this.y;e+=o,n+=a;var s=t.x,l=t.y;return s<o&&(o=s),l<a&&(a=l),e<(r+=s)&&(e=r),n<(i+=l)&&(n=i),n-=a,(e-=o)>javaemul.internal.IntegerHelper.MAX_VALUE&&(e=javaemul.internal.IntegerHelper.MAX_VALUE),n>javaemul.internal.IntegerHelper.MAX_VALUE&&(n=javaemul.internal.IntegerHelper.MAX_VALUE),new u(o,a,0|e,0|n)},u.prototype.add=function(i,o){var a=this;if("number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if("number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o){if((null!=i&&i instanceof c.awt.Point||null===i)&&void 0===o)return this.add$java_awt_Point(i);if((null!=i&&i instanceof c.awt.Rectangle||null===i)&&void 0===o)return this.add$java_awt_Rectangle(i);if((null!=i&&i instanceof c.awt.geom.Point2D||null===i)&&void 0===o)return this.add$java_awt_geom_Point2D(i);if((null!=i&&i instanceof c.awt.geom.Rectangle2D||null===i)&&void 0===o)return this.add$java_awt_geom_Rectangle2D(i);throw new Error("invalid overload")}return this.add$double$double(i,o)}return function(){if((a.width|a.height)<0)return a.x=i,a.y=o,void(a.width=a.height=0);var t=a.x,e=a.y,n=a.width,r=a.height;n+=t,r+=e,i<t&&(t=i),o<e&&(e=o),n<i&&(n=i),r<o&&(r=o),r-=e,(n-=t)>javaemul.internal.IntegerHelper.MAX_VALUE&&(n=javaemul.internal.IntegerHelper.MAX_VALUE),r>javaemul.internal.IntegerHelper.MAX_VALUE&&(r=javaemul.internal.IntegerHelper.MAX_VALUE),a.reshape(t,e,0|n,0|r)}()},u.prototype.add$java_awt_Point=function(t){this.add(t.x,t.y)},u.prototype.add$java_awt_Rectangle=function(t){var e=this.width,n=this.height;(e|n)<0&&this.reshape(t.x,t.y,t.width,t.height);var r=t.width,i=t.height;if(!((r|i)<0)){var o=this.x,a=this.y;e+=o,n+=a;var s=t.x,l=t.y;s<o&&(o=s),l<a&&(a=l),e<(r+=s)&&(e=r),n<(i+=l)&&(n=i),n-=a,(e-=o)>javaemul.internal.IntegerHelper.MAX_VALUE&&(e=javaemul.internal.IntegerHelper.MAX_VALUE),n>javaemul.internal.IntegerHelper.MAX_VALUE&&(n=javaemul.internal.IntegerHelper.MAX_VALUE),this.reshape(o,a,0|e,0|n)}},u.prototype.grow=function(t,e){var n=this.x,r=this.y,i=this.width,o=this.height;i+=n,o+=r,r-=e,o+=e,(i+=t)<(n-=t)?((i-=n)<javaemul.internal.IntegerHelper.MIN_VALUE&&(i=javaemul.internal.IntegerHelper.MIN_VALUE),n<javaemul.internal.IntegerHelper.MIN_VALUE?n=javaemul.internal.IntegerHelper.MIN_VALUE:n>javaemul.internal.IntegerHelper.MAX_VALUE&&(n=javaemul.internal.IntegerHelper.MAX_VALUE)):(n<javaemul.internal.IntegerHelper.MIN_VALUE?n=javaemul.internal.IntegerHelper.MIN_VALUE:n>javaemul.internal.IntegerHelper.MAX_VALUE&&(n=javaemul.internal.IntegerHelper.MAX_VALUE),(i-=n)<javaemul.internal.IntegerHelper.MIN_VALUE?i=javaemul.internal.IntegerHelper.MIN_VALUE:i>javaemul.internal.IntegerHelper.MAX_VALUE&&(i=javaemul.internal.IntegerHelper.MAX_VALUE)),o<r?((o-=r)<javaemul.internal.IntegerHelper.MIN_VALUE&&(o=javaemul.internal.IntegerHelper.MIN_VALUE),r<javaemul.internal.IntegerHelper.MIN_VALUE?r=javaemul.internal.IntegerHelper.MIN_VALUE:r>javaemul.internal.IntegerHelper.MAX_VALUE&&(r=javaemul.internal.IntegerHelper.MAX_VALUE)):(r<javaemul.internal.IntegerHelper.MIN_VALUE?r=javaemul.internal.IntegerHelper.MIN_VALUE:r>javaemul.internal.IntegerHelper.MAX_VALUE&&(r=javaemul.internal.IntegerHelper.MAX_VALUE),(o-=r)<javaemul.internal.IntegerHelper.MIN_VALUE?o=javaemul.internal.IntegerHelper.MIN_VALUE:o>javaemul.internal.IntegerHelper.MAX_VALUE&&(o=javaemul.internal.IntegerHelper.MAX_VALUE)),this.reshape(0|n,0|r,0|i,0|o)},u.prototype.isEmpty=function(){return this.width<=0||this.height<=0},u.prototype.outcode=function(t,e){var n,r=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof c.awt.geom.Point2D||null===t)&&void 0===e)return this.outcode$java_awt_geom_Point2D(t);throw new Error("invalid overload")}return n=0,r.width<=0?n|=c.awt.geom.Rectangle2D.OUT_LEFT|c.awt.geom.Rectangle2D.OUT_RIGHT:t<r.x?n|=c.awt.geom.Rectangle2D.OUT_LEFT:t>r.x+r.width&&(n|=c.awt.geom.Rectangle2D.OUT_RIGHT),r.height<=0?n|=c.awt.geom.Rectangle2D.OUT_TOP|c.awt.geom.Rectangle2D.OUT_BOTTOM:e<r.y?n|=c.awt.geom.Rectangle2D.OUT_TOP:e>r.y+r.height&&(n|=c.awt.geom.Rectangle2D.OUT_BOTTOM),n},u.prototype.createIntersection=function(t){if(null!=t&&t instanceof c.awt.Rectangle)return this.intersection(t);var e=new c.awt.geom.Rectangle2D.Double;return c.awt.geom.Rectangle2D.intersect(this,t,e),e},u.prototype.createUnion=function(t){if(null!=t&&t instanceof c.awt.Rectangle)return t;var e=new c.awt.geom.Rectangle2D.Double;return c.awt.geom.Rectangle2D.union(this,t,e),e},u.prototype.equals=function(t){if(null!=t&&t instanceof c.awt.Rectangle){var e=t;return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}return l.prototype.equals.call(this,t)},u.prototype.toString=function(){return"java.awt.Rectangle[x="+this.x+",y="+this.y+",width="+this.width+",height="+this.height+"]"},u.serialVersionUID=-0x3c4f95fae5359600,u}(c.awt.geom.Rectangle2D),t.Rectangle=e}(java||(java={})),function(c){var t,e;t=c.applet||(c.applet={}),e=function(){function t(){}return t.__static_initialize=function(){t.__static_initialized||(t.__static_initialized=!0,t.__static_initializer_0())},t.__static_initializer_0=function(){console.info("installing applet onload hook"),window.onload=function(t){console.info("applet onload hook");var e=document.getElementsByClassName("applet");if(0===e.length)return null;var n=e[0];if(null!=n.getAttribute("data-applet")){console.info("installing applet: "+n.getAttribute("data-applet")),n.style.position="relative";var r=document.createElement("canvas");r.setAttribute("width",n.getAttribute("data-width")),r.setAttribute("height",n.getAttribute("data-height")),n.style.width=n.getAttribute("data-width"),n.style.height=n.getAttribute("data-height"),null!=n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.style.position="absolute",r.style.left="0px",r.style.right="0px",r.style.width=n.style.width,r.style.height=n.style.height,r.style.zIndex="-1";for(var i=n.getAttribute("data-applet").split("."),o=window,a=0;a<i.length;a++){var s=i[a];o=o[s],console.info("name: "+s+" -> "+o)}var l=new o;l.container=n;var u=new c.awt.WebGraphics2D(r);l.init(),l.paint(u)}return null}},t.prototype.init=function(){},t.prototype.paint=function(t){var e=t;null!=this.backgroundColor&&(e.getContext().fillStyle=this.backgroundColor.toHTML(),console.log("painting background: "+this.backgroundColor.toHTML()),e.getContext().fillRect(0,0,e.getContext().canvas.width,e.getContext().canvas.height))},t.prototype.setBackground=function(t){this.backgroundColor=t},t.prototype.setLayout=function(t){this.layout=t,null!=this.container.firstChild?this.container.insertBefore(t.getHTMLElement(),this.container.firstChild):this.container.appendChild(t.getHTMLElement())},t.prototype.add=function(t){this.layout.add(t)},t.__static_initialized=!1,t.CURRENT_ID=0,t}(),t.Applet=e}(java||(java={})),function(t){var e,n;e=t.io||(t.io={}),n=function(e){function t(t){e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]})}return __extends(t,e),t.prototype.print$boolean=function(t){},t.prototype.print$char=function(t){},t.prototype.print=function(t){if(!(null!=t&&t instanceof Array||null===t)){if("string"==typeof t||null===t)return this.print$java_lang_String(t);if("boolean"==typeof t||null===t)return this.print$boolean(t);if("string"==typeof t||null===t)return this.print$char(t);if("number"==typeof t||null===t)return this.print$int(t);if("number"==typeof t||null===t)return this.print$long(t);if("number"==typeof t||null===t)return this.print$float(t);if("number"==typeof t||null===t)return this.print$double(t);if(null!=t||null===t)return this.print$java_lang_Object(t);throw new Error("invalid overload")}},t.prototype.print$double=function(t){},t.prototype.print$float=function(t){},t.prototype.print$int=function(t){},t.prototype.print$long=function(t){},t.prototype.print$java_lang_Object=function(t){},t.prototype.print$java_lang_String=function(t){},t.prototype.println$=function(){},t.prototype.println$boolean=function(t){},t.prototype.println$char=function(t){},t.prototype.println=function(t){if(!(null!=t&&t instanceof Array||null===t)){if("string"==typeof t||null===t)return this.println$java_lang_String(t);if("boolean"==typeof t||null===t)return this.println$boolean(t);if("string"==typeof t||null===t)return this.println$char(t);if("number"==typeof t||null===t)return this.println$int(t);if("number"==typeof t||null===t)return this.println$long(t);if("number"==typeof t||null===t)return this.println$float(t);if("number"==typeof t||null===t)return this.println$double(t);if(null!=t||null===t)return this.println$java_lang_Object(t);if(void 0===t)return this.println$();throw new Error("invalid overload")}},t.prototype.println$double=function(t){},t.prototype.println$float=function(t){},t.prototype.println$int=function(t){},t.prototype.println$long=function(t){},t.prototype.println$java_lang_Object=function(t){},t.prototype.println$java_lang_String=function(t){},t}(t.io.FilterOutputStream),e.PrintStream=n}(java||(java={})),function(r){var t,e;t=r.io||(r.io={}),e=function(n){function t(t){if("string"==typeof t||null===t)n.call(this,new r.io.FileInputStream(t)),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable"]});else{if(!(null!=t&&t instanceof r.io.File||null===t))throw new Error("invalid overload");var e=t;n.call(this,new r.io.FileInputStream(e)),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Closeable","java.lang.AutoCloseable"]})}}return __extends(t,n),t}(r.io.InputStreamReader),t.FileReader=e}(java||(java={})),function(i){var t,e;t=i.io||(i.io={}),e=function(r){function t(t,e){if("string"!=typeof t&&null!==t||"boolean"!=typeof e&&null!==e)if(!(null!=t&&t instanceof i.io.File||null===t)||"boolean"!=typeof e&&null!==e)if("string"!=typeof t&&null!==t||void 0!==e){if(!(null!=t&&t instanceof i.io.File||null===t)||void 0!==e)throw new Error("invalid overload");n=t;r.call(this,new i.io.FileOutputStream(n)),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Appendable","java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]})}else r.call(this,new i.io.FileOutputStream(t)),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Appendable","java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]});else{var n=t;r.call(this,new i.io.FileOutputStream(n,e)),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Appendable","java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]})}else r.call(this,new i.io.FileOutputStream(t,e)),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Appendable","java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]})}return __extends(t,r),t}(i.io.OutputStreamWriter),t.FileWriter=e}(java||(java={})),function(t){var e,n;e=t.io||(t.io={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t.serialVersionUID=-0xc75d4291fde9500,t}(t.io.IOException),e.FileNotFoundException=n}(java||(java={})),function(t){var e,n;e=t.io||(t.io={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t}(t.io.IOException),e.UnsupportedEncodingException=n}(java||(java={})),function(t){var e,n,r;e=t.awt||(t.awt={}),n=e.geom||(e.geom={}),r=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t}(Error),n.IllegalPathStateException=r}(java||(java={})),function(r){var t,e;t=r.io||(r.io={}),e=function(n){function t(t,e){if("string"!=typeof t&&null!==t||!(null!=e&&e instanceof r.io.IOException||null===e)){if(!(null!=t&&t instanceof r.io.IOException||null===t)||void 0!==e)throw new Error("invalid overload");e=t;n.call(this,javaemul.internal.InternalPreconditions.checkNotNull(e)),this.message=javaemul.internal.InternalPreconditions.checkNotNull(e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else n.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(t,n),t.prototype.getCause=function(){return null},t}(Error),t.UncheckedIOException=e}(java||(java={})),function(t){var e,n,r;e=t.lang||(t.lang={}),n=e.annotation||(e.annotation={}),r=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(e,t),e}(Error),n.AnnotationTypeMismatchException=r}(java||(java={})),function(t){var e,n,r;e=t.lang||(t.lang={}),n=e.annotation||(e.annotation={}),r=function(n){function t(t,e){n.call(this,"Incomplete annotation: trying to access "+e+" on "+t),this.message="Incomplete annotation: trying to access "+e+" on "+t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]}),this.__annotationType=t,this.__elementName=e}return __extends(t,n),t.prototype.annotationType=function(){return this.__annotationType},t.prototype.elementName=function(){return this.__elementName},t}(Error),n.IncompleteAnnotationException=r}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t}(Error),e.ArithmeticException=n}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t}(Error),e.ArrayStoreException=n}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t}(Error),e.ClassCastException=n}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(n){function t(t,e){if("string"!=typeof t&&null!==t||!(null!=e&&e instanceof Error||null===e))if("string"!=typeof t&&null!==t||void 0!==e)if((null!=t&&t instanceof Error||null===t)&&void 0===e){e=t;n.call(this,e),this.message=e,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{if(void 0!==t||void 0!==e)throw new Error("invalid overload");n.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else n.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else n.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(t,n),t}(Error),e.IllegalArgumentException=n}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(r){function t(t,e){if("string"!=typeof t&&null!==t||!(null!=e&&e instanceof Error||null===e))if("string"!=typeof t&&null!==t||void 0!==e)if((null!=t&&t instanceof Error||null===t)&&void 0===e){e=t;r.call(this,e),this.message=e,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{if(void 0!==t||void 0!==e)throw new Error("invalid overload");r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{var n=t;r.call(this,n),this.message=n,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else r.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(t,r),t}(Error),e.IllegalStateException=n}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t}(Error),e.IndexOutOfBoundsException=n}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t}(Error),e.NegativeArraySizeException=n}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t.prototype.createError=function(t){return new TypeError(t)},t}(Error),e.NullPointerException=n}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(n){function t(t,e){if("string"!=typeof t&&null!==t||!(null!=e&&e instanceof Error||null===e))if("string"!=typeof t&&null!==t||void 0!==e)if((null!=t&&t instanceof Error||null===t)&&void 0===e){e=t;n.call(this,e),this.message=e,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{if(void 0!==t||void 0!==e)throw new Error("invalid overload");n.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else n.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else n.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(t,n),t}(Error),e.UnsupportedOperationException=n}(java||(java={})),function(t){var e,n;e=t.util||(t.util={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t}(Error),e.ConcurrentModificationException=n}(java||(java={})),function(t){var e,n;e=t.util||(t.util={}),n=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}return __extends(e,t),e}(Error),e.EmptyStackException=n}(java||(java={})),function(t){var e,n;e=t.util||(t.util={}),n=function(r){function t(t,e,n){r.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]}),this.key=n,this.className=e}return __extends(t,r),t.prototype.getClassName=function(){return this.className},t.prototype.getKey=function(){return this.key},t}(Error),e.MissingResourceException=n}(java||(java={})),function(t){var e,n;e=t.util||(t.util={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),this.message=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t}(Error),e.NoSuchElementException=n}(java||(java={})),function(t){var e,n;e=t.security||(t.security={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t}(t.security.GeneralSecurityException),e.DigestException=n}(java||(java={})),function(t){var e,n;e=t.security||(t.security={}),n=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t}(t.security.GeneralSecurityException),e.NoSuchAlgorithmException=n}(java||(java={})),function(t){var e,n,r;e=t.nio||(t.nio={}),n=e.charset||(e.charset={}),r=function(){function t(){}return t.ISO_8859_1_$LI$=function(){return null==t.ISO_8859_1&&(t.ISO_8859_1=javaemul.internal.EmulatedCharset.ISO_8859_1_$LI$()),t.ISO_8859_1},t.UTF_8_$LI$=function(){return null==t.UTF_8&&(t.UTF_8=javaemul.internal.EmulatedCharset.UTF_8_$LI$()),t.UTF_8},t}(),n.StandardCharsets=r}(java||(java={})),function(i){var t,e;t=i.util||(i.util={}),e=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.List","java.util.Collection","java.lang.Iterable"]})}return __extends(e,t),e.prototype.add=function(t,e){var n=this;if("number"!=typeof t&&null!==t||null==e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.add$java_lang_Object(t)}n.listIterator(t).add(e)},e.prototype.addAll=function(i,o){var a=this;if("number"!=typeof i&&null!==i||!(null!=o&&null!=o.__interfaces&&0<=o.__interfaces.indexOf("java.util.Collection")||null===o)){if((null!=i&&null!=i.__interfaces&&0<=i.__interfaces.indexOf("java.util.Collection")||null===i)&&void 0===o)return this.addAll$java_util_Collection(i);throw new Error("invalid overload")}return function(){javaemul.internal.InternalPreconditions.checkNotNull(o);for(var t=!1,e=a.listIterator(i),n=o.iterator();n.hasNext();){var r=n.next();e.add(r),t=!0}return t}()},e.prototype.get=function(e){var t=this.listIterator(e);try{return t.next()}catch(t){throw new i.lang.IndexOutOfBoundsException("Can't get element "+e)}},e.prototype.iterator=function(){return this.listIterator()},e.prototype.listIterator=function(t){if("number"==typeof t||null===t)return null;if(void 0===t)return this.listIterator$();throw new Error("invalid overload")},e.prototype.remove=function(n){var r=this;if("number"==typeof n||null===n)return function(){var t=r.listIterator(n);try{var e=t.next();return t.remove(),e}catch(t){throw new i.lang.IndexOutOfBoundsException("Can't remove element "+n)}}();if(null!=n||null===n)return this.remove$java_lang_Object(n);throw new Error("invalid overload")},e.prototype.set=function(e,t){var n=this.listIterator(e);try{var r=n.next();return n.set(t),r}catch(t){throw new i.lang.IndexOutOfBoundsException("Can't set element "+e)}},e}(i.util.AbstractList),t.AbstractSequentialList=e}(java||(java={})),function(i){var t,e,n,r;t=i.util||(i.util={}),r=function(r){function t(t){var e=this;if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Collection")||null===t)r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.RandomAccess","java.util.List","java.lang.Cloneable","java.util.Collection","java.lang.Iterable","java.io.Serializable"]}),e.array=new Array(0),javaemul.internal.ArrayHelper.insertTo(e.array,0,t.toArray());else if("number"==typeof t||null===t){var n=t;r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.RandomAccess","java.util.List","java.lang.Cloneable","java.util.Collection","java.lang.Iterable","java.io.Serializable"]}),javaemul.internal.InternalPreconditions.checkArgument(0<=n,"Initial capacity must not be negative"),e.array=new Array(0)}else{if(void 0!==t)throw new Error("invalid overload");r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.RandomAccess","java.util.List","java.lang.Cloneable","java.util.Collection","java.lang.Iterable","java.io.Serializable"]}),e.array=new Array(0)}}return __extends(t,r),t.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();){t(e.next())}},t.prototype.add$java_lang_Object=function(t){return this.array[this.array.length]=t,!0},t.prototype.add=function(t,e){var n=this;if("number"!=typeof t&&null!==t||null==e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.add$java_lang_Object(t)}return javaemul.internal.InternalPreconditions.checkPositionIndex(t,n.array.length),void javaemul.internal.ArrayHelper.insertTo(n.array,t,e)},t.prototype.addAll$java_util_Collection=function(t){var e=t.toArray();return 0!==e.length&&(javaemul.internal.ArrayHelper.insertTo(this.array,this.array.length,e),!0)},t.prototype.addAll=function(e,n){var r=this;if("number"!=typeof e&&null!==e||!(null!=n&&null!=n.__interfaces&&0<=n.__interfaces.indexOf("java.util.Collection")||null===n)){if((null!=e&&null!=e.__interfaces&&0<=e.__interfaces.indexOf("java.util.Collection")||null===e)&&void 0===n)return this.addAll$java_util_Collection(e);throw new Error("invalid overload")}return function(){javaemul.internal.InternalPreconditions.checkPositionIndex(e,r.array.length);var t=n.toArray();return 0!==t.length&&(javaemul.internal.ArrayHelper.insertTo(r.array,e,t),!0)}()},t.prototype.clear=function(){this.array=new Array(0)},t.prototype.clone=function(){return new t(this)},t.prototype.contains=function(t){return-1!==this.indexOf(t)},t.prototype.ensureCapacity=function(t){},t.prototype.get=function(t){return javaemul.internal.InternalPreconditions.checkElementIndex(t,this.array.length),this.array[t]},t.prototype.indexOf$java_lang_Object=function(t){return this.indexOf(t,0)},t.prototype.iterator=function(){return new t.ArrayList$0(this)},t.prototype.isEmpty=function(){return 0===this.array.length},t.prototype.lastIndexOf$java_lang_Object=function(t){return this.lastIndexOf(t,this.size()-1)},t.prototype.remove=function(t){var e,n=this;if("number"==typeof t||null===t)return e=n.get(t),javaemul.internal.ArrayHelper.removeFrom(n.array,t,1),e;if(null!=t||null===t)return this.remove$java_lang_Object(t);throw new Error("invalid overload")},t.prototype.remove$java_lang_Object=function(t){var e=this.indexOf(t);return-1!==e&&(this.remove(e),!0)},t.prototype.set=function(t,e){var n=this.get(t);return this.array[t]=e,n},t.prototype.size=function(){return this.array.length},t.prototype.toArray$=function(){return javaemul.internal.ArrayHelper.clone(this.array,0,this.array.length)},t.prototype.toArray=function(n){var r=this;if(null!=n&&n instanceof Array||null===n)return function(){var t=r.array.length;n.length<t&&(n=javaemul.internal.ArrayHelper.createFrom(n,t));for(var e=0;e<t;++e)n[e]=r.array[e];return n.length>t&&(n[t]=null),n}();if(void 0===n)return this.toArray$();throw new Error("invalid overload")},t.prototype.trimToSize=function(){},t.prototype.removeRange=function(t,e){javaemul.internal.InternalPreconditions.checkPositionIndexes(t,e,this.array.length);var n=e-t;javaemul.internal.ArrayHelper.removeFrom(this.array,t,n)},t.prototype.indexOf=function(t,e){var n=this;if(null==t&&null!==t||"number"!=typeof e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.indexOf$java_lang_Object(t)}return function(){for(;e<n.array.length;++e)if(i.util.Objects.equals(t,n.array[e]))return e;return-1}()},t.prototype.lastIndexOf=function(t,e){var n=this;if(null==t&&null!==t||"number"!=typeof e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.lastIndexOf$java_lang_Object(t)}return function(){for(;0<=e;--e)if(i.util.Objects.equals(t,n.array[e]))return e;return-1}()},t.prototype.setSize=function(t){javaemul.internal.ArrayHelper.setLength(this.array,t)},t}(i.util.AbstractList),t.ArrayList=r,e=r=t.ArrayList||(t.ArrayList={}),n=function(){function t(t){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.__parent=t,this.i=0,this.last=-1}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){return this.i<this.__parent.array.length},t.prototype.next=function(){return javaemul.internal.InternalPreconditions.checkElement(this.hasNext()),this.last=this.i++,this.__parent.array[this.last]},t.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(-1!==this.last),this.__parent.remove(this.i=this.last),this.last=-1},t}(),e.ArrayList$0=n}(java||(java={})),function(c){var t,e,n,r;t=c.util||(c.util={}),r=function(){function u(){}return u.asList=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return new u.ArrayList(t)},u.binarySearch$byte_A$byte=function(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+(r-n>>1),o=t[i];if(o<e)n=i+1;else{if(!(e<o))return i;r=i-1}}return-n-1},u.binarySearch$char_A$char=function(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+(r-n>>1),o=t[i];if(o.charCodeAt(0)<e.charCodeAt(0))n=i+1;else{if(!(o.charCodeAt(0)>e.charCodeAt(0)))return i;r=i-1}}return-n-1},u.binarySearch$double_A$double=function(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+(r-n>>1),o=t[i];if(o<e)n=i+1;else{if(!(e<o))return i;r=i-1}}return-n-1},u.binarySearch$float_A$float=function(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+(r-n>>1),o=t[i];if(o<e)n=i+1;else{if(!(e<o))return i;r=i-1}}return-n-1},u.binarySearch$int_A$int=function(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+(r-n>>1),o=t[i];if(o<e)n=i+1;else{if(!(e<o))return i;r=i-1}}return-n-1},u.binarySearch$long_A$long=function(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+(r-n>>1),o=t[i];if(o<e)n=i+1;else{if(!(e<o))return i;r=i-1}}return-n-1},u.binarySearch$java_lang_Object_A$java_lang_Object=function(t,e){return u.binarySearch(t,e,c.util.Comparators.natural())},u.binarySearch$short_A$short=function(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+(r-n>>1),o=t[i];if(o<e)n=i+1;else{if(!(e<o))return i;r=i-1}}return-n-1},u.binarySearch=function(o,a,s){if((null!=o&&o instanceof Array||null===o)&&(null!=a||null===a)&&(null!=s&&null!=s.__interfaces&&0<=s.__interfaces.indexOf("java.util.Comparator")||null===s))return function(){null==s&&(s=c.util.Comparators.natural());for(var t=0,e=o.length-1;t<=e;){var n=t+(e-t>>1),r=o[n],i=s.compare(r,a);if(i<0)t=n+1;else{if(!(0<i))return n;e=n-1}}return-t-1}();if(!(null!=o&&o instanceof Array||null===o)||"number"!=typeof a&&null!==a||void 0!==s){if(!(null!=o&&o instanceof Array||null===o)||"string"!=typeof a&&null!==a||void 0!==s){if(!(null!=o&&o instanceof Array||null===o)||"number"!=typeof a&&null!==a||void 0!==s){if(!(null!=o&&o instanceof Array||null===o)||"number"!=typeof a&&null!==a||void 0!==s){if(!(null!=o&&o instanceof Array||null===o)||"number"!=typeof a&&null!==a||void 0!==s){if(!(null!=o&&o instanceof Array||null===o)||"number"!=typeof a&&null!==a||void 0!==s){if(!(null!=o&&o instanceof Array||null===o)||"number"!=typeof a&&null!==a||void 0!==s){if(!(null!=o&&o instanceof Array||null===o)||null==a&&null!==a||void 0!==s)throw new Error("invalid overload");return c.util.Arrays.binarySearch$java_lang_Object_A$java_lang_Object(o,a)}return c.util.Arrays.binarySearch$double_A$double(o,a)}return c.util.Arrays.binarySearch$float_A$float(o,a)}return c.util.Arrays.binarySearch$long_A$long(o,a)}return c.util.Arrays.binarySearch$int_A$int(o,a)}return c.util.Arrays.binarySearch$short_A$short(o,a)}return c.util.Arrays.binarySearch$char_A$char(o,a)}return c.util.Arrays.binarySearch$byte_A$byte(o,a)},u.copyOf=function(t,e){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e)throw new Error("invalid overload");return c.util.Arrays.copyOf$java_lang_Object_A$int(t,e)}return c.util.Arrays.copyOf$short_A$int(t,e)}return c.util.Arrays.copyOf$long_A$int(t,e)}return c.util.Arrays.copyOf$int_A$int(t,e)}return c.util.Arrays.copyOf$float_A$int(t,e)}return c.util.Arrays.copyOf$double_A$int(t,e)}return c.util.Arrays.copyOf$char_A$int(t,e)}return c.util.Arrays.copyOf$byte_A$int(t,e)}return javaemul.internal.InternalPreconditions.checkArraySize(e),u.copyOfRange(t,0,e)},u.copyOf$byte_A$int=function(t,e){return javaemul.internal.InternalPreconditions.checkArraySize(e),u.copyOfRange(t,0,e)},u.copyOf$char_A$int=function(t,e){return javaemul.internal.InternalPreconditions.checkArraySize(e),u.copyOfRange(t,0,e)},u.copyOf$double_A$int=function(t,e){return javaemul.internal.InternalPreconditions.checkArraySize(e),u.copyOfRange(t,0,e)},u.copyOf$float_A$int=function(t,e){return javaemul.internal.InternalPreconditions.checkArraySize(e),u.copyOfRange(t,0,e)},u.copyOf$int_A$int=function(t,e){return javaemul.internal.InternalPreconditions.checkArraySize(e),u.copyOfRange(t,0,e)},u.copyOf$long_A$int=function(t,e){return javaemul.internal.InternalPreconditions.checkArraySize(e),u.copyOfRange(t,0,e)},u.copyOf$short_A$int=function(t,e){return javaemul.internal.InternalPreconditions.checkArraySize(e),u.copyOfRange(t,0,e)},u.copyOf$java_lang_Object_A$int=function(t,e){javaemul.internal.InternalPreconditions.checkArraySize(e),javaemul.internal.InternalPreconditions.checkNotNull(t,"original");var n=javaemul.internal.ArrayHelper.clone(t,0,e);return javaemul.internal.ArrayHelper.setLength(n,e),n},u.copyOfRange=function(t,e,n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n)throw new Error("invalid overload");return c.util.Arrays.copyOfRange$java_lang_Object_A$int$int(t,e,n)}return c.util.Arrays.copyOfRange$short_A$int$int(t,e,n)}return c.util.Arrays.copyOfRange$long_A$int$int(t,e,n)}return c.util.Arrays.copyOfRange$int_A$int$int(t,e,n)}return c.util.Arrays.copyOfRange$float_A$int$int(t,e,n)}return c.util.Arrays.copyOfRange$double_A$int$int(t,e,n)}return c.util.Arrays.copyOfRange$char_A$int$int(t,e,n)}return c.util.Arrays.copyOfRange$byte_A$int$int(t,e,n)}return r=u.getCopyLength(t,e,n),i=new Array(n-e),javaemul.internal.ArrayHelper.copy(t,e,i,0,r),i;var r,i},u.copyOfRange$byte_A$int$int=function(t,e,n){var r=u.getCopyLength(t,e,n),i=new Array(n-e);return javaemul.internal.ArrayHelper.copy(t,e,i,0,r),i},u.copyOfRange$char_A$int$int=function(t,e,n){var r=u.getCopyLength(t,e,n),i=new Array(n-e);return javaemul.internal.ArrayHelper.copy(t,e,i,0,r),i},u.copyOfRange$double_A$int$int=function(t,e,n){var r=u.getCopyLength(t,e,n),i=new Array(n-e);return javaemul.internal.ArrayHelper.copy(t,e,i,0,r),i},u.copyOfRange$float_A$int$int=function(t,e,n){var r=u.getCopyLength(t,e,n),i=new Array(n-e);return javaemul.internal.ArrayHelper.copy(t,e,i,0,r),i},u.copyOfRange$int_A$int$int=function(t,e,n){var r=u.getCopyLength(t,e,n),i=new Array(n-e);return javaemul.internal.ArrayHelper.copy(t,e,i,0,r),i},u.copyOfRange$long_A$int$int=function(t,e,n){var r=u.getCopyLength(t,e,n),i=new Array(n-e);return javaemul.internal.ArrayHelper.copy(t,e,i,0,r),i},u.copyOfRange$short_A$int$int=function(t,e,n){var r=u.getCopyLength(t,e,n),i=new Array(n-e);return javaemul.internal.ArrayHelper.copy(t,e,i,0,r),i},u.copyOfRange$java_lang_Object_A$int$int=function(t,e,n){var r=u.getCopyLength(t,e,n),i=javaemul.internal.ArrayHelper.createFrom(t,n-e);return javaemul.internal.ArrayHelper.copy(t,e,i,0,r),i},u.deepEquals=function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;++n)if(!c.util.Objects.deepEquals(t[n],e[n]))return!1;return!0},u.deepHashCode=function(t){if(null==t)return 0;for(var e=1,n=0;n<t.length;n++){var r=t[n];e=31*e+(null!=r&&r instanceof Array?u.deepHashCode(r):null!=r&&r instanceof Array?u.hashCode(r):null!=r&&r instanceof Array?u.hashCode(r):null!=r&&r instanceof Array?u.hashCode(r):null!=r&&r instanceof Array?u.hashCode(r):null!=r&&r instanceof Array?u.hashCode(r):null!=r&&r instanceof Array?u.hashCode(r):null!=r&&r instanceof Array?u.hashCode(r):null!=r&&r instanceof Array?u.hashCode(r):c.util.Objects.hashCode(r)),e=javaemul.internal.Coercions.ensureInt(e)}return e},u.deepToString$java_lang_Object_A=function(t){return u.deepToString(t,new c.util.HashSet)},u.equals=function(e,n){if((null!=e&&e instanceof Array||null===e)&&(null!=n&&n instanceof Array||null===n))return function(){if(e===n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(var t=0;t<e.length;++t)if(e[t]!==n[t])return!1;return!0}();if((null!=e&&e instanceof Array||null===e)&&(null!=n&&n instanceof Array||null===n))return c.util.Arrays.equals$byte_A$byte_A(e,n);if((null!=e&&e instanceof Array||null===e)&&(null!=n&&n instanceof Array||null===n))return c.util.Arrays.equals$char_A$char_A(e,n);if((null!=e&&e instanceof Array||null===e)&&(null!=n&&n instanceof Array||null===n))return c.util.Arrays.equals$double_A$double_A(e,n);if((null!=e&&e instanceof Array||null===e)&&(null!=n&&n instanceof Array||null===n))return c.util.Arrays.equals$float_A$float_A(e,n);if((null!=e&&e instanceof Array||null===e)&&(null!=n&&n instanceof Array||null===n))return c.util.Arrays.equals$int_A$int_A(e,n);if((null!=e&&e instanceof Array||null===e)&&(null!=n&&n instanceof Array||null===n))return c.util.Arrays.equals$long_A$long_A(e,n);if((null!=e&&e instanceof Array||null===e)&&(null!=n&&n instanceof Array||null===n))return c.util.Arrays.equals$java_lang_Object_A$java_lang_Object_A(e,n);if((null!=e&&e instanceof Array||null===e)&&(null!=n&&n instanceof Array||null===n))return c.util.Arrays.equals$short_A$short_A(e,n);throw new Error("invalid overload")},u.equals$byte_A$byte_A=function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},u.equals$char_A$char_A=function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},u.equals$double_A$double_A=function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},u.equals$float_A$float_A=function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},u.equals$int_A$int_A=function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},u.equals$long_A$long_A=function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},u.equals$java_lang_Object_A$java_lang_Object_A=function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n){var r=t[n],i=e[n];if(!c.util.Objects.equals(r,i))return!1}return!0},u.equals$short_A$short_A=function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},u.fill$boolean_A$boolean=function(t,e){u.fill(t,0,t.length,e)},u.fill=function(e,n,r,i){if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"boolean"!=typeof i&&null!==i){if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i){if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"string"!=typeof i&&null!==i){if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i){if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i){if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i){if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i){if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i){if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||null==i&&null!==i){if(!(null!=e&&e instanceof Array||null===e)||"boolean"!=typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=e&&e instanceof Array||null===e)||"string"!=typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=e&&e instanceof Array||null===e)||"number"!=typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=e&&e instanceof Array||null===e)||null==n&&null!==n||void 0!==r||void 0!==i)throw new Error("invalid overload");return c.util.Arrays.fill$java_lang_Object_A$java_lang_Object(e,n)}return c.util.Arrays.fill$double_A$double(e,n)}return c.util.Arrays.fill$float_A$float(e,n)}return c.util.Arrays.fill$long_A$long(e,n)}return c.util.Arrays.fill$int_A$int(e,n)}return c.util.Arrays.fill$short_A$short(e,n)}return c.util.Arrays.fill$char_A$char(e,n)}return c.util.Arrays.fill$byte_A$byte(e,n)}return c.util.Arrays.fill$boolean_A$boolean(e,n)}return c.util.Arrays.fill$java_lang_Object_A$int$int$java_lang_Object(e,n,r,i)}return c.util.Arrays.fill$double_A$int$int$double(e,n,r,i)}return c.util.Arrays.fill$float_A$int$int$float(e,n,r,i)}return c.util.Arrays.fill$long_A$int$int$long(e,n,r,i)}return c.util.Arrays.fill$int_A$int$int$int(e,n,r,i)}return c.util.Arrays.fill$short_A$int$int$short(e,n,r,i)}return c.util.Arrays.fill$char_A$int$int$char(e,n,r,i)}return c.util.Arrays.fill$byte_A$int$int$byte(e,n,r,i)}return function(){for(var t=n;t<r;++t)e[t]=i}()},u.fill$byte_A$byte=function(t,e){u.fill(t,0,t.length,e)},u.fill$byte_A$int$int$byte=function(t,e,n,r){for(var i=e;i<n;++i)t[i]=r},u.fill$char_A$char=function(t,e){u.fill(t,0,t.length,e)},u.fill$char_A$int$int$char=function(t,e,n,r){for(var i=e;i<n;++i)t[i]=r},u.fill$double_A$double=function(t,e){u.fill(t,0,t.length,e)},u.fill$double_A$int$int$double=function(t,e,n,r){for(var i=e;i<n;++i)t[i]=r},u.fill$float_A$float=function(t,e){u.fill(t,0,t.length,e)},u.fill$float_A$int$int$float=function(t,e,n,r){for(var i=e;i<n;++i)t[i]=r},u.fill$int_A$int=function(t,e){u.fill(t,0,t.length,e)},u.fill$int_A$int$int$int=function(t,e,n,r){for(var i=e;i<n;++i)t[i]=r},u.fill$long_A$int$int$long=function(t,e,n,r){for(var i=e;i<n;++i)t[i]=r},u.fill$long_A$long=function(t,e){u.fill(t,0,t.length,e)},u.fill$java_lang_Object_A$int$int$java_lang_Object=function(t,e,n,r){for(var i=e;i<n;++i)t[i]=r},u.fill$java_lang_Object_A$java_lang_Object=function(t,e){u.fill(t,0,t.length,e)},u.fill$short_A$int$int$short=function(t,e,n,r){for(var i=e;i<n;++i)t[i]=r},u.fill$short_A$short=function(t,e){u.fill(t,0,t.length,e)},u.hashCode=function(r){if(null!=r&&r instanceof Array||null===r)return function(){if(null==r)return 0;for(var t=1,e=0;e<r.length;e++){var n=r[e];t=31*t+javaemul.internal.BooleanHelper.hashCode(n),t=javaemul.internal.Coercions.ensureInt(t)}return t}();if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.hashCode$byte_A(r);if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.hashCode$char_A(r);if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.hashCode$double_A(r);if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.hashCode$float_A(r);if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.hashCode$int_A(r);if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.hashCode$long_A(r);if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.hashCode$java_lang_Object_A(r);if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.hashCode$short_A(r);throw new Error("invalid overload")},u.hashCode$byte_A=function(t){if(null==t)return 0;for(var e=1,n=0;n<t.length;n++){var r=t[n];e=31*e+javaemul.internal.ByteHelper.hashCode(r),e=javaemul.internal.Coercions.ensureInt(e)}return e},u.hashCode$char_A=function(t){if(null==t)return 0;for(var e=1,n=0;n<t.length;n++){var r=t[n];e=31*e+javaemul.internal.CharacterHelper.hashCode(r),e=javaemul.internal.Coercions.ensureInt(e)}return e},u.hashCode$double_A=function(t){if(null==t)return 0;for(var e=1,n=0;n<t.length;n++){var r=t[n];e=31*e+javaemul.internal.DoubleHelper.hashCode(r),e=javaemul.internal.Coercions.ensureInt(e)}return e},u.hashCode$float_A=function(t){if(null==t)return 0;for(var e=1,n=0;n<t.length;n++){var r=t[n];e=31*e+javaemul.internal.FloatHelper.hashCode(r),e=javaemul.internal.Coercions.ensureInt(e)}return e},u.hashCode$int_A=function(t){if(null==t)return 0;for(var e=1,n=0;n<t.length;n++){var r=t[n];e=31*e+javaemul.internal.IntegerHelper.hashCode(r),e=javaemul.internal.Coercions.ensureInt(e)}return e},u.hashCode$long_A=function(t){if(null==t)return 0;for(var e=1,n=0;n<t.length;n++){var r=t[n];e=31*e+javaemul.internal.LongHelper.hashCode(r),e=javaemul.internal.Coercions.ensureInt(e)}return e},u.hashCode$java_lang_Object_A=function(t){if(null==t)return 0;for(var e=1,n=0;n<t.length;n++){var r=t[n];e=31*e+c.util.Objects.hashCode(r),e=javaemul.internal.Coercions.ensureInt(e)}return e},u.hashCode$short_A=function(t){if(null==t)return 0;for(var e=1,n=0;n<t.length;n++){var r=t[n];e=31*e+javaemul.internal.ShortHelper.hashCode(r),e=javaemul.internal.Coercions.ensureInt(e)}return e},u.sort$byte_A=function(t){u.nativeNumberSort(t)},u.sort$byte_A$int$int=function(t,e,n){javaemul.internal.InternalPreconditions.checkPositionIndexes(e,n,t.length),u.nativeNumberSort(t,e,n)},u.sort$char_A=function(t){u.nativeNumberSort(t)},u.sort$char_A$int$int=function(t,e,n){javaemul.internal.InternalPreconditions.checkPositionIndexes(e,n,t.length),u.nativeNumberSort(t,e,n)},u.sort$double_A=function(t){u.nativeNumberSort(t)},u.sort$double_A$int$int=function(t,e,n){javaemul.internal.InternalPreconditions.checkPositionIndexes(e,n,t.length),u.nativeNumberSort(t,e,n)},u.sort$float_A=function(t){u.nativeNumberSort(t)},u.sort$float_A$int$int=function(t,e,n){javaemul.internal.InternalPreconditions.checkPositionIndexes(e,n,t.length),u.nativeNumberSort(t,e,n)},u.sort$int_A=function(t){u.nativeNumberSort(t)},u.sort$int_A$int$int=function(t,e,n){javaemul.internal.InternalPreconditions.checkPositionIndexes(e,n,t.length),u.nativeNumberSort(t,e,n)},u.sort$long_A=function(t){u.nativeLongSort(t,javaemul.internal.LongCompareHolder.getLongComparator())},u.sort$long_A$int$int=function(t,e,n){javaemul.internal.InternalPreconditions.checkPositionIndexes(e,n,t.length),u.nativeLongSort(t,e,n)},u.sort$java_lang_Object_A=function(t){u.mergeSort(t,0,t.length,c.util.Comparators.natural())},u.sort$java_lang_Object_A$int$int=function(t,e,n){u.mergeSort(t,e,n,c.util.Comparators.natural())},u.sort$short_A=function(t){u.nativeNumberSort(t)},u.sort$short_A$int$int=function(t,e,n){javaemul.internal.InternalPreconditions.checkPositionIndexes(e,n,t.length),u.nativeNumberSort(t,e,n)},u.sort$java_lang_Object_A$java_util_Comparator=function(t,e){u.mergeSort(t,0,t.length,e)},u.sort=function(t,e,n,r){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||!(null!=r&&null!=r.__interfaces&&0<=r.__interfaces.indexOf("java.util.Comparator")||null===r)){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||void 0!==r){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||void 0!==r){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||void 0!==r){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||void 0!==r){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||void 0!==r){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||void 0!==r){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||void 0!==r){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||void 0!==r){if((null!=t&&t instanceof Array||null===t)&&(null!=e&&null!=e.__interfaces&&0<=e.__interfaces.indexOf("java.util.Comparator")||null===e)&&void 0===n&&void 0===r)return c.util.Arrays.sort$java_lang_Object_A$java_util_Comparator(t,e);if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n&&void 0===r)return c.util.Arrays.sort$byte_A(t);if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n&&void 0===r)return c.util.Arrays.sort$char_A(t);if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n&&void 0===r)return c.util.Arrays.sort$double_A(t);if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n&&void 0===r)return c.util.Arrays.sort$float_A(t);if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n&&void 0===r)return c.util.Arrays.sort$int_A(t);if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n&&void 0===r)return c.util.Arrays.sort$long_A(t);if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n&&void 0===r)return c.util.Arrays.sort$java_lang_Object_A(t);if((null!=t&&t instanceof Array||null===t)&&void 0===e&&void 0===n&&void 0===r)return c.util.Arrays.sort$short_A(t);throw new Error("invalid overload")}return c.util.Arrays.sort$short_A$int$int(t,e,n)}return c.util.Arrays.sort$java_lang_Object_A$int$int(t,e,n)}return c.util.Arrays.sort$long_A$int$int(t,e,n)}return c.util.Arrays.sort$int_A$int$int(t,e,n)}return c.util.Arrays.sort$float_A$int$int(t,e,n)}return c.util.Arrays.sort$double_A$int$int(t,e,n)}return c.util.Arrays.sort$char_A$int$int(t,e,n)}return c.util.Arrays.sort$byte_A$int$int(t,e,n)}return javaemul.internal.InternalPreconditions.checkPositionIndexes(e,n,t.length),void u.mergeSort(t,e,n,r)},u.toString=function(r){if(null!=r&&r instanceof Array||null===r)return function(){if(null==r)return"null";for(var t=new c.util.StringJoiner(", ","[","]"),e=0;e<r.length;e++){var n=r[e];t.add(new String(n).toString())}return t.toString()}();if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.toString$byte_A(r);if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.toString$char_A(r);if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.toString$double_A(r);if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.toString$float_A(r);if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.toString$int_A(r);if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.toString$long_A(r);if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.toString$java_lang_Object_A(r);if(null!=r&&r instanceof Array||null===r)return c.util.Arrays.toString$short_A(r);throw new Error("invalid overload")},u.toString$byte_A=function(t){if(null==t)return"null";for(var e=new c.util.StringJoiner(", ","[","]"),n=0;n<t.length;n++){var r=t[n];e.add(new String(r).toString())}return e.toString()},u.toString$char_A=function(t){if(null==t)return"null";for(var e=new c.util.StringJoiner(", ","[","]"),n=0;n<t.length;n++){var r=t[n];e.add(new String(r).toString())}return e.toString()},u.toString$double_A=function(t){if(null==t)return"null";for(var e=new c.util.StringJoiner(", ","[","]"),n=0;n<t.length;n++){var r=t[n];e.add(new String(r).toString())}return e.toString()},u.toString$float_A=function(t){if(null==t)return"null";for(var e=new c.util.StringJoiner(", ","[","]"),n=0;n<t.length;n++){var r=t[n];e.add(new String(r).toString())}return e.toString()},u.toString$int_A=function(t){if(null==t)return"null";for(var e=new c.util.StringJoiner(", ","[","]"),n=0;n<t.length;n++){var r=t[n];e.add(new String(r).toString())}return e.toString()},u.toString$long_A=function(t){if(null==t)return"null";for(var e=new c.util.StringJoiner(", ","[","]"),n=0;n<t.length;n++){var r=t[n];e.add(new String(r).toString())}return e.toString()},u.toString$java_lang_Object_A=function(t){return null==t?"null":u.asList.apply(null,t).toString()},u.toString$short_A=function(t){if(null==t)return"null";for(var e=new c.util.StringJoiner(", ","[","]"),n=0;n<t.length;n++){var r=t[n];e.add(new String(r).toString())}return e.toString()},u.deepToString=function(o,a){if((null!=o&&o instanceof Array||null===o)&&(null!=a&&null!=a.__interfaces&&0<=a.__interfaces.indexOf("java.util.Set")||null===a))return function(){if(null==o)return"null";if(!a.add(o))return"[...]";for(var t=new c.util.StringJoiner(", ","[","]"),e=0;e<o.length;e++){var n=o[e];if(null!=n&&n.getClass().isArray())if(null!=n&&n instanceof Array)if(a.contains(n))t.add("[...]");else{var r=n,i=new c.util.HashSet(a);t.add(u.deepToString(r,i))}else null!=n&&n instanceof Array?t.add(u.toString(n)):null!=n&&n instanceof Array?t.add(u.toString(n)):null!=n&&n instanceof Array?t.add(u.toString(n)):null!=n&&n instanceof Array?t.add(u.toString(n)):null!=n&&n instanceof Array?t.add(u.toString(n)):null!=n&&n instanceof Array?t.add(u.toString(n)):null!=n&&n instanceof Array?t.add(u.toString(n)):null!=n&&n instanceof Array&&t.add(u.toString(n));else t.add(new String(n).toString())}return t.toString()}();if((null!=o&&o instanceof Array||null===o)&&void 0===a)return c.util.Arrays.deepToString$java_lang_Object_A(o);throw new Error("invalid overload")},u.getCopyLength=function(t,e,n){javaemul.internal.InternalPreconditions.checkArgument(e<=n,"%s > %s",e,n);var r=javaemul.internal.ArrayHelper.getLength(t);return n=Math.min(n,r),javaemul.internal.InternalPreconditions.checkCriticalPositionIndexes(e,n,r),n-e},u.insertionSort=function(t,e,n,r){for(var i=e+1;i<n;++i)for(var o=i;e<o&&0<r.compare(t[o-1],t[o]);--o){var a=t[o];t[o]=t[o-1],t[o-1]=a}},u.merge=function(t,e,n,r,i,o,a,s){for(var l=n;o<a;)r<=l||e<n&&s.compare(t[e],t[l])<=0?i[o++]=t[e++]:i[o++]=t[l++]},u.mergeSort$java_lang_Object_A$int$int$java_util_Comparator=function(t,e,n,r){null==r&&(r=c.util.Comparators.natural());var i=u.copyOfRange(t,e,n);u.mergeSort(i,t,e,n,-e,r)},u.mergeSort=function(r,i,o,a,s,l){if(!(null!=r&&r instanceof Array||null===r)||!(null!=i&&i instanceof Array||null===i)||"number"!=typeof o&&null!==o||"number"!=typeof a&&null!==a||"number"!=typeof s&&null!==s||!(null!=l&&null!=l.__interfaces&&0<=l.__interfaces.indexOf("java.util.Comparator")||null===l)){if(!(null!=r&&r instanceof Array||null===r)||"number"!=typeof i&&null!==i||"number"!=typeof o&&null!==o||!(null!=a&&null!=a.__interfaces&&0<=a.__interfaces.indexOf("java.util.Comparator")||null===a)||void 0!==s||void 0!==l)throw new Error("invalid overload");return c.util.Arrays.mergeSort$java_lang_Object_A$int$int$java_util_Comparator(r,i,o,a)}return function(){if(a-o<7)u.insertionSort(i,o,a,l);else{var t=o+s,e=a+s,n=t+(e-t>>1);if(u.mergeSort(i,r,t,n,-s,l),u.mergeSort(i,r,n,e,-s,l),l.compare(r[n-1],r[n])<=0)for(;o<a;)i[o++]=r[t++];else u.merge(r,t,n,e,i,o,a,l)}}()},u.nativeLongSort$java_lang_Object$java_lang_Object=function(t,e){t.sort(e)},u.nativeLongSort=function(t,e,n){if(null==t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(null==t&&null!==t||null==e&&null!==e||void 0!==n)throw new Error("invalid overload");return c.util.Arrays.nativeLongSort$java_lang_Object$java_lang_Object(t,e)}return r=javaemul.internal.ArrayHelper.unsafeClone(t,e,n),u.nativeLongSort(r,javaemul.internal.LongCompareHolder.getLongComparator()),void javaemul.internal.ArrayHelper.copy(r,0,t,e,n-e);var r},u.nativeNumberSort$java_lang_Object=function(t){t.sort(function(t,e){return t-e})},u.nativeNumberSort=function(t,e,n){if(null==t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(null==t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");return c.util.Arrays.nativeNumberSort$java_lang_Object(t)}return r=javaemul.internal.ArrayHelper.unsafeClone(t,e,n),u.nativeNumberSort(r),void javaemul.internal.ArrayHelper.copy(r,0,t,e,n-e);var r},u}(),t.Arrays=r,e=r=t.Arrays||(t.Arrays={}),n=function(e){function t(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.RandomAccess","java.util.List","java.util.Collection","java.lang.Iterable","java.io.Serializable"]}),this.array=t}return __extends(t,e),t.prototype.contains=function(t){return-1!==this.indexOf(t)},t.prototype.get=function(t){return javaemul.internal.InternalPreconditions.checkElementIndex(t,this.size()),this.array[t]},t.prototype.set=function(t,e){var n=this.get(t);return this.array[t]=e,n},t.prototype.size=function(){return this.array.length},t.prototype.toArray$=function(){return this.toArray(new Array(this.array.length))},t.prototype.toArray=function(n){var r=this;if(null!=n&&n instanceof Array||null===n)return function(){var t=r.size();n.length<t&&(n=javaemul.internal.ArrayHelper.createFrom(n,t));for(var e=0;e<t;++e)n[e]=r.array[e];return n.length>t&&(n[t]=null),n}();if(void 0===n)return this.toArray$();throw new Error("invalid overload")},t}(c.util.AbstractList),e.ArrayList=n}(java||(java={})),function(o){var t,e;t=o.util||(o.util={}),e=function(i){function r(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Collection")||null===t)&&void 0===e){var r=t;i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.RandomAccess","java.util.List","java.lang.Cloneable","java.util.Collection","java.lang.Iterable","java.io.Serializable"]}),n.arrayList=new o.util.ArrayList,n.addAll(r)}else if("number"!=typeof t&&null!==t||void 0!==e){if(void 0!==t||void 0!==e)throw new Error("invalid overload");i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.RandomAccess","java.util.List","java.lang.Cloneable","java.util.Collection","java.lang.Iterable","java.io.Serializable"]}),n.arrayList=new o.util.ArrayList}else i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.RandomAccess","java.util.List","java.lang.Cloneable","java.util.Collection","java.lang.Iterable","java.io.Serializable"]}),n.arrayList=new o.util.ArrayList(t);else i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.RandomAccess","java.util.List","java.lang.Cloneable","java.util.Collection","java.lang.Iterable","java.io.Serializable"]}),n.arrayList=new o.util.ArrayList(t)}return __extends(r,i),r.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();){t(e.next())}},r.prototype.add$java_lang_Object=function(t){return this.arrayList.add(t)},r.prototype.add=function(t,e){var n=this;if("number"!=typeof t&&null!==t||null==e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.add$java_lang_Object(t)}return r.checkArrayElementIndex(t,n.size()+1),void n.arrayList.add(t,e)},r.prototype.addAll$java_util_Collection=function(t){return this.arrayList.addAll(t)},r.prototype.addAll=function(t,e){var n=this;if("number"!=typeof t&&null!==t||!(null!=e&&null!=e.__interfaces&&0<=e.__interfaces.indexOf("java.util.Collection")||null===e)){if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Collection")||null===t)&&void 0===e)return this.addAll$java_util_Collection(t);throw new Error("invalid overload")}return n.arrayList.addAll(t,e)},r.prototype.addElement=function(t){this.add(t)},r.prototype.capacity=function(){return this.arrayList.size()},r.prototype.clear=function(){this.arrayList.clear()},r.prototype.clone=function(){return new r(this)},r.prototype.contains=function(t){return this.arrayList.contains(t)},r.prototype.containsAll=function(t){return this.arrayList.containsAll(t)},r.prototype.copyInto=function(t){for(var e=-1,n=this.size();++e<n;)t[e]=this.get(e)},r.prototype.elementAt=function(t){return this.get(t)},r.prototype.elements=function(){return o.util.Collections.enumeration(this.arrayList)},r.prototype.ensureCapacity=function(t){this.arrayList.ensureCapacity(t)},r.prototype.firstElement=function(){return javaemul.internal.InternalPreconditions.checkElement(!this.isEmpty()),this.get(0)},r.prototype.get=function(t){return r.checkArrayElementIndex(t,this.size()),this.arrayList.get(t)},r.prototype.indexOf$java_lang_Object=function(t){return this.arrayList.indexOf(t)},r.prototype.indexOf=function(t,e){var n=this;if(null==t&&null!==t||"number"!=typeof e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.indexOf$java_lang_Object(t)}return r.checkArrayIndexOutOfBounds(0<=e,e),n.arrayList.indexOf(t,e)},r.prototype.insertElementAt=function(t,e){this.add(e,t)},r.prototype.isEmpty=function(){return 0===this.arrayList.size()},r.prototype.iterator=function(){return this.arrayList.iterator()},r.prototype.lastElement=function(){return javaemul.internal.InternalPreconditions.checkElement(!this.isEmpty()),this.get(this.size()-1)},r.prototype.lastIndexOf$java_lang_Object=function(t){return this.arrayList.lastIndexOf(t)},r.prototype.lastIndexOf=function(t,e){var n=this;if(null==t&&null!==t||"number"!=typeof e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.lastIndexOf$java_lang_Object(t)}return r.checkArrayIndexOutOfBounds(e<n.size(),e),n.arrayList.lastIndexOf(t,e)},r.prototype.remove=function(t){var e=this;if("number"==typeof t||null===t)return r.checkArrayElementIndex(t,e.size()),e.arrayList.remove(t);if(null!=t||null===t)return this.remove$java_lang_Object(t);throw new Error("invalid overload")},r.prototype.removeAll=function(t){return this.arrayList.removeAll(t)},r.prototype.removeAllElements=function(){this.clear()},r.prototype.removeElement=function(t){return this.remove(t)},r.prototype.removeElementAt=function(t){this.remove(t)},r.prototype.set=function(t,e){return r.checkArrayElementIndex(t,this.size()),this.arrayList.set(t,e)},r.prototype.setElementAt=function(t,e){this.set(e,t)},r.prototype.setSize=function(t){r.checkArrayIndexOutOfBounds(0<=t,t),this.arrayList.setSize(t)},r.prototype.size=function(){return this.arrayList.size()},r.prototype.subList=function(t,e){return this.arrayList.subList(t,e)},r.prototype.toArray$=function(){return this.arrayList.toArray()},r.prototype.toArray=function(t){if(null!=t&&t instanceof Array||null===t)return this.arrayList.toArray(t);if(void 0===t)return this.toArray$();throw new Error("invalid overload")},r.prototype.toString=function(){return this.arrayList.toString()},r.prototype.trimToSize=function(){this.arrayList.trimToSize()},r.prototype.removeRange=function(t,e){this.arrayList.removeRange(t,e)},r.checkArrayElementIndex=function(t,e){if(t<0||e<=t)throw new o.lang.ArrayIndexOutOfBoundsException},r.checkArrayIndexOutOfBounds=function(t,e){if(!t)throw new o.lang.ArrayIndexOutOfBoundsException(new String(e).toString())},r}(o.util.AbstractList),t.Vector=e}(java||(java={})),function(a){var t,e;t=a.util||(a.util={}),e=function(i){function o(t,e){var n=this;if("number"!=typeof t&&null!==t||!(null!=e&&null!=e.__interfaces&&0<=e.__interfaces.indexOf("java.util.Comparator")||null===e))if((null!=t&&t instanceof a.util.PriorityQueue||null===t)&&void 0===e){t=(r=t).size(),e=r.comparator();i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Queue","java.lang.Iterable"]}),n.heap=new a.util.ArrayList(t),null==e&&(e=a.util.Comparators.natural()),n.cmp=e,n.addAll(r)}else if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.SortedSet")||null===t)&&void 0===e){t=(r=t).size(),e=r.comparator();i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Queue","java.lang.Iterable"]}),n.heap=new a.util.ArrayList(t),null==e&&(e=a.util.Comparators.natural()),n.cmp=e,n.addAll(r)}else if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Collection")||null===t)&&void 0===e){var r;t=(r=t).size(),e=null;i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Queue","java.lang.Iterable"]}),n.heap=new a.util.ArrayList(t),null==e&&(e=a.util.Comparators.natural()),n.cmp=e,n.addAll(r)}else if("number"!=typeof t&&null!==t||void 0!==e){if(void 0!==t||void 0!==e)throw new Error("invalid overload");t=11,e=null;i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Queue","java.lang.Iterable"]}),n.heap=new a.util.ArrayList(t),null==e&&(e=a.util.Comparators.natural()),n.cmp=e}else{var e=null;i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Queue","java.lang.Iterable"]}),n.heap=new a.util.ArrayList(t),null==e&&(e=a.util.Comparators.natural()),n.cmp=e}else i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Queue","java.lang.Iterable"]}),n.heap=new a.util.ArrayList(t),null==e&&(e=a.util.Comparators.natural()),n.cmp=e}return __extends(o,i),o.getLeftChild=function(t){return 2*t+1},o.getParent=function(t){return(t-1)/2|0},o.getRightChild=function(t){return 2*t+2},o.isLeaf=function(t,e){return e<=2*t+1},o.prototype.addAll=function(t,e){if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Collection")||null===t)&&void 0===e)return this.addAll$java_util_Collection(t);throw new Error("invalid overload")},o.prototype.addAll$java_util_Collection=function(t){return!!this.heap.addAll(t)&&(this.makeHeap(0),!0)},o.prototype.clear=function(){this.heap.clear()},o.prototype.comparator=function(){return this.cmp===a.util.Comparators.natural()?null:this.cmp},o.prototype.contains=function(t){return this.heap.contains(t)},o.prototype.containsAll=function(t){return this.heap.containsAll(t)},o.prototype.isEmpty=function(){return this.heap.isEmpty()},o.prototype.iterator=function(){return a.util.Collections.unmodifiableList(this.heap).iterator()},o.prototype.offer=function(t){var e=this.heap.size();for(this.heap.add(t);0<e;){var n=e;if(e=o.getParent(e),this.cmp.compare(this.heap.get(e),t)<=0)return this.heap.set(n,t),!0;this.heap.set(n,this.heap.get(e))}return this.heap.set(e,t),!0},o.prototype.peek=function(){return 0===this.heap.size()?null:this.heap.get(0)},o.prototype.poll=function(){if(0===this.heap.size())return null;var t=this.heap.get(0);return this.removeAtIndex(0),t},o.prototype.remove=function(t){if(null!=t||null===t)return this.remove$java_lang_Object(t);if(void 0===t)return this.remove$();throw new Error("invalid overload")},o.prototype.remove$java_lang_Object=function(t){var e=this.heap.indexOf(t);return!(e<0)&&(this.removeAtIndex(e),!0)},o.prototype.removeAll=function(t){return!!this.heap.removeAll(t)&&(this.makeHeap(0),!0)},o.prototype.retainAll=function(t){return!!this.heap.retainAll(t)&&(this.makeHeap(0),!0)},o.prototype.size=function(){return this.heap.size()},o.prototype.toArray$=function(){return this.heap.toArray()},o.prototype.toArray=function(t){if(null!=t&&t instanceof Array||null===t)return this.heap.toArray(t);if(void 0===t)return this.toArray$();throw new Error("invalid overload")},o.prototype.toString=function(){return this.heap.toString()},o.prototype.makeHeap=function(t){if(!this.isLeaf(t)){this.makeHeap(o.getLeftChild(t));var e=o.getRightChild(t);e<this.heap.size()&&this.makeHeap(e),this.mergeHeaps(t)}},o.prototype.mergeHeaps=function(t){for(var e=this.heap.size(),n=this.heap.get(t);!o.isLeaf(t,e);){var r=this.getSmallestChild(t,e);if(this.cmp.compare(n,this.heap.get(r))<0)break;this.heap.set(t,this.heap.get(r)),t=r}this.heap.set(t,n)},o.prototype.getSmallestChild=function(t,e){var n,r=o.getLeftChild(t),i=r+1;return n=r,i<e&&this.cmp.compare(this.heap.get(i),this.heap.get(r))<0&&(n=i),n},o.prototype.isLeaf=function(t){return o.isLeaf(t,this.heap.size())},o.prototype.removeAtIndex=function(t){var e=this.heap.remove(this.heap.size()-1);t<this.heap.size()&&(this.heap.set(t,e),this.mergeHeaps(t))},o}(a.util.AbstractQueue),t.PriorityQueue=e}(java||(java={})),function(c){var t,e;t=c.util||(c.util={}),e=function(){function o(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map"]})}return o.prototype.clear=function(){this.entrySet().clear()},o.prototype.containsKey=function(t){return null!=this.implFindEntry(t,!1)},o.prototype.containsValue=function(t){for(var e=this.entrySet().iterator();e.hasNext();){var n=e.next().getValue();if(c.util.Objects.equals(t,n))return!0}return!1},o.prototype.containsEntry=function(t){var e=t.getKey(),n=t.getValue(),r=this.get(e);return!!c.util.Objects.equals(n,r)&&!(null==r&&!this.containsKey(e))},o.prototype.equals=function(t){if(t===this)return!0;if(!(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map")))return!1;var e=t;if(this.size()!==e.size())return!1;for(var n=e.entrySet().iterator();n.hasNext();){var r=n.next();if(!this.containsEntry(r))return!1}return!0},o.prototype.get=function(t){return o.getEntryValueOrNull(this.implFindEntry(t,!1))},o.prototype.hashCode=function(){return c.util.Collections.hashCode(this.entrySet())},o.prototype.isEmpty=function(){return 0===this.size()},o.prototype.keySet=function(){return new o.AbstractMap$0(this)},o.prototype.put=function(t,e){if(null==t&&null!==t||null==e&&null!==e)throw new Error("invalid overload");return this.put$java_lang_Object$java_lang_Object(t,e)},o.prototype.put$java_lang_Object$java_lang_Object=function(t,e){throw new c.lang.UnsupportedOperationException("Put not supported on this map")},o.prototype.putAll=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=t.entrySet().iterator();e.hasNext();){var n=e.next();this.put(n.getKey(),n.getValue())}},o.prototype.remove=function(t){return o.getEntryValueOrNull(this.implFindEntry(t,!0))},o.prototype.size=function(){return this.entrySet().size()},o.prototype.toString$=function(){for(var t=new c.util.StringJoiner(", ","{","}"),e=this.entrySet().iterator();e.hasNext();){var n=e.next();t.add(this.toString(n))}return t.toString()},o.prototype.toString=function(t){var e=this;if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map.Entry")||null===t)return e.toString(t.getKey())+"="+e.toString(t.getValue());if(null!=t||null===t)return this.toString$java_lang_Object(t);if(void 0===t)return this.toString$();throw new Error("invalid overload")},o.prototype.toString$java_lang_Object=function(t){return t===this?"(this Map)":new String(t).toString()},o.prototype.values=function(){return new o.AbstractMap$1(this)},o.getEntryKeyOrNull=function(t){return null==t?null:t.getKey()},o.getEntryValueOrNull=function(t){return null==t?null:t.getValue()},o.prototype.implFindEntry=function(t,e){for(var n=this.entrySet().iterator();n.hasNext();){var r=n.next(),i=r.getKey();if(c.util.Objects.equals(t,i))return e&&(r=new o.SimpleEntry(r.getKey(),r.getValue()),n.remove()),r}return null},o}(),t.AbstractMap=e,function(t){var e=function(){function t(t,e){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map.Entry"]}),this.key=t,this.value=e}return t.prototype.getKey=function(){return this.key},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){var e=this.value;return this.value=t,e},t.prototype.equals=function(t){if(!(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map.Entry")))return!1;var e=t;return c.util.Objects.equals(this.key,e.getKey())&&c.util.Objects.equals(this.value,e.getValue())},t.prototype.hashCode=function(){return c.util.Objects.hashCode(this.key)^c.util.Objects.hashCode(this.value)},t.prototype.toString=function(){return this.key+"="+this.value},t}();t.AbstractEntry=e;var n=function(r){function t(t,e){if(null==t&&null!==t||null==e&&null!==e){if(!(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map.Entry")||null===t)||void 0!==e)throw new Error("invalid overload");var n=t;r.call(this,n.getKey(),n.getValue()),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map.Entry"]})}else r.call(this,t,e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map.Entry"]})}return __extends(t,r),t}(t.AbstractEntry);t.SimpleEntry=n;var r=function(r){function t(t,e){if(null==t&&null!==t||null==e&&null!==e){if(!(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map.Entry")||null===t)||void 0!==e)throw new Error("invalid overload");var n=t;r.call(this,n.getKey(),n.getValue()),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map.Entry"]})}else r.call(this,t,e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map.Entry"]})}return __extends(t,r),t.prototype.setValue=function(t){throw new c.lang.UnsupportedOperationException},t}(t.AbstractEntry);t.SimpleImmutableEntry=r;var i,o,a=function(e){function n(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Set","java.lang.Iterable"]}),this.__parent=t}return __extends(n,e),n.prototype.clear=function(){this.__parent.clear()},n.prototype.contains=function(t){return this.__parent.containsKey(t)},n.prototype.iterator=function(){var t=this.__parent.entrySet().iterator();return new n.AbstractMap$0$0(this,t)},n.prototype.remove=function(t){return!!this.__parent.containsKey(t)&&(this.__parent.remove(t),!0)},n.prototype.size=function(){return this.__parent.size()},n}(c.util.AbstractSet);t.AbstractMap$0=a,i=a=t.AbstractMap$0||(t.AbstractMap$0={}),o=function(){function t(t,e){this.outerIter=e,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.__parent=t}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){return this.outerIter.hasNext()},t.prototype.next=function(){return this.outerIter.next().getKey()},t.prototype.remove=function(){this.outerIter.remove()},t}(),i.AbstractMap$0$0=o;var s,l,u=function(e){function n(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.lang.Iterable"]}),this.__parent=t}return __extends(n,e),n.prototype.clear=function(){this.__parent.clear()},n.prototype.contains=function(t){return this.__parent.containsValue(t)},n.prototype.iterator=function(){var t=this.__parent.entrySet().iterator();return new n.AbstractMap$1$0(this,t)},n.prototype.size=function(){return this.__parent.size()},n}(c.util.AbstractCollection);t.AbstractMap$1=u,s=u=t.AbstractMap$1||(t.AbstractMap$1={}),l=function(){function t(t,e){this.outerIter=e,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.__parent=t}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){return this.outerIter.hasNext()},t.prototype.next=function(){return this.outerIter.next().getValue()},t.prototype.remove=function(){this.outerIter.remove()},t}(),s.AbstractMap$1$0=l}(e=t.AbstractMap||(t.AbstractMap={}))}(java||(java={})),function(o){var t,e,n,r,i,a;t=o.util||(o.util={}),a=function(t){function s(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Set","java.lang.Iterable"]})}return __extends(s,t),s.allOf=function(t){var e=t.getEnumConstants(),n=javaemul.internal.ArrayHelper.clone(e,0,e.length);return new s.EnumSetImpl(e,n,e.length)},s.complementOf=function(t){for(var e=t,n=e.all,r=e.set,i=javaemul.internal.ArrayHelper.createFrom(r,r.length),o=0,a=r.length;o<a;++o)null==r[o]&&(i[o]=n[o]);return new s.EnumSetImpl(n,i,n.length-e.__size)},s.copyOf$java_util_Collection=function(t){if(null!=t&&t instanceof o.util.EnumSet)return s.copyOf(t);javaemul.internal.InternalPreconditions.checkArgument(!t.isEmpty(),"Collection is empty");for(var e=t.iterator(),n=e.next(),r=s.of(n);e.hasNext();){var i=e.next();r.add(i)}return r},s.copyOf=function(t){if(null!=t&&t instanceof o.util.EnumSet||null===t)return t.clone();if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Collection")||null===t)return o.util.EnumSet.copyOf$java_util_Collection(t);throw new Error("invalid overload")},s.noneOf=function(t){var e=t.getEnumConstants();return new s.EnumSetImpl(e,javaemul.internal.ArrayHelper.createFrom(e,e.length),0)},s.of$java_lang_Enum=function(t){var e=s.noneOf(t.getDeclaringClass());return e.add(t),e},s.of=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(null==t&&null!==t||!(null!=n&&n instanceof Array||null===n)){if(null==t&&null!==t||void 0!==n)throw new Error("invalid overload");return o.util.EnumSet.of$java_lang_Enum(t)}return e=s.of(t),o.util.Collections.addAll(e,n),e},s.range=function(t,e){javaemul.internal.InternalPreconditions.checkArgument(t.compareTo(e)<=0,"%s > %s",t,e);for(var n=t.getDeclaringClass().getEnumConstants(),r=javaemul.internal.ArrayHelper.createFrom(n,n.length),i=t.ordinal(),o=e.ordinal()+1,a=i;a<o;++a)r[a]=n[a];return new s.EnumSetImpl(n,r,o-i)},s}(o.util.AbstractSet),t.EnumSet=a,e=a=t.EnumSet||(t.EnumSet={}),i=function(r){function t(t,e,n){r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Set","java.lang.Iterable"]}),this.__size=0,this.all=t,this.set=e,this.__size=n}return __extends(t,r),t.prototype.add=function(t,e){if(null==t&&null!==t||void 0!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.add$java_lang_Object(t)}return this.add$java_lang_Enum(t)},t.prototype.add$java_lang_Enum=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);var e=t.ordinal();return null==this.set[e]&&(this.set[e]=t,++this.__size,!0)},t.prototype.clone=function(){var t=javaemul.internal.ArrayHelper.clone(this.set,0,this.set.length);return new e.EnumSetImpl(this.all,t,this.__size)},t.prototype.contains=function(t){return null!=t&&t instanceof o.lang.Enum&&this.containsEnum(t)},t.prototype.containsEnum=function(t){return null!=t&&this.set[t.ordinal()]===t},t.prototype.iterator=function(){return new t.IteratorImpl(this)},t.prototype.remove=function(t){if(null!=t||null===t)return this.remove$java_lang_Object(t);throw new Error("invalid overload")},t.prototype.remove$java_lang_Object=function(t){return null!=t&&t instanceof o.lang.Enum&&this.removeEnum(t)},t.prototype.removeEnum=function(t){return null!=t&&this.set[t.ordinal()]===t&&(this.set[t.ordinal()]=null,--this.__size,!0)},t.prototype.size=function(){return this.__size},t.prototype.capacity=function(){return this.all.length},t}(o.util.EnumSet),e.EnumSetImpl=i,n=i=e.EnumSetImpl||(e.EnumSetImpl={}),r=function(){function t(t){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.__parent=t,this.i=-1,this.last=-1,this.findNext()}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){return this.i<this.__parent.capacity()},t.prototype.next=function(){return javaemul.internal.InternalPreconditions.checkElement(this.hasNext()),this.last=this.i,this.findNext(),this.__parent.set[this.last]},t.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(-1!==this.last),this.__parent.set[this.last]=null,--this.__parent.__size,this.last=-1},t.prototype.findNext=function(){++this.i;for(var t=this.__parent.capacity();this.i<t;++this.i)if(null!=this.__parent.set[this.i])return},t}(),n.IteratorImpl=r}(java||(java={})),function(a){var t,e;t=a.util||(a.util={}),e=function(o){function t(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Collection")||null===t)&&void 0===e){var r=t;o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Collection","java.util.Set","java.lang.Iterable","java.io.Serializable"]}),n.map=new a.util.HashMap(r.size()),n.addAll(r)}else if((null!=t&&t instanceof a.util.HashMap||null===t)&&void 0===e){var i=t;o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Collection","java.util.Set","java.lang.Iterable","java.io.Serializable"]}),n.map=i}else if("number"!=typeof t&&null!==t||void 0!==e){if(void 0!==t||void 0!==e)throw new Error("invalid overload");o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Collection","java.util.Set","java.lang.Iterable","java.io.Serializable"]}),n.map=new a.util.HashMap}else o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Collection","java.util.Set","java.lang.Iterable","java.io.Serializable"]}),n.map=new a.util.HashMap(t);else o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Collection","java.util.Set","java.lang.Iterable","java.io.Serializable"]}),n.map=new a.util.HashMap(t,e)}return __extends(t,o),t.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();){t(e.next())}},t.prototype.add=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.add$java_lang_Object(t)},t.prototype.add$java_lang_Object=function(t){return null==this.map.put(t,this)},t.prototype.clear=function(){this.map.clear()},t.prototype.clone=function(){return new t(this)},t.prototype.contains=function(t){return this.map.containsKey(t)},t.prototype.isEmpty=function(){return this.map.isEmpty()},t.prototype.iterator=function(){return this.map.keySet().iterator()},t.prototype.remove=function(t){if(null!=t||null===t)return this.remove$java_lang_Object(t);throw new Error("invalid overload")},t.prototype.remove$java_lang_Object=function(t){return null!=this.map.remove(t)},t.prototype.size=function(){return this.map.size()},t.prototype.toString=function(){return this.map.keySet().toString()},t}(a.util.AbstractSet),t.HashSet=e}(java||(java={})),function(a){var t,e;t=a.util||(a.util={}),e=function(i){function o(t){var e=this;if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Collection")||null===t)i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.SortedSet","java.util.Collection","java.util.Set","java.util.NavigableSet","java.lang.Iterable","java.io.Serializable"]}),e.map=new a.util.TreeMap,e.addAll(t);else if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Comparator")||null===t)i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.SortedSet","java.util.Collection","java.util.Set","java.util.NavigableSet","java.lang.Iterable","java.io.Serializable"]}),e.map=new a.util.TreeMap(t);else if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.SortedSet")||null===t){var n=t;t=javaemul.internal.InternalPreconditions.checkNotNull(n).comparator();i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.SortedSet","java.util.Collection","java.util.Set","java.util.NavigableSet","java.lang.Iterable","java.io.Serializable"]}),e.map=new a.util.TreeMap(t),e.addAll(n)}else if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.NavigableMap")||null===t){var r=t;i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.SortedSet","java.util.Collection","java.util.Set","java.util.NavigableSet","java.lang.Iterable","java.io.Serializable"]}),e.map=r}else{if(void 0!==t)throw new Error("invalid overload");i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.SortedSet","java.util.Collection","java.util.Set","java.util.NavigableSet","java.lang.Iterable","java.io.Serializable"]}),e.map=new a.util.TreeMap}}return __extends(o,i),o.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();){t(e.next())}},o.prototype.add=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.add$java_lang_Object(t)},o.prototype.add$java_lang_Object=function(t){return null==this.map.put(t,javaemul.internal.BooleanHelper.FALSE)},o.prototype.ceiling=function(t){return this.map.ceilingKey(t)},o.prototype.clear=function(){this.map.clear()},o.prototype.comparator=function(){return this.map.comparator()},o.prototype.contains=function(t){return this.map.containsKey(t)},o.prototype.descendingIterator=function(){return this.descendingSet().iterator()},o.prototype.descendingSet=function(){return new o(this.map.descendingMap())},o.prototype.first=function(){return this.map.firstKey()},o.prototype.floor=function(t){return this.map.floorKey(t)},o.prototype.headSet$java_lang_Object=function(t){return this.headSet(t,!1)},o.prototype.headSet=function(t,e){var n=this;if(null==t&&null!==t||"boolean"!=typeof e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.headSet$java_lang_Object(t)}return new o(n.map.headMap(t,e))},o.prototype.higher=function(t){return this.map.higherKey(t)},o.prototype.iterator=function(){return this.map.keySet().iterator()},o.prototype.last=function(){return this.map.lastKey()},o.prototype.lower=function(t){return this.map.lowerKey(t)},o.prototype.pollFirst=function(){return a.util.AbstractMap.getEntryKeyOrNull(this.map.pollFirstEntry())},o.prototype.pollLast=function(){return a.util.AbstractMap.getEntryKeyOrNull(this.map.pollLastEntry())},o.prototype.remove=function(t){if(null!=t||null===t)return this.remove$java_lang_Object(t);throw new Error("invalid overload")},o.prototype.remove$java_lang_Object=function(t){return null!=this.map.remove(t)},o.prototype.size=function(){return this.map.size()},o.prototype.subSet=function(t,e,n,r){var i=this;if(null==t&&null!==t||"boolean"!=typeof e&&null!==e||null==n&&null!==n||"boolean"!=typeof r&&null!==r){if(null==t&&null!==t||null==e&&null!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.subSet$java_lang_Object$java_lang_Object(t,e)}return new o(i.map.subMap(t,e,n,r))},o.prototype.subSet$java_lang_Object$java_lang_Object=function(t,e){return this.subSet(t,!0,e,!1)},o.prototype.tailSet$java_lang_Object=function(t){return this.tailSet(t,!0)},o.prototype.tailSet=function(t,e){var n=this;if(null==t&&null!==t||"boolean"!=typeof e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.tailSet$java_lang_Object(t)}return new o(n.map.tailMap(t,e))},o}(a.util.AbstractSet),t.TreeSet=e}(java||(java={})),function(v){var t,e;t=v.lang||(v.lang={}),e=function(){function d(){}return d.err_$LI$=function(){return null==d.err&&(d.err=new v.io.PrintStream(null)),d.err},d.out_$LI$=function(){return null==d.out&&(d.out=new v.io.PrintStream(null)),d.out},d.arraycopy=function(t,e,n,r,i){javaemul.internal.InternalPreconditions.checkNotNull(t,"src"),javaemul.internal.InternalPreconditions.checkNotNull(n,"dest");var o=t.getClass(),a=n.getClass();javaemul.internal.InternalPreconditions.checkArrayType(o.isArray(),"srcType is not an array"),javaemul.internal.InternalPreconditions.checkArrayType(a.isArray(),"destType is not an array");var s=o.getComponentType(),l=a.getComponentType();javaemul.internal.InternalPreconditions.checkArrayType(d.arrayTypeMatch(s,l),"Array types don't match");var u=javaemul.internal.ArrayHelper.getLength(t),c=javaemul.internal.ArrayHelper.getLength(n);if(e<0||r<0||i<0||u<e+i||c<r+i)throw new v.lang.IndexOutOfBoundsException;if(s.isPrimitive()&&!s.isArray()||o.equals(a))0<i&&javaemul.internal.ArrayHelper.copy(t,e,n,r,i);else{var h=t,f=n;if(t===n&&e<r){e+=i;for(var p=r+i;p-- >r;)f[p]=h[--e]}else for(p=r+i;r<p;)f[r++]=h[e++]}},d.currentTimeMillis=function(){return Math.round(javaemul.internal.DateUtil.now())},d.gc=function(){},d.getProperty$java_lang_String=function(t){switch(t){case"user.dir":case"user.home":return"";case"user.name":return"jsweet";case"file.separator":return"/";case"java.home":return null;case"java.vendor":return"JSweet";case"java.vendor.url":return"http://www.jsweet.org";case"java.version":return"jsweet";case"os.arch":case"os.name":return"generic";case"os.version":return"unknown";case"java.io.tmpdir":return"";default:return null}},d.getProperty=function(t,e){if("string"!=typeof t&&null!==t||"string"!=typeof e&&null!==e){if("string"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return v.lang.System.getProperty$java_lang_String(t)}return null==(n=d.getProperty(t))?e:n;var n},d.identityHashCode=function(t){return javaemul.internal.HashCodes.getIdentityHashCode(t)},d.setErr=function(t){v.lang.System.err=t},d.setOut=function(t){v.lang.System.out=t},d.arrayTypeMatch=function(t,e){return t.isPrimitive()?t.equals(e):!e.isPrimitive()},d}(),t.System=e}(java||(java={})),function(n){var t,e;t=n.lang||(n.lang={}),e=function(e){function t(t){if("string"==typeof t||null===t)e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else{if(void 0!==t)throw new Error("invalid overload");e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,e),t.forInputString=function(t){return new n.lang.NumberFormatException('For input string: "'+t+'"')},t.forNullInputString=function(){return new n.lang.NumberFormatException("null")},t.forRadix=function(t){return new n.lang.NumberFormatException("radix "+t+" out of range")},t}(n.lang.IllegalArgumentException),t.NumberFormatException=e}(java||(java={})),function(t){var e,n,r;e=t.nio||(t.nio={}),n=e.charset||(e.charset={}),r=function(e){function t(t){e.call(this,new String(t).toString()),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]}),this.charsetName=t}return __extends(t,e),t.prototype.getCharsetName=function(){return this.charsetName},t}(t.lang.IllegalArgumentException),n.IllegalCharsetNameException=r}(java||(java={})),function(t){var e,n,r;e=t.nio||(t.nio={}),n=e.charset||(e.charset={}),r=function(e){function t(t){e.call(this,new String(t).toString()),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]}),this.charsetName=t}return __extends(t,e),t.prototype.getCharsetName=function(){return this.charsetName},t}(t.lang.IllegalArgumentException),n.UnsupportedCharsetException=r}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(n){function t(t){if("string"==typeof t||null===t)n.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else if("number"==typeof t||null===t){var e=t;n.call(this,"Array index "+e+" out of range"),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{if(void 0!==t)throw new Error("invalid overload");n.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,n),t}(t.lang.IndexOutOfBoundsException),e.ArrayIndexOutOfBoundsException=n}(java||(java={})),function(t){var e,n;e=t.lang||(t.lang={}),n=function(n){function t(t){if("string"==typeof t||null===t)n.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]});else if("number"==typeof t||null===t){var e=t;n.call(this,"String index out of range: "+e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}else{if(void 0!==t)throw new Error("invalid overload");n.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.io.Serializable"]})}}return __extends(t,n),t}(t.lang.IndexOutOfBoundsException),e.StringIndexOutOfBoundsException=n}(java||(java={})),function(r){var t,e;t=r.util||(r.util={}),e=function(n){function i(t){var e=this;if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Collection")||null===t)n.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.List","java.util.Collection","java.util.Queue","java.util.Deque","java.lang.Iterable","java.io.Serializable"]}),this.__size=0,e.header=new i.Node,e.tail=new i.Node,e.reset(),e.addAll(t);else{if(void 0!==t)throw new Error("invalid overload");n.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.List","java.util.Collection","java.util.Queue","java.util.Deque","java.lang.Iterable","java.io.Serializable"]}),this.__size=0,e.header=new i.Node,e.tail=new i.Node,e.reset()}}return __extends(i,n),i.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();){t(e.next())}},i.prototype.add$java_lang_Object=function(t){return this.addLast(t),!0},i.prototype.addFirst=function(t){this.addNode(t,this.header,this.header.next)},i.prototype.addLast=function(t){this.addNode(t,this.tail.prev,this.tail)},i.prototype.clear=function(){this.reset()},i.prototype.reset=function(){this.header.next=this.tail,this.tail.prev=this.header,this.header.prev=this.tail.next=null,this.__size=0},i.prototype.clone=function(){return new i(this)},i.prototype.descendingIterator=function(){return new i.DescendingIteratorImpl(this)},i.prototype.element=function(){return this.getFirst()},i.prototype.getFirst=function(){return javaemul.internal.InternalPreconditions.checkElement(0!==this.__size),this.header.next.value},i.prototype.getLast=function(){return javaemul.internal.InternalPreconditions.checkElement(0!==this.__size),this.tail.prev.value},i.prototype.listIterator=function(n){var r=this;if("number"==typeof n||null===n)return function(){var t;if(javaemul.internal.InternalPreconditions.checkPositionIndex(n,r.__size),n>=r.__size>>1){t=r.tail;for(var e=r.__size;n<e;--e)t=t.prev}else{t=r.header.next;for(e=0;e<n;++e)t=t.next}return new i.ListIteratorImpl2(r,n,t)}();if(void 0===n)return this.listIterator$();throw new Error("invalid overload")},i.prototype.offer=function(t){return this.offerLast(t)},i.prototype.offerFirst=function(t){return this.addFirst(t),!0},i.prototype.offerLast=function(t){return this.addLast(t),!0},i.prototype.peek=function(){return this.peekFirst()},i.prototype.peekFirst=function(){return 0===this.__size?null:this.getFirst()},i.prototype.peekLast=function(){return 0===this.__size?null:this.getLast()},i.prototype.poll=function(){return this.pollFirst()},i.prototype.pollFirst=function(){return 0===this.__size?null:this.removeFirst()},i.prototype.pollLast=function(){return 0===this.__size?null:this.removeLast()},i.prototype.pop=function(){return this.removeFirst()},i.prototype.push=function(t){this.addFirst(t)},i.prototype.remove$=function(){return this.removeFirst()},i.prototype.removeFirst=function(){return javaemul.internal.InternalPreconditions.checkElement(0!==this.__size),this.removeNode(this.header.next)},i.prototype.removeFirstOccurrence=function(t){return this.remove(t)},i.prototype.removeLast=function(){return javaemul.internal.InternalPreconditions.checkElement(0!==this.__size),this.removeNode(this.tail.prev)},i.prototype.removeLastOccurrence=function(t){for(var e=this.tail.prev;e!==this.header;e=e.prev)if(r.util.Objects.equals(e.value,t))return this.removeNode(e),!0;return!1},i.prototype.size=function(){return this.__size},i.prototype.addNode=function(t,e,n){var r=new i.Node;r.value=t,r.prev=e,(r.next=n).prev=e.next=r,++this.__size},i.prototype.removeNode=function(t){var e=t.value;return t.next.prev=t.prev,t.prev.next=t.next,t.next=t.prev=null,t.value=null,--this.__size,e},i}(r.util.AbstractSequentialList),t.LinkedList=e,function(e){var t=function(){function t(t){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.__parent=t,this.itr=new e.ListIteratorImpl2(this.__parent,this.__parent.__size,this.__parent.tail)}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){return this.itr.hasPrevious()},t.prototype.next=function(){return this.itr.previous()},t.prototype.remove=function(){this.itr.remove()},t}();e.DescendingIteratorImpl=t;var n=function(){function t(t,e,n){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator","java.util.ListIterator"]}),this.__parent=t,this.currentIndex=0,this.lastNode=null,this.currentNode=n,this.currentIndex=e}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.add=function(t){this.__parent.addNode(t,this.currentNode.prev,this.currentNode),++this.currentIndex,this.lastNode=null},t.prototype.hasNext=function(){return this.currentNode!==this.__parent.tail},t.prototype.hasPrevious=function(){return this.currentNode.prev!==this.__parent.header},t.prototype.next=function(){return javaemul.internal.InternalPreconditions.checkElement(this.hasNext()),this.lastNode=this.currentNode,this.currentNode=this.currentNode.next,++this.currentIndex,this.lastNode.value},t.prototype.nextIndex=function(){return this.currentIndex},t.prototype.previous=function(){return javaemul.internal.InternalPreconditions.checkElement(this.hasPrevious()),this.lastNode=this.currentNode=this.currentNode.prev,--this.currentIndex,this.lastNode.value},t.prototype.previousIndex=function(){return this.currentIndex-1},t.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(null!=this.lastNode);var t=this.lastNode.next;this.__parent.removeNode(this.lastNode),this.currentNode===this.lastNode?this.currentNode=t:--this.currentIndex,this.lastNode=null},t.prototype.set=function(t){javaemul.internal.InternalPreconditions.checkState(null!=this.lastNode),this.lastNode.value=t},t}();e.ListIteratorImpl2=n;var r=function(){};e.Node=r}(e=t.LinkedList||(t.LinkedList={}))}(java||(java={})),function(h){var t;(function(t){var e=function(){function c(t){var e=this;if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.awt.Shape")||null===t)Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable"]}),null!=t&&t instanceof h.awt.geom.Area?e.curves=t.curves:e.curves=c.pathToCurves(t.getPathIterator(null));else{if(void 0!==t)throw new Error("invalid overload");Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.Shape","java.lang.Cloneable"]}),e.curves=c.EmptyCurves_$LI$()}}return c.EmptyCurves_$LI$=function(){return null==c.EmptyCurves&&(c.EmptyCurves=new h.util.Vector),c.EmptyCurves},c.pathToCurves=function(t){for(var e,n,r=new h.util.Vector,i=t.getWindingRule(),o=new Array(23),a=0,s=0,l=0,u=0;!t.isDone();){switch(t.currentSegment(o)){case h.awt.geom.PathIterator.SEG_MOVETO:sun.awt.geom.Curve.insertLine(r,l,u,a,s),l=a=o[0],u=s=o[1],sun.awt.geom.Curve.insertMove(r,a,s);break;case h.awt.geom.PathIterator.SEG_LINETO:e=o[0],n=o[1],sun.awt.geom.Curve.insertLine(r,l,u,e,n),l=e,u=n;break;case h.awt.geom.PathIterator.SEG_QUADTO:e=o[2],n=o[3],sun.awt.geom.Curve.insertQuad(r,l,u,o),l=e,u=n;break;case h.awt.geom.PathIterator.SEG_CUBICTO:e=o[4],n=o[5],sun.awt.geom.Curve.insertCubic(r,l,u,o),l=e,u=n;break;case h.awt.geom.PathIterator.SEG_CLOSE:sun.awt.geom.Curve.insertLine(r,l,u,a,s),l=a,u=s}t.next()}return sun.awt.geom.Curve.insertLine(r,l,u,a,s),(i===h.awt.geom.PathIterator.WIND_EVEN_ODD?new sun.awt.geom.AreaOp.EOWindOp:new sun.awt.geom.AreaOp.NZWindOp).calculate(r,c.EmptyCurves_$LI$())},c.prototype.add=function(t){this.curves=(new sun.awt.geom.AreaOp.AddOp).calculate(this.curves,t.curves),this.invalidateBounds()},c.prototype.subtract=function(t){this.curves=(new sun.awt.geom.AreaOp.SubOp).calculate(this.curves,t.curves),this.invalidateBounds()},c.prototype.intersect=function(t){this.curves=(new sun.awt.geom.AreaOp.IntOp).calculate(this.curves,t.curves),this.invalidateBounds()},c.prototype.exclusiveOr=function(t){this.curves=(new sun.awt.geom.AreaOp.XorOp).calculate(this.curves,t.curves),this.invalidateBounds()},c.prototype.reset=function(){this.curves=new h.util.Vector,this.invalidateBounds()},c.prototype.isEmpty=function(){return 0===this.curves.size()},c.prototype.isPolygonal=function(){for(var t=this.curves.elements();t.hasMoreElements();)if(1<t.nextElement().getOrder())return!1;return!0},c.prototype.isRectangular=function(){var t=this.curves.size();if(0===t)return!0;if(3<t)return!1;var e=this.curves.get(1),n=this.curves.get(2);return 1===e.getOrder()&&1===n.getOrder()&&e.getXTop()===e.getXBot()&&n.getXTop()===n.getXBot()&&e.getYTop()===n.getYTop()&&e.getYBot()===n.getYBot()},c.prototype.isSingular=function(){if(this.curves.size()<3)return!0;var t=this.curves.elements();for(t.nextElement();t.hasMoreElements();)if(0===t.nextElement().getOrder())return!1;return!0},c.prototype.invalidateBounds=function(){this.cachedBounds=null},c.prototype.getCachedBounds=function(){if(null!=this.cachedBounds)return this.cachedBounds;var t=new h.awt.geom.Rectangle2D.Double;if(0<this.curves.size()){var e=this.curves.get(0);t.setRect(e.getX0(),e.getY0(),0,0);for(var n=1;n<this.curves.size();n++)this.curves.get(n).enlarge(t)}return this.cachedBounds=t},c.prototype.getBounds2D=function(){return this.getCachedBounds().getBounds2D()},c.prototype.getBounds=function(){return this.getCachedBounds().getBounds()},c.prototype.clone=function(){return new c(this)},c.prototype.equals=function(t){return t===this||null!=t&&(new sun.awt.geom.AreaOp.XorOp).calculate(this.curves,t.curves).isEmpty()},c.prototype.transform=function(t){if(null==t)throw new h.lang.NullPointerException("transform must not be null");this.curves=c.pathToCurves(this.getPathIterator(t)),this.invalidateBounds()},c.prototype.createTransformedArea=function(t){var e=new c(this);return e.transform(t),e},c.prototype.contains=function(t,e,n,r,i){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||void 0!==i){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i){if((null!=t&&t instanceof h.awt.geom.Point2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_geom_Point2D(t);if((null!=t&&t instanceof h.awt.geom.Rectangle2D||null===t)&&void 0===e&&void 0===n&&void 0===r&&void 0===i)return this.contains$java_awt_geom_Rectangle2D(t);throw new Error("invalid overload")}return this.contains$double$double(t,e)}return this.contains$double$double$double$double(t,e,n,r)},c.prototype.contains$double$double=function(t,e){if(!this.getCachedBounds().contains(t,e))return!1;for(var n=this.curves.elements(),r=0;n.hasMoreElements();)r+=n.nextElement().crossingsFor(t,e);return 1==(1&r)},c.prototype.contains$java_awt_geom_Point2D=function(t){return this.contains(t.getX(),t.getY())},c.prototype.contains$double$double$double$double=function(t,e,n,r){if(n<0||r<0)return!1;if(!this.getCachedBounds().contains(t,e,n,r))return!1;var i=sun.awt.geom.Crossings.findCrossings(this.curves,t,e,t+n,e+r);return null!=i&&i.covers(e,e+r)},c.prototype.contains$java_awt_geom_Rectangle2D=function(t){return this.contains(t.getX(),t.getY(),t.getWidth(),t.getHeight())},c.prototype.intersects=function(e,n,r,i){var o=this;if("number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||"number"!=typeof i&&null!==i){if((null!=e&&e instanceof h.awt.geom.Rectangle2D||null===e)&&void 0===n&&void 0===r&&void 0===i)return this.intersects$java_awt_geom_Rectangle2D(e);throw new Error("invalid overload")}return function(){if(r<0||i<0)return!1;if(!o.getCachedBounds().intersects(e,n,r,i))return!1;var t=sun.awt.geom.Crossings.findCrossings(o.curves,e,n,e+r,n+i);return null==t||!t.isEmpty()}()},c.prototype.intersects$java_awt_geom_Rectangle2D=function(t){return this.intersects(t.getX(),t.getY(),t.getWidth(),t.getHeight())},c.prototype.getPathIterator$java_awt_geom_AffineTransform=function(t){return new h.awt.geom.AreaIterator(this.curves,t)},c.prototype.getPathIterator=function(t,e){var n=this;if(!(null!=t&&t instanceof h.awt.geom.AffineTransform||null===t)||"number"!=typeof e&&null!==e){if((null!=t&&t instanceof h.awt.geom.AffineTransform||null===t)&&void 0===e)return this.getPathIterator$java_awt_geom_AffineTransform(t);throw new Error("invalid overload")}return new h.awt.geom.FlatteningPathIterator(n.getPathIterator(t),e)},c}();t.Area=e;var n=function(){function t(t,e){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.awt.geom.PathIterator"]}),this.index=0,this.curves=t,this.transform=e,1<=t.size()&&(this.thiscurve=t.get(0))}return t.prototype.getWindingRule=function(){return h.awt.geom.PathIterator.WIND_NON_ZERO},t.prototype.isDone=function(){return null==this.prevcurve&&null==this.thiscurve},t.prototype.next=function(t){if(void 0===t)return this.next$();throw new Error("invalid overload")},t.prototype.next$=function(){null!=this.prevcurve?this.prevcurve=null:(this.prevcurve=this.thiscurve,this.index++,this.index<this.curves.size()?(this.thiscurve=this.curves.get(this.index),0!==this.thiscurve.getOrder()&&this.prevcurve.getX1()===this.thiscurve.getX0()&&this.prevcurve.getY1()===this.thiscurve.getY0()&&(this.prevcurve=null)):this.thiscurve=null)},t.prototype.currentSegment=function(i){var o=this;if(null!=i&&i instanceof Array||null===i)return function(){for(var t=new Array(6),e=o.currentSegment(t),n=e===h.awt.geom.PathIterator.SEG_CLOSE?0:e===h.awt.geom.PathIterator.SEG_QUADTO?2:e===h.awt.geom.PathIterator.SEG_CUBICTO?3:1,r=0;r<2*n;r++)i[r]=t[r];return e}();if(null!=i&&i instanceof Array||null===i)return this.currentSegment$double_A(i);throw new Error("invalid overload")},t.prototype.currentSegment$double_A=function(t){var e,n;if(null!=this.prevcurve){if(null==this.thiscurve||0===this.thiscurve.getOrder())return h.awt.geom.PathIterator.SEG_CLOSE;t[0]=this.thiscurve.getX0(),t[1]=this.thiscurve.getY0(),e=h.awt.geom.PathIterator.SEG_LINETO,n=1}else{if(null==this.thiscurve)throw new h.util.NoSuchElementException("area iterator out of bounds");e=this.thiscurve.getSegment(t),0===(n=this.thiscurve.getOrder())&&(n=1)}return null!=this.transform&&this.transform.transform(t,0,t,0,n),e},t}();t.AreaIterator=n})((t=h.awt||(h.awt={})).geom||(t.geom={}))}(java||(java={})),function(n){var t,e;t=n.util||(n.util={}),e=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.RandomAccess","java.util.List","java.lang.Cloneable","java.util.Collection","java.lang.Iterable","java.io.Serializable"]})}return __extends(e,t),e.prototype.clone=function(){var t=new e;return t.addAll(this),t},e.prototype.empty=function(){return this.isEmpty()},e.prototype.peek=function(){var t=this.size();if(0<t)return this.get(t-1);throw new n.util.EmptyStackException},e.prototype.pop=function(){var t=this.size();if(0<t)return this.remove(t-1);throw new n.util.EmptyStackException},e.prototype.push=function(t){return this.add(t),t},e.prototype.search=function(t){var e=this.lastIndexOf(t);return 0<=e?this.size()-e:-1},e}(n.util.Vector),t.Stack=e}(java||(java={})),function(r){var e,t;e=r.util||(r.util={}),t=function(i){function t(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map")||null===t)&&void 0===e){var r=t;i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map"]}),n.reset(),n.putAll(r)}else if("number"!=typeof t&&null!==t||void 0!==e){if(void 0!==t||void 0!==e)throw new Error("invalid overload");i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map"]}),n.reset()}else{e=0;i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map"]}),javaemul.internal.InternalPreconditions.checkArgument(0<=t,"Negative initial capacity"),javaemul.internal.InternalPreconditions.checkArgument(0<=e,"Non-positive load factor"),n.reset()}else i.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map"]}),javaemul.internal.InternalPreconditions.checkArgument(0<=t,"Negative initial capacity"),javaemul.internal.InternalPreconditions.checkArgument(0<=e,"Non-positive load factor"),n.reset()}return __extends(t,i),t.prototype.clear=function(){this.reset()},t.prototype.reset=function(){this.hashCodeMap=new r.util.InternalHashCodeMap(this),this.stringMap=new r.util.InternalStringMap(this),r.util.ConcurrentModificationDetector.structureChanged(this)},t.prototype.containsKey=function(t){return"string"==typeof t?this.hasStringValue(javaemul.internal.JsUtils.unsafeCastToString(t)):this.hasHashValue(t)},t.prototype.containsValue=function(t){return this._containsValue(t,this.stringMap)||this._containsValue(t,this.hashCodeMap)},t.prototype._containsValue=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._equals(t,r.getValue()))return!0}return!1},t.prototype.entrySet=function(){return new t.EntrySet(this)},t.prototype.get=function(t){return"string"==typeof t?this.getStringValue(javaemul.internal.JsUtils.unsafeCastToString(t)):this.getHashValue(t)},t.prototype.put=function(t,e){return"string"==typeof t?this.putStringValue(javaemul.internal.JsUtils.unsafeCastToString(t),e):this.putHashValue(t,e)},t.prototype.remove=function(t){return"string"==typeof t?this.removeStringValue(javaemul.internal.JsUtils.unsafeCastToString(t)):this.removeHashValue(t)},t.prototype.size=function(){return this.hashCodeMap.size()+this.stringMap.getSize()},t.prototype.getHashValue=function(t){return e.AbstractMap.getEntryValueOrNull(this.hashCodeMap.getEntry(t))},t.prototype.getStringValue=function(t){return null==t?this.getHashValue(null):this.stringMap.get(t)},t.prototype.hasHashValue=function(t){return null!=this.hashCodeMap.getEntry(t)},t.prototype.hasStringValue=function(t){return null==t?this.hasHashValue(null):this.stringMap.contains(t)},t.prototype.putHashValue=function(t,e){return this.hashCodeMap.put(t,e)},t.prototype.putStringValue=function(t,e){return null==t?this.putHashValue(null,e):this.stringMap.put(t,e)},t.prototype.removeHashValue=function(t){return this.hashCodeMap.remove(t)},t.prototype.removeStringValue=function(t){return null==t?this.removeHashValue(null):this.stringMap.remove(t)},t}(r.util.AbstractMap),e.AbstractHashMap=t,function(n){var t=function(e){function t(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Set","java.lang.Iterable"]}),this.__parent=t}return __extends(t,e),t.prototype.clear=function(){this.__parent.clear()},t.prototype.contains=function(t){return null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map.Entry")&&this.__parent.containsEntry(t)},t.prototype.iterator=function(){return new n.EntrySetIterator(this.__parent)},t.prototype.remove=function(t){if(null!=t||null===t)return this.remove$java_lang_Object(t);throw new Error("invalid overload")},t.prototype.remove$java_lang_Object=function(t){if(this.contains(t)){var e=t.getKey();return this.__parent.remove(e),!0}return!1},t.prototype.size=function(){return this.__parent.size()},t}(r.util.AbstractSet);n.EntrySet=t;var e=function(){function t(t){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.__parent=t,this.__hasNext=!1,this.stringMapEntries=this.__parent.stringMap.iterator(),this.current=this.stringMapEntries,this.__hasNext=this.computeHasNext(),r.util.ConcurrentModificationDetector.recordLastKnownStructure(this.__parent,this)}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){return this.__hasNext},t.prototype.computeHasNext=function(){return!!this.current.hasNext()||this.current===this.stringMapEntries&&(this.current=this.__parent.hashCodeMap.iterator(),this.current.hasNext())},t.prototype.next=function(){r.util.ConcurrentModificationDetector.checkStructuralChange(this.__parent,this),javaemul.internal.InternalPreconditions.checkElement(this.hasNext()),this.last=this.current;var t=this.current.next();return this.__hasNext=this.computeHasNext(),t},t.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(null!=this.last),r.util.ConcurrentModificationDetector.checkStructuralChange(this.__parent,this),this.last.remove(),this.last=null,this.__hasNext=this.computeHasNext(),r.util.ConcurrentModificationDetector.recordLastKnownStructure(this.__parent,this)},t}();n.EntrySetIterator=e}(t=e.AbstractHashMap||(e.AbstractHashMap={}))}(java||(java={})),function(a){var s,t;s=a.util||(a.util={}),t=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map","java.util.NavigableMap","java.util.SortedMap"]})}return __extends(e,t),e.copyOf=function(t){return null==t?null:new s.AbstractMap.SimpleImmutableEntry(t)},e.getKeyOrNSE=function(t){if(null==t)throw new a.util.NoSuchElementException;return t.getKey()},e.prototype.ceilingEntry=function(t){return e.copyOf(this.getCeilingEntry(t))},e.prototype.ceilingKey=function(t){return s.AbstractMap.getEntryKeyOrNull(this.getCeilingEntry(t))},e.prototype.containsKey=function(t){var e=t;return null!=this.getEntry(e)},e.prototype.descendingKeySet=function(){return this.descendingMap().navigableKeySet()},e.prototype.descendingMap=function(){return new e.DescendingMap(this)},e.prototype.entrySet=function(){return new e.EntrySet(this)},e.prototype.firstEntry=function(){return e.copyOf(this.getFirstEntry())},e.prototype.firstKey=function(){return e.getKeyOrNSE(this.getFirstEntry())},e.prototype.floorEntry=function(t){return e.copyOf(this.getFloorEntry(t))},e.prototype.floorKey=function(t){return s.AbstractMap.getEntryKeyOrNull(this.getFloorEntry(t))},e.prototype.get=function(t){var e=t;return s.AbstractMap.getEntryValueOrNull(this.getEntry(e))},e.prototype.headMap=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.headMap$java_lang_Object(t)},e.prototype.headMap$java_lang_Object=function(t){return this.headMap(t,!1)},e.prototype.higherEntry=function(t){return e.copyOf(this.getHigherEntry(t))},e.prototype.higherKey=function(t){return s.AbstractMap.getEntryKeyOrNull(this.getHigherEntry(t))},e.prototype.keySet=function(){return this.navigableKeySet()},e.prototype.lastEntry=function(){return e.copyOf(this.getLastEntry())},e.prototype.lastKey=function(){return e.getKeyOrNSE(this.getLastEntry())},e.prototype.lowerEntry=function(t){return e.copyOf(this.getLowerEntry(t))},e.prototype.lowerKey=function(t){return s.AbstractMap.getEntryKeyOrNull(this.getLowerEntry(t))},e.prototype.navigableKeySet=function(){return new e.NavigableKeySet(this)},e.prototype.pollFirstEntry=function(){return this.pollEntry(this.getFirstEntry())},e.prototype.pollLastEntry=function(){return this.pollEntry(this.getLastEntry())},e.prototype.subMap=function(t,e,n,r){if(null==t&&null!==t||null==e&&null!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.subMap$java_lang_Object$java_lang_Object(t,e)},e.prototype.subMap$java_lang_Object$java_lang_Object=function(t,e){return this.subMap(t,!0,e,!1)},e.prototype.tailMap=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.tailMap$java_lang_Object(t)},e.prototype.tailMap$java_lang_Object=function(t){return this.tailMap(t,!0)},e.prototype.containsEntry=function(t){var e=t.getKey(),n=this.getEntry(e);return null!=n&&a.util.Objects.equals(n.getValue(),t.getValue())},e.prototype.pollEntry=function(t){return null!=t&&this.removeEntry(t),e.copyOf(t)},e}(a.util.AbstractMap),s.AbstractNavigableMap=t,function(t){var e=function(e){function t(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map","java.util.NavigableMap","java.util.SortedMap"]}),this.__parent=t}return __extends(t,e),t.prototype.clear=function(){this.ascendingMap().clear()},t.prototype.comparator=function(){return a.util.Collections.reverseOrder(this.ascendingMap().comparator())},t.prototype.descendingMap=function(){return this.ascendingMap()},t.prototype.headMap=function(t,e){var n=this;if(null==t&&null!==t||"boolean"!=typeof e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.headMap$java_lang_Object(t)}return n.ascendingMap().tailMap(t,e).descendingMap()},t.prototype.put=function(t,e){return this.ascendingMap().put(t,e)},t.prototype.remove=function(t){return this.ascendingMap().remove(t)},t.prototype.size=function(){return this.ascendingMap().size()},t.prototype.subMap=function(t,e,n,r){var i=this;if(null==t&&null!==t||"boolean"!=typeof e&&null!==e||null==n&&null!==n||"boolean"!=typeof r&&null!==r){if(null==t&&null!==t||null==e&&null!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.subMap$java_lang_Object$java_lang_Object(t,e)}return i.ascendingMap().subMap(n,r,t,e).descendingMap()},t.prototype.tailMap=function(t,e){var n=this;if(null==t&&null!==t||"boolean"!=typeof e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.tailMap$java_lang_Object(t)}return n.ascendingMap().headMap(t,e).descendingMap()},t.prototype.ascendingMap=function(){return this.__parent},t.prototype.descendingEntryIterator=function(){return this.ascendingMap().entryIterator()},t.prototype.entryIterator=function(){return this.ascendingMap().descendingEntryIterator()},t.prototype.getEntry=function(t){return this.ascendingMap().getEntry(t)},t.prototype.getFirstEntry=function(){return this.ascendingMap().getLastEntry()},t.prototype.getLastEntry=function(){return this.ascendingMap().getFirstEntry()},t.prototype.getCeilingEntry=function(t){return this.ascendingMap().getFloorEntry(t)},t.prototype.getFloorEntry=function(t){return this.ascendingMap().getCeilingEntry(t)},t.prototype.getHigherEntry=function(t){return this.ascendingMap().getLowerEntry(t)},t.prototype.getLowerEntry=function(t){return this.ascendingMap().getHigherEntry(t)},t.prototype.removeEntry=function(t){return this.ascendingMap().removeEntry(t)},t}(a.util.AbstractNavigableMap);t.DescendingMap=e;var n=function(e){function t(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Set","java.lang.Iterable"]}),this.__parent=t}return __extends(t,e),t.prototype.contains=function(t){return null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map.Entry")&&this.__parent.containsEntry(t)},t.prototype.iterator=function(){return this.__parent.entryIterator()},t.prototype.remove=function(t){if(null!=t||null===t)return this.remove$java_lang_Object(t);throw new Error("invalid overload")},t.prototype.remove$java_lang_Object=function(t){if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map.Entry")){var e=t;return this.__parent.removeEntry(e)}return!1},t.prototype.size=function(){return this.__parent.size()},t}(a.util.AbstractSet);t.EntrySet=n;var r,i,o=function(e){function n(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.SortedSet","java.util.Collection","java.util.Set","java.util.NavigableSet","java.lang.Iterable"]}),this.map=t}return __extends(n,e),n.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();)t(e.next())},n.prototype.ceiling=function(t){return this.map.ceilingKey(t)},n.prototype.clear=function(){this.map.clear()},n.prototype.comparator=function(){return this.map.comparator()},n.prototype.contains=function(t){return this.map.containsKey(t)},n.prototype.descendingIterator=function(){return this.descendingSet().iterator()},n.prototype.descendingSet=function(){return this.map.descendingMap().navigableKeySet()},n.prototype.first=function(){return this.map.firstKey()},n.prototype.floor=function(t){return this.map.floorKey(t)},n.prototype.headSet$java_lang_Object=function(t){return this.headSet(t,!1)},n.prototype.headSet=function(t,e){var n=this;if(null==t&&null!==t||"boolean"!=typeof e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.headSet$java_lang_Object(t)}return n.map.headMap(t,e).navigableKeySet()},n.prototype.higher=function(t){return this.map.higherKey(t)},n.prototype.iterator=function(){var t=this.map.entrySet().iterator();return new n.NavigableKeySet$0(this,t)},n.prototype.last=function(){return this.map.lastKey()},n.prototype.lower=function(t){return this.map.lowerKey(t)},n.prototype.pollFirst=function(){return s.AbstractMap.getEntryKeyOrNull(this.map.pollFirstEntry())},n.prototype.pollLast=function(){return s.AbstractMap.getEntryKeyOrNull(this.map.pollLastEntry())},n.prototype.remove=function(t){if(null!=t||null===t)return this.remove$java_lang_Object(t);throw new Error("invalid overload")},n.prototype.remove$java_lang_Object=function(t){return!!this.map.containsKey(t)&&(this.map.remove(t),!0)},n.prototype.size=function(){return this.map.size()},n.prototype.subSet=function(t,e,n,r){var i=this;if(null==t&&null!==t||"boolean"!=typeof e&&null!==e||null==n&&null!==n||"boolean"!=typeof r&&null!==r){if(null==t&&null!==t||null==e&&null!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.subSet$java_lang_Object$java_lang_Object(t,e)}return i.map.subMap(t,e,n,r).navigableKeySet()},n.prototype.subSet$java_lang_Object$java_lang_Object=function(t,e){return this.subSet(t,!0,e,!1)},n.prototype.tailSet$java_lang_Object=function(t){return this.tailSet(t,!0)},n.prototype.tailSet=function(t,e){var n=this;if(null==t&&null!==t||"boolean"!=typeof e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.tailSet$java_lang_Object(t)}return n.map.tailMap(t,e).navigableKeySet()},n}(a.util.AbstractSet);t.NavigableKeySet=o,r=o=t.NavigableKeySet||(t.NavigableKeySet={}),i=function(){function t(t,e){this.entryIterator=e,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.__parent=t}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){return this.entryIterator.hasNext()},t.prototype.next=function(){return this.entryIterator.next().getKey()},t.prototype.remove=function(){this.entryIterator.remove()},t}(),r.NavigableKeySet$0=i}(t=s.AbstractNavigableMap||(s.AbstractNavigableMap={}))}(java||(java={})),function(x){var t,e;t=x.util||(x.util={}),e=function(){function f(){}return f.EMPTY_LIST_$LI$=function(){return null==f.EMPTY_LIST&&(f.EMPTY_LIST=new f.EmptyList),f.EMPTY_LIST},f.EMPTY_MAP_$LI$=function(){return null==f.EMPTY_MAP&&(f.EMPTY_MAP=new f.EmptyMap),f.EMPTY_MAP},f.EMPTY_SET_$LI$=function(){return null==f.EMPTY_SET&&(f.EMPTY_SET=new f.EmptySet),f.EMPTY_SET},f.addAll=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=!1,i=0;i<e.length;i++){var o=e[i];r=r||t.add(o)}return r},f.asLifoQueue=function(t){return new f.LifoQueue(t)},f.binarySearch=function(t,e,n){void 0===n&&(n=null),null==n&&(n=x.util.Comparators.natural());for(var r=0,i=t.size()-1;r<=i;){var o=r+(i-r>>1),a=t.get(o),s=n.compare(a,e);if(s<0)r=o+1;else{if(!(0<s))return o;i=o-1}}return-r-1},f.copy=function(t,e){if(e.size()>t.size())throw new x.lang.IndexOutOfBoundsException("src does not fit in dest");for(var n=t.listIterator(),r=e.iterator();r.hasNext();){var i=r.next();n.next(),n.set(i)}},f.disjoint=function(t,e){var n=t,r=e;null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Set")&&!(null!=e&&null!=e.__interfaces&&0<=e.__interfaces.indexOf("java.util.Set"))&&(n=e,r=t);for(var i=n.iterator();i.hasNext();){var o=i.next();if(r.contains(o))return!1}return!0},f.emptyIterator=function(){return f.EmptyListIterator.INSTANCE_$LI$()},f.emptyList=function(){return f.EMPTY_LIST_$LI$()},f.emptyListIterator=function(){return f.EmptyListIterator.INSTANCE_$LI$()},f.emptyMap=function(){return f.EMPTY_MAP_$LI$()},f.emptySet=function(){return f.EMPTY_SET_$LI$()},f.enumeration=function(t){var e=t.iterator();return new f.Collections$0(e)},f.fill=function(t,e){for(var n=t.listIterator();n.hasNext();)n.next(),n.set(e)},f.frequency=function(t,e){for(var n=0,r=t.iterator();r.hasNext();){var i=r.next();x.util.Objects.equals(e,i)&&++n}return n},f.list=function(t){for(var e=new x.util.ArrayList;t.hasMoreElements();)e.add(t.nextElement());return e},f.max=function(t,e){void 0===e&&(e=null),null==e&&(e=x.util.Comparators.natural());for(var n=t.iterator(),r=n.next();n.hasNext();){var i=n.next();0<e.compare(i,r)&&(r=i)}return r},f.min=function(t,e){return void 0===e&&(e=null),f.max(t,f.reverseOrder(e))},f.newSetFromMap=function(t){return javaemul.internal.InternalPreconditions.checkArgument(t.isEmpty(),"map is not empty"),new f.SetFromMap(t)},f.nCopies=function(t,e){for(var n=new x.util.ArrayList,r=0;r<t;++r)n.add(e);return f.unmodifiableList(n)},f.replaceAll=function(t,e,n){for(var r=!1,i=t.listIterator();i.hasNext();){var o=i.next();x.util.Objects.equals(o,e)&&(i.set(n),r=!0)}return r},f.reverse=function(t){if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.RandomAccess"))for(var e=0,n=t.size()-1;e<n;++e,--n)f.swap(t,e,n);else for(var r=t.listIterator(),i=t.listIterator(t.size());r.nextIndex()<i.previousIndex();){var o=r.next(),a=i.previous();r.set(a),i.set(o)}},f.reverseOrder$=function(){return f.ReverseComparator.INSTANCE_$LI$()},f.reverseOrder=function(t){if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Comparator")||null===t)return null==t?f.reverseOrder():new f.Collections$1(t);if(void 0===t)return x.util.Collections.reverseOrder$();throw new Error("invalid overload")},f.rotate=function(t,e){javaemul.internal.InternalPreconditions.checkNotNull(t);var n=t.size();if(0!==n){var r=e%n;if(0!==r)if(r<0&&(r+=n),null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.RandomAccess"))for(var i=t,o=i.get(0),a=0,s=0,l=0;l<n;l++)a=(a+r)%n,o=i.set(a,o),a===s&&(a=++s,o=i.get(s));else{var u=n-r,c=t.subList(0,u),h=t.subList(u,n);f.reverse(c),f.reverse(h),f.reverse(t)}}},f.shuffle=function(t,e){if(void 0===e&&(e=f.RandomHolder.rnd_$LI$()),null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.RandomAccess"))for(var n=t.size()-1;1<=n;n--)f.swapImpl(t,n,e.nextInt(n+1));else{var r=t.toArray();for(n=r.length-1;1<=n;n--)f.swapImpl(r,n,e.nextInt(n+1));for(var i=t.listIterator(),o=0;o<r.length;o++){var a=r[o];i.next(),i.set(a)}}},f.singleton=function(t){var e=new x.util.HashSet(1);return e.add(t),f.unmodifiableSet(e)},f.singletonList=function(t){return new f.SingletonList(t)},f.singletonMap=function(t,e){var n=new x.util.HashMap(1);return n.put(t,e),f.unmodifiableMap(n)},f.sort=function(t,e){void 0===e&&(e=null);var n=t.toArray();x.util.Arrays.sort(n,e),f.replaceContents(t,n)},f.swap=function(t,e,n){f.swapImpl(t,e,n)},f.unmodifiableCollection=function(t){return new f.UnmodifiableCollection(t)},f.unmodifiableList=function(t){return null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.RandomAccess")?new f.UnmodifiableRandomAccessList(t):new f.UnmodifiableList(t)},f.unmodifiableMap=function(t){return new f.UnmodifiableMap(t)},f.unmodifiableSet=function(t){return new f.UnmodifiableSet(t)},f.unmodifiableSortedMap=function(t){return new f.UnmodifiableSortedMap(t)},f.unmodifiableSortedSet=function(t){return new f.UnmodifiableSortedSet(t)},f.hashCode$java_lang_Iterable=function(t){for(var e=0,n=t.iterator();n.hasNext();){var r=n.next();e+=x.util.Objects.hashCode(r),e=javaemul.internal.Coercions.ensureInt(e)}return e},f.hashCode=function(r){if(null!=r&&null!=r.__interfaces&&0<=r.__interfaces.indexOf("java.util.List")||null===r)return function(){for(var t=1,e=r.iterator();e.hasNext();){var n=e.next();t=31*t+x.util.Objects.hashCode(n),t=javaemul.internal.Coercions.ensureInt(t)}return t}();if(null!=r&&null!=r.__interfaces&&0<=r.__interfaces.indexOf("java.lang.Iterable")||null===r)return x.util.Collections.hashCode$java_lang_Iterable(r);throw new Error("invalid overload")},f.replaceContents=function(t,e){for(var n=t.size(),r=0;r<n;r++)t.set(r,e[r])},f.swapImpl=function(t,e,n){if(!(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.List")||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n){if(!(null!=t&&t instanceof Array||null===t)||"number"!=typeof e&&null!==e||"number"!=typeof n&&null!==n)throw new Error("invalid overload");return x.util.Collections.swapImpl$java_lang_Object_A$int$int(t,e,n)}return r=t.get(e),t.set(e,t.get(n)),void t.set(n,r);var r},f.swapImpl$java_lang_Object_A$int$int=function(t,e,n){var r=t[e];t[e]=t[n],t[n]=r},f}(),t.Collections=e,function(n){var t=function(e){function t(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Queue","java.lang.Iterable","java.io.Serializable"]}),this.deque=t}return __extends(t,e),t.prototype.iterator=function(){return this.deque.iterator()},t.prototype.offer=function(t){return this.deque.offerFirst(t)},t.prototype.peek=function(){return this.deque.peekFirst()},t.prototype.poll=function(){return this.deque.pollFirst()},t.prototype.size=function(){return this.deque.size()},t}(x.util.AbstractQueue);n.LifoQueue=t;var e=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.RandomAccess","java.util.List","java.util.Collection","java.lang.Iterable","java.io.Serializable"]})}return __extends(e,t),e.prototype.contains=function(t){return!1},e.prototype.get=function(t){return javaemul.internal.InternalPreconditions.checkElementIndex(t,0),null},e.prototype.iterator=function(){return n.emptyIterator()},e.prototype.listIterator$=function(){return n.emptyListIterator()},e.prototype.size=function(){return 0},e}(x.util.AbstractList);n.EmptyList=e;var r=function(){function t(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator","java.util.ListIterator"]})}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.INSTANCE_$LI$=function(){return null==t.INSTANCE&&(t.INSTANCE=new n.EmptyListIterator),t.INSTANCE},t.prototype.add=function(t){throw new x.lang.UnsupportedOperationException},t.prototype.hasNext=function(){return!1},t.prototype.hasPrevious=function(){return!1},t.prototype.next=function(){throw new x.util.NoSuchElementException},t.prototype.nextIndex=function(){return 0},t.prototype.previous=function(){throw new x.util.NoSuchElementException},t.prototype.previousIndex=function(){return-1},t.prototype.remove=function(){throw new x.lang.IllegalStateException},t.prototype.set=function(t){throw new x.lang.IllegalStateException},t}();n.EmptyListIterator=r;var i=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Set","java.lang.Iterable","java.io.Serializable"]})}return __extends(e,t),e.prototype.contains=function(t){return!1},e.prototype.iterator=function(){return n.emptyIterator()},e.prototype.size=function(){return 0},e}(x.util.AbstractSet);n.EmptySet=i;var o=function(t){function e(){t.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map","java.io.Serializable"]})}return __extends(e,t),e.prototype.containsKey=function(t){return!1},e.prototype.containsValue=function(t){return!1},e.prototype.entrySet=function(){return x.util.Collections.EMPTY_SET_$LI$()},e.prototype.get=function(t){return null},e.prototype.keySet=function(){return x.util.Collections.EMPTY_SET_$LI$()},e.prototype.size=function(){return 0},e.prototype.values=function(){return x.util.Collections.EMPTY_LIST_$LI$()},e}(x.util.AbstractMap);n.EmptyMap=o;var a=function(){function t(){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Comparator"]})}return t.INSTANCE_$LI$=function(){return null==t.INSTANCE&&(t.INSTANCE=new n.ReverseComparator),t.INSTANCE},t.prototype.compare=function(t,e){if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.lang.Comparable")||null===t)&&(null!=e&&null!=e.__interfaces&&0<=e.__interfaces.indexOf("java.lang.Comparable")||null===e))return e.compareTo(t);throw new Error("invalid overload")},t}();n.ReverseComparator=a;var s=function(e){function t(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Set","java.lang.Iterable","java.io.Serializable"]}),this.backingMap=t}return __extends(t,e),t.prototype.add=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.add$java_lang_Object(t)},t.prototype.add$java_lang_Object=function(t){return null==this.backingMap.put(t,javaemul.internal.BooleanHelper.TRUE)},t.prototype.clear=function(){this.backingMap.clear()},t.prototype.contains=function(t){return this.backingMap.containsKey(t)},t.prototype.equals=function(t){return t===this||this.keySet().equals(t)},t.prototype.hashCode=function(){return this.keySet().hashCode()},t.prototype.iterator=function(){return this.keySet().iterator()},t.prototype.remove=function(t){if(null!=t||null===t)return this.remove$java_lang_Object(t);throw new Error("invalid overload")},t.prototype.remove$java_lang_Object=function(t){return null!=this.backingMap.remove(t)},t.prototype.size=function(){return this.keySet().size()},t.prototype.toString=function(){return this.keySet().toString()},t.prototype.keySet=function(){return null==this.__keySet&&(this.__keySet=this.backingMap.keySet()),this.__keySet},t}(x.util.AbstractSet);n.SetFromMap=s;var l=function(e){function t(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.List","java.util.Collection","java.lang.Iterable","java.io.Serializable"]}),this.element=t}return __extends(t,e),t.prototype.contains=function(t){return x.util.Objects.equals(this.element,t)},t.prototype.get=function(t){return javaemul.internal.InternalPreconditions.checkElementIndex(t,1),this.element},t.prototype.size=function(){return 1},t}(x.util.AbstractList);n.SingletonList=l;var u=function(){function t(t){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.lang.Iterable"]}),this.coll=t}return t.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();)t(e.next())},t.prototype.add=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.add$java_lang_Object(t)},t.prototype.add$java_lang_Object=function(t){throw new x.lang.UnsupportedOperationException},t.prototype.addAll=function(t,e){if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Collection")||null===t)&&void 0===e)return this.addAll$java_util_Collection(t);throw new Error("invalid overload")},t.prototype.addAll$java_util_Collection=function(t){throw new x.lang.UnsupportedOperationException},t.prototype.clear=function(){throw new x.lang.UnsupportedOperationException},t.prototype.contains=function(t){return this.coll.contains(t)},t.prototype.containsAll=function(t){return this.coll.containsAll(t)},t.prototype.isEmpty=function(){return this.coll.isEmpty()},t.prototype.iterator=function(){return new n.UnmodifiableCollectionIterator(this.coll.iterator())},t.prototype.remove=function(t){if(null!=t||null===t)return this.remove$java_lang_Object(t);throw new Error("invalid overload")},t.prototype.remove$java_lang_Object=function(t){throw new x.lang.UnsupportedOperationException},t.prototype.removeAll=function(t){throw new x.lang.UnsupportedOperationException},t.prototype.retainAll=function(t){throw new x.lang.UnsupportedOperationException},t.prototype.size=function(){return this.coll.size()},t.prototype.toArray$=function(){return this.coll.toArray()},t.prototype.toArray=function(t){if(null!=t&&t instanceof Array||null===t)return this.coll.toArray(t);if(void 0===t)return this.toArray$();throw new Error("invalid overload")},t.prototype.toString=function(){return this.coll.toString()},t}();n.UnmodifiableCollection=u;var c=function(e){function t(t){e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.List","java.util.Collection","java.lang.Iterable"]}),this.list=t}return __extends(t,e),t.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();)t(e.next())},t.prototype.add=function(t,e){if("number"!=typeof t&&null!==t||null==e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.add$java_lang_Object(t)}return function(){throw new x.lang.UnsupportedOperationException}()},t.prototype.addAll=function(t,e){if("number"!=typeof t&&null!==t||!(null!=e&&null!=e.__interfaces&&0<=e.__interfaces.indexOf("java.util.Collection")||null===e)){if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Collection")||null===t)&&void 0===e)return this.addAll$java_util_Collection(t);throw new Error("invalid overload")}return function(){throw new x.lang.UnsupportedOperationException}()},t.prototype.equals=function(t){return this.list.equals(t)},t.prototype.get=function(t){return this.list.get(t)},t.prototype.hashCode=function(){return this.list.hashCode()},t.prototype.indexOf=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.indexOf$java_lang_Object(t)},t.prototype.indexOf$java_lang_Object=function(t){return this.list.indexOf(t)},t.prototype.isEmpty=function(){return this.list.isEmpty()},t.prototype.lastIndexOf=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.lastIndexOf$java_lang_Object(t)},t.prototype.lastIndexOf$java_lang_Object=function(t){return this.list.lastIndexOf(t)},t.prototype.listIterator$=function(){return this.listIterator(0)},t.prototype.listIterator=function(t){var e=this;if("number"==typeof t||null===t)return new n.UnmodifiableListIterator(e.list.listIterator(t));if(void 0===t)return this.listIterator$();throw new Error("invalid overload")},t.prototype.remove=function(t){if("number"==typeof t||null===t)return function(){throw new x.lang.UnsupportedOperationException}();if(null!=t||null===t)return this.remove$java_lang_Object(t);throw new Error("invalid overload")},t.prototype.set=function(t,e){throw new x.lang.UnsupportedOperationException},t.prototype.subList=function(t,e){return new n.UnmodifiableList(this.list.subList(t,e))},t}(n.UnmodifiableCollection);n.UnmodifiableList=c;var h=function(e){function t(t){e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.RandomAccess","java.util.List","java.util.Collection","java.lang.Iterable"]})}return __extends(t,e),t}(n.UnmodifiableList);n.UnmodifiableRandomAccessList=h;var f=function(e){function t(t){e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Set","java.lang.Iterable"]})}return __extends(t,e),t.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();)t(e.next())},t.prototype.equals=function(t){return this.coll.equals(t)},t.prototype.hashCode=function(){return this.coll.hashCode()},t}(n.UnmodifiableCollection);n.UnmodifiableSet=f;var p,d,v=function(){function t(t){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map"]}),this.map=t}return t.prototype.clear=function(){throw new x.lang.UnsupportedOperationException},t.prototype.containsKey=function(t){return this.map.containsKey(t)},t.prototype.containsValue=function(t){return this.map.containsValue(t)},t.prototype.entrySet=function(){return null==this.__entrySet&&(this.__entrySet=new t.UnmodifiableEntrySet(this.map.entrySet())),this.__entrySet},t.prototype.equals=function(t){return this.map.equals(t)},t.prototype.get=function(t){return this.map.get(t)},t.prototype.hashCode=function(){return this.map.hashCode()},t.prototype.isEmpty=function(){return this.map.isEmpty()},t.prototype.keySet=function(){return null==this.__keySet&&(this.__keySet=new n.UnmodifiableSet(this.map.keySet())),this.__keySet},t.prototype.put=function(t,e){throw new x.lang.UnsupportedOperationException},t.prototype.putAll=function(t){throw new x.lang.UnsupportedOperationException},t.prototype.remove=function(t){throw new x.lang.UnsupportedOperationException},t.prototype.size=function(){return this.map.size()},t.prototype.toString=function(){return this.map.toString()},t.prototype.values=function(){return null==this.__values&&(this.__values=new n.UnmodifiableCollection(this.map.values())),this.__values},t}();n.UnmodifiableMap=v,p=v=n.UnmodifiableMap||(n.UnmodifiableMap={}),d=function(r){function i(t){r.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Set","java.lang.Iterable"]})}return __extends(i,r),i.prototype.contains=function(t){return this.coll.contains(t)},i.prototype.containsAll=function(t){return this.coll.containsAll(t)},i.prototype.iterator=function(){var t=this.coll.iterator();return new i.UnmodifiableEntrySet$0(this,t)},i.prototype.toArray$=function(){var t=r.prototype.toArray.call(this);return this.wrap(t,t.length),t},i.prototype.toArray=function(t){var e,n=this;if(null!=t&&t instanceof Array||null===t)return e=r.prototype.toArray.call(n,t),n.wrap(e,n.coll.size()),e;if(void 0===t)return this.toArray$();throw new Error("invalid overload")},i.prototype.wrap=function(t,e){for(var n=0;n<e;++n)t[n]=new i.UnmodifiableEntry(t[n])},i}(n.UnmodifiableSet),p.UnmodifiableEntrySet=d,function(e){var t=function(){function t(t){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map.Entry"]}),this.entry=t}return t.prototype.equals=function(t){return this.entry.equals(t)},t.prototype.getKey=function(){return this.entry.getKey()},t.prototype.getValue=function(){return this.entry.getValue()},t.prototype.hashCode=function(){return this.entry.hashCode()},t.prototype.setValue=function(t){throw new x.lang.UnsupportedOperationException},t.prototype.toString=function(){return this.entry.toString()},t}();e.UnmodifiableEntry=t;var n=function(){function t(t,e){this.it=e,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.__parent=t}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){return this.it.hasNext()},t.prototype.next=function(){return new e.UnmodifiableEntry(this.it.next())},t.prototype.remove=function(){throw new x.lang.UnsupportedOperationException},t}();e.UnmodifiableEntrySet$0=n}(d=p.UnmodifiableEntrySet||(p.UnmodifiableEntrySet={}));var m=function(e){function t(t){e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map","java.util.SortedMap"]}),this.sortedMap=t}return __extends(t,e),t.prototype.comparator=function(){return this.sortedMap.comparator()},t.prototype.equals=function(t){return this.sortedMap.equals(t)},t.prototype.firstKey=function(){return this.sortedMap.firstKey()},t.prototype.hashCode=function(){return this.sortedMap.hashCode()},t.prototype.headMap=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.headMap$java_lang_Object(t)},t.prototype.headMap$java_lang_Object=function(t){return new n.UnmodifiableSortedMap(this.sortedMap.headMap(t))},t.prototype.lastKey=function(){return this.sortedMap.lastKey()},t.prototype.subMap=function(t,e,n,r){if(null==t&&null!==t||null==e&&null!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.subMap$java_lang_Object$java_lang_Object(t,e)},t.prototype.subMap$java_lang_Object$java_lang_Object=function(t,e){return new n.UnmodifiableSortedMap(this.sortedMap.subMap(t,e))},t.prototype.tailMap=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.tailMap$java_lang_Object(t)},t.prototype.tailMap$java_lang_Object=function(t){return new n.UnmodifiableSortedMap(this.sortedMap.tailMap(t))},t}(n.UnmodifiableMap);n.UnmodifiableSortedMap=m;var g=function(e){function t(t){e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.SortedSet","java.util.Collection","java.util.Set","java.lang.Iterable"]}),this.sortedSet=t}return __extends(t,e),t.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();)t(e.next())},t.prototype.comparator=function(){return this.sortedSet.comparator()},t.prototype.equals=function(t){return this.sortedSet.equals(t)},t.prototype.first=function(){return this.sortedSet.first()},t.prototype.hashCode=function(){return this.sortedSet.hashCode()},t.prototype.headSet=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.headSet$java_lang_Object(t)},t.prototype.headSet$java_lang_Object=function(t){return new n.UnmodifiableSortedSet(this.sortedSet.headSet(t))},t.prototype.last=function(){return this.sortedSet.last()},t.prototype.subSet=function(t,e,n,r){if(null==t&&null!==t||null==e&&null!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.subSet$java_lang_Object$java_lang_Object(t,e)},t.prototype.subSet$java_lang_Object$java_lang_Object=function(t,e){return new n.UnmodifiableSortedSet(this.sortedSet.subSet(t,e))},t.prototype.tailSet=function(t,e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.tailSet$java_lang_Object(t)},t.prototype.tailSet$java_lang_Object=function(t){return new n.UnmodifiableSortedSet(this.sortedSet.tailSet(t))},t}(n.UnmodifiableSet);n.UnmodifiableSortedSet=g;var y=function(){function t(t){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.it=t}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){return this.it.hasNext()},t.prototype.next=function(){return this.it.next()},t.prototype.remove=function(){throw new x.lang.UnsupportedOperationException},t}();n.UnmodifiableCollectionIterator=y;var _=function(e){function t(t){e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator","java.util.ListIterator"]}),this.lit=t}return __extends(t,e),t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.add=function(t){throw new x.lang.UnsupportedOperationException},t.prototype.hasPrevious=function(){return this.lit.hasPrevious()},t.prototype.nextIndex=function(){return this.lit.nextIndex()},t.prototype.previous=function(){return this.lit.previous()},t.prototype.previousIndex=function(){return this.lit.previousIndex()},t.prototype.set=function(t){throw new x.lang.UnsupportedOperationException},t}(n.UnmodifiableCollectionIterator);n.UnmodifiableListIterator=_;var b=function(){function t(){}return t.rnd_$LI$=function(){return null==t.rnd&&(t.rnd=new x.util.Random),t.rnd},t}();n.RandomHolder=b;var w=function(){function t(t){this.it=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Enumeration"]})}return t.prototype.hasMoreElements=function(){return this.it.hasNext()},t.prototype.nextElement=function(){return this.it.next()},t}();n.Collections$0=w;var E=function(){function t(t){this.cmp=t,Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Comparator"]})}return t.prototype.compare=function(t,e){return this.cmp.compare(e,t)},t}();n.Collections$1=E}(e=t.Collections||(t.Collections={}))}(java||(java={})),function(i){var t,e;t=i.util||(i.util={}),e=function(r){function t(t){var e=this;if(null!=t&&t instanceof i.lang.Class||null===t)r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map"]}),e.init(t);else if(null!=t&&t instanceof i.util.EnumMap||null===t){var n=t;r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map"]}),e.init(n)}else{if(!(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map")||null===t))throw new Error("invalid overload");n=t;r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map"]}),null!=n&&n instanceof i.util.EnumMap?e.init(n):(javaemul.internal.InternalPreconditions.checkArgument(!n.isEmpty(),"Specified map is empty"),e.init(n.keySet().iterator().next().getDeclaringClass()),e.putAll(n))}}return __extends(t,r),t.prototype.clear=function(){this.__keySet.clear(),this.__values=new Array(this.__values.length)},t.prototype.clone=function(){return new t(this)},t.prototype.containsKey=function(t){return this.__keySet.contains(t)},t.prototype.containsValue=function(t){for(var e=this.__keySet.iterator();e.hasNext();){var n=e.next();if(i.util.Objects.equals(t,this.__values[n.ordinal()]))return!0}return!1},t.prototype.entrySet=function(){return new t.EntrySet(this)},t.prototype.get=function(t){return this.__keySet.contains(t)?this.__values[this.asOrdinal(t)]:null},t.prototype.put=function(t,e){var n=this;if(null==t&&null!==t||null==e&&null!==e){if(null==t&&null!==t||null==e&&null!==e)throw new Error("invalid overload");return this.put$java_lang_Object$java_lang_Object(t,e)}return n.__keySet.add(t),n.set(t.ordinal(),e)},t.prototype.remove=function(t){return this.__keySet.remove(t)?this.set(this.asOrdinal(t),null):null},t.prototype.size=function(){return this.__keySet.size()},t.prototype.asKey=function(t){return t},t.prototype.asOrdinal=function(t){return this.asKey(t).ordinal()},t.prototype.init=function(t){var e=this;if(null!=t&&t instanceof i.lang.Class||null===t)return e.__keySet=i.util.EnumSet.noneOf(t),void(e.__values=new Array(e.__keySet.capacity()));if(null!=t&&t instanceof i.util.EnumMap||null===t)return this.init$java_util_EnumMap(t);throw new Error("invalid overload")},t.prototype.init$java_util_EnumMap=function(t){this.__keySet=t.__keySet.clone(),this.__values=javaemul.internal.ArrayHelper.clone(t.__values,0,t.__values.length)},t.prototype.set=function(t,e){var n=this.__values[t];return this.__values[t]=e,n},t}(i.util.AbstractMap),t.EnumMap=e,function(n){var t=function(e){function t(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Set","java.lang.Iterable"]}),this.__parent=t}return __extends(t,e),t.prototype.clear=function(){this.__parent.clear()},t.prototype.contains=function(t){return null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map.Entry")&&this.__parent.containsEntry(t)},t.prototype.iterator=function(){return new n.EntrySetIterator(this.__parent)},t.prototype.remove=function(t){if(null!=t||null===t)return this.remove$java_lang_Object(t);throw new Error("invalid overload")},t.prototype.remove$java_lang_Object=function(t){if(this.contains(t)){var e=t.getKey();return this.__parent.remove(e),!0}return!1},t.prototype.size=function(){return this.__parent.size()},t}(i.util.AbstractSet);n.EntrySet=t;var e=function(){function t(t){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.__parent=t,this.it=this.__parent.__keySet.iterator()}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){return this.it.hasNext()},t.prototype.next=function(){return this.key=this.it.next(),new n.MapEntry(this.__parent,this.key)},t.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(null!=this.key),this.__parent.remove(this.key),this.key=null},t}();n.EntrySetIterator=e;var r=function(n){function t(t,e){n.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map.Entry"]}),this.__parent=t,this.key=e}return __extends(t,n),t.prototype.getKey=function(){return this.key},t.prototype.getValue=function(){return this.__parent.__values[this.key.ordinal()]},t.prototype.setValue=function(t){return this.__parent.set(this.key.ordinal(),t)},t}(i.util.AbstractMapEntry);n.MapEntry=r}(e=t.EnumMap||(t.EnumMap={}))}(java||(java={})),function(o){var t,e;t=o.util||(o.util={}),e=function(i){function t(t,e){var n=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Collection")||null===t)&&void 0===e){var r=t;i.call(this,new o.util.LinkedHashMap),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Collection","java.util.Set","java.lang.Iterable","java.io.Serializable"]}),n.addAll(r)}else if("number"!=typeof t&&null!==t||void 0!==e){if(void 0!==t||void 0!==e)throw new Error("invalid overload");i.call(this,new o.util.LinkedHashMap),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Collection","java.util.Set","java.lang.Iterable","java.io.Serializable"]})}else i.call(this,new o.util.LinkedHashMap(t)),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Collection","java.util.Set","java.lang.Iterable","java.io.Serializable"]});else i.call(this,new o.util.LinkedHashMap(t,e)),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Collection","java.util.Set","java.lang.Iterable","java.io.Serializable"]})}return __extends(t,i),t.prototype.forEach=function(t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var e=this.iterator();e.hasNext();){t(e.next())}},t.prototype.clone=function(){return new t(this)},t}(o.util.HashSet),t.LinkedHashSet=e}(java||(java={})),function(a){var t,e;t=a.io||(a.io={}),e=function(){function s(t,e,n){var r=this;if(!((this.status=null)!=t&&t instanceof a.io.File||null===t)||"string"!=typeof e&&null!==e||"boolean"!=typeof n&&null!==n)if("string"!=typeof t&&null!==t||"string"!=typeof e&&null!==e||void 0!==n)if(!(null!=t&&t instanceof a.io.File||null===t)||"string"!=typeof e&&null!==e||void 0!==n)if("string"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n){if("string"!=typeof t&&null!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");i=t;Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.prefixLength=0,function(){if(null==i)throw new a.lang.NullPointerException;r.path=s.fs_$LI$().normalize(i),r.prefixLength=s.fs_$LI$().prefixLength(r.path)}()}else{var i=t,o=e;Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.prefixLength=0,r.path=i,r.prefixLength=o}else Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.prefixLength=0,function(){if(null==e)throw new a.lang.NullPointerException;null!=t?""===t.path?r.path=s.fs_$LI$().resolve(s.fs_$LI$().getDefaultParent(),s.fs_$LI$().normalize(e)):r.path=s.fs_$LI$().resolve(t.path,s.fs_$LI$().normalize(e)):r.path=s.fs_$LI$().normalize(e),r.prefixLength=s.fs_$LI$().prefixLength(r.path)}();else Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.prefixLength=0,function(){if(null==e)throw new a.lang.NullPointerException;r.path=null!=t?""===t?s.fs_$LI$().resolve(s.fs_$LI$().getDefaultParent(),s.fs_$LI$().normalize(e)):s.fs_$LI$().resolve(s.fs_$LI$().normalize(t),s.fs_$LI$().normalize(e)):s.fs_$LI$().normalize(e),r.prefixLength=s.fs_$LI$().prefixLength(r.path)}();else Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Comparable","java.io.Serializable"]}),this.prefixLength=0,r.path=s.fs_$LI$().resolve(t.path,e),r.prefixLength=t.prefixLength}return s.fs_$LI$=function(){return null==s.fs&&(s.fs=new a.io.LocalStorageFileSystem),s.fs},s.prototype.isInvalid=function(){return null==this.status&&(this.status=this.path.indexOf("\0")<0?s.PathStatus.CHECKED:s.PathStatus.INVALID),this.status===s.PathStatus.INVALID},s.prototype.getPrefixLength=function(){return this.prefixLength},s.separatorChar_$LI$=function(){return null==s.separatorChar&&(s.separatorChar=s.fs_$LI$().getSeparator()),s.separatorChar},s.separator_$LI$=function(){return null==s.separator&&(s.separator=""+s.separatorChar_$LI$()),s.separator},s.pathSeparatorChar_$LI$=function(){return null==s.pathSeparatorChar&&(s.pathSeparatorChar=s.fs_$LI$().getPathSeparator()),s.pathSeparatorChar},s.pathSeparator_$LI$=function(){return null==s.pathSeparator&&(s.pathSeparator=""+s.pathSeparatorChar_$LI$()),s.pathSeparator},s.prototype.getName=function(){var t=this.path.lastIndexOf(s.separatorChar_$LI$());return t<this.prefixLength?this.path.substring(this.prefixLength):this.path.substring(t+1)},s.prototype.getParent=function(){var t=this.path.lastIndexOf(s.separatorChar_$LI$());return t<this.prefixLength?0<this.prefixLength&&this.path.length>this.prefixLength?this.path.substring(0,this.prefixLength):null:this.path.substring(0,t)},s.prototype.getParentFile=function(){var t=this.getParent();return null==t?null:new s(t,this.prefixLength)},s.prototype.getPath=function(){return this.path},s.prototype.isAbsolute=function(){return s.fs_$LI$().isAbsolute(this)},s.prototype.getAbsolutePath=function(){return s.fs_$LI$().resolve(this)},s.prototype.getAbsoluteFile=function(){var t=this.getAbsolutePath();return new s(t,s.fs_$LI$().prefixLength(t))},s.prototype.getCanonicalPath=function(){if(this.isInvalid())throw new a.io.IOException("Invalid file path");return s.fs_$LI$().canonicalize(s.fs_$LI$().resolve(this))},s.prototype.getCanonicalFile=function(){var t=this.getCanonicalPath();return new s(t,s.fs_$LI$().prefixLength(t))},s.slashify=function(t,e){var n,r,i,o,a=t;return"/"!==s.separatorChar_$LI$()&&(a=a.split(s.separatorChar_$LI$()).join("/")),void 0===n&&(n=0),"/"!==a.substr(n,"/".length)&&(a="/"+a),i=(r=a).length-"/".length,-1!==(o=r.indexOf("/",i))&&o===i||!e||(a+="/"),a},s.prototype.canRead=function(){return!this.isInvalid()&&s.fs_$LI$().checkAccess(this,a.io.FileSystem.ACCESS_READ)},s.prototype.canWrite=function(){return!this.isInvalid()&&s.fs_$LI$().checkAccess(this,a.io.FileSystem.ACCESS_WRITE)},s.prototype.exists=function(){return!this.isInvalid()&&0!=(s.fs_$LI$().getBooleanAttributes(this)&a.io.FileSystem.BA_EXISTS)},s.prototype.isDirectory=function(){return!this.isInvalid()&&0!=(s.fs_$LI$().getBooleanAttributes(this)&a.io.FileSystem.BA_DIRECTORY)},s.prototype.isFile=function(){return!this.isInvalid()&&0!=(s.fs_$LI$().getBooleanAttributes(this)&a.io.FileSystem.BA_REGULAR)},s.prototype.isHidden=function(){return!this.isInvalid()&&0!=(s.fs_$LI$().getBooleanAttributes(this)&a.io.FileSystem.BA_HIDDEN)},s.prototype.lastModified=function(){return this.isInvalid()?0:s.fs_$LI$().getLastModifiedTime(this)},s.prototype.length=function(){return this.isInvalid()?0:s.fs_$LI$().getLength(this)},s.prototype.createNewFile=function(){if(this.isInvalid())throw new a.io.IOException("Invalid file path");return s.fs_$LI$().createFileExclusively(this.path)},s.prototype.delete=function(){return!this.isInvalid()&&s.fs_$LI$().delete(this)},s.prototype.list$=function(){return this.isInvalid()?null:s.fs_$LI$().list(this)},s.prototype.list=function(r){var i=this;if("function"==typeof r&&2==r.length||null===r)return function(){var t=i.list();if(null==t||null==r)return t;for(var e=new a.util.ArrayList,n=0;n<t.length;n++)r(i,t[n])&&e.add(t[n]);return e.toArray(new Array(e.size()))}();if(void 0===r)return this.list$();throw new Error("invalid overload")},s.prototype.listFiles$=function(){var t=this.list();if(null==t)return null;for(var e=t.length,n=new Array(e),r=0;r<e;r++)n[r]=new s(this,t[r],!0);return n},s.prototype.listFiles=function(i){var o=this;if("function"==typeof i&&2==i.length||null===i)return function(){var t=o.list();if(null==t)return null;for(var e=new a.util.ArrayList,n=0;n<t.length;n++){var r=t[n];(null==i||i(o,r))&&e.add(new s(o,r,!0))}return e.toArray(new Array(e.size()))}();if("function"==typeof i&&1==i.length||null===i)return this.listFiles$java_io_FileFilter(i);if(void 0===i)return this.listFiles$();throw new Error("invalid overload")},s.prototype.listFiles$java_io_FileFilter=function(t){var e=this.list();if(null==e)return null;for(var n=new a.util.ArrayList,r=0;r<e.length;r++){var i=new s(this,e[r],!0);(null==t||t(i))&&n.add(i)}return n.toArray(new Array(n.size()))},s.prototype.mkdir=function(){return!this.isInvalid()&&s.fs_$LI$().createDirectory(this)},s.prototype.mkdirs=function(){if(this.exists())return!1;if(this.mkdir())return!0;var t=null;try{t=this.getCanonicalFile()}catch(t){return!1}var e=t.getParentFile();return null!=e&&(e.mkdirs()||e.exists())&&t.mkdir()},s.prototype.renameTo=function(t){if(null==t)throw new a.lang.NullPointerException;return!this.isInvalid()&&!t.isInvalid()&&s.fs_$LI$().rename(this,t)},s.prototype.setLastModified=function(t){if(t<0)throw new a.lang.IllegalArgumentException("Negative time");return!this.isInvalid()&&s.fs_$LI$().setLastModifiedTime(this,t)},s.prototype.setReadOnly=function(){return!this.isInvalid()&&s.fs_$LI$().setReadOnly(this)},s.prototype.setWritable=function(t,e){return void 0===e&&(e=!0),!this.isInvalid()&&s.fs_$LI$().setPermission(this,a.io.FileSystem.ACCESS_WRITE,t,e)},s.prototype.setReadable=function(t,e){return void 0===e&&(e=!0),!this.isInvalid()&&s.fs_$LI$().setPermission(this,a.io.FileSystem.ACCESS_READ,t,e)},s.prototype.setExecutable=function(t,e){return void 0===e&&(e=!0),!this.isInvalid()&&s.fs_$LI$().setPermission(this,a.io.FileSystem.ACCESS_EXECUTE,t,e)},s.prototype.canExecute=function(){return!this.isInvalid()&&s.fs_$LI$().checkAccess(this,a.io.FileSystem.ACCESS_EXECUTE)},s.listRoots=function(){return s.fs_$LI$().listRoots()},s.prototype.getTotalSpace=function(){return this.isInvalid()?0:s.fs_$LI$().getSpace(this,a.io.FileSystem.SPACE_TOTAL)},s.prototype.getFreeSpace=function(){return this.isInvalid()?0:s.fs_$LI$().getSpace(this,a.io.FileSystem.SPACE_FREE)},s.prototype.getUsableSpace=function(){return this.isInvalid()?0:s.fs_$LI$().getSpace(this,a.io.FileSystem.SPACE_USABLE)},s.createTempFile=function(t,e,n){if(void 0===n&&(n=null),t.length<3)throw new a.lang.IllegalArgumentException("Prefix string too short");null==e&&(e=".tmp");for(var r,i=null!=n?n:s.TempDirectory.location();r=s.TempDirectory.generateFile(t,e,i),0!=(s.fs_$LI$().getBooleanAttributes(r)&a.io.FileSystem.BA_EXISTS););if(!s.fs_$LI$().createFileExclusively(r.getPath()))throw new a.io.IOException("Unable to create temporary file");return r},s.prototype.compareTo=function(t){var e=this;if(null!=t&&t instanceof a.io.File||null===t)return s.fs_$LI$().compare(e,t);throw new Error("invalid overload")},s.prototype.equals=function(t){return null!=t&&null!=t&&t instanceof a.io.File&&0===this.compareTo(t)},s.prototype.hashCode=function(){return s.fs_$LI$().hashCode(this)},s.prototype.toString=function(){return this.getPath()},s.serialVersionUID=0x42da4450e0de500,s}(),t.File=e,function(t){var e;(e=t.PathStatus||(t.PathStatus={}))[e.INVALID=0]="INVALID",e[e.CHECKED=1]="CHECKED",t.PathStatus;var n=function(){function t(){}return t.tmpdir_$LI$=function(){return null==t.tmpdir&&(t.tmpdir=new a.io.File(a.lang.System.getProperty("java.io.tmpdir"))),t.tmpdir},t.location=function(){return t.tmpdir_$LI$()},t.generateFile=function(t,e,n){var r=Math.round(Math.random())*javaemul.internal.LongHelper.MAX_VALUE;r=r===javaemul.internal.LongHelper.MIN_VALUE?0:Math.abs(r);var i=(t=new a.io.File(t).getName())+""+r+e,o=new a.io.File(n,i);if(i!==o.getName()||o.isInvalid())throw new a.io.IOException("Unable to create temporary file, "+o);return o},t}();t.TempDirectory=n}(e=t.File||(t.File={}))}(java||(java={})),function(n){var t,e;t=n.util||(n.util={}),e=function(){function r(){}return r.API_CHECK_$LI$=function(){return null==r.API_CHECK&&(r.API_CHECK="ENABLED"===n.lang.System.getProperty("jre.checks.api","ENABLED")),r.API_CHECK},r.structureChanged=function(t){if(r.API_CHECK_$LI$()){var e=0|javaemul.internal.JsUtils.getIntProperty(t,r.MOD_COUNT_PROPERTY);javaemul.internal.JsUtils.setIntProperty(t,r.MOD_COUNT_PROPERTY,e+1)}},r.recordLastKnownStructure=function(t,e){if(r.API_CHECK_$LI$()){var n=javaemul.internal.JsUtils.getIntProperty(t,r.MOD_COUNT_PROPERTY);javaemul.internal.JsUtils.setIntProperty(e,r.MOD_COUNT_PROPERTY,n)}},r.checkStructuralChange=function(t,e){if(r.API_CHECK_$LI$()&&javaemul.internal.JsUtils.getIntProperty(e,r.MOD_COUNT_PROPERTY)!==javaemul.internal.JsUtils.getIntProperty(t,r.MOD_COUNT_PROPERTY))throw new n.util.ConcurrentModificationException},r.MOD_COUNT_PROPERTY="_gwt_modCount",r}(),t.ConcurrentModificationDetector=e}(java||(java={})),function(o){var t,e,n;t=o.util||(o.util={}),e=t.logging||(t.logging={}),n=function(){function i(t,e){this.level=null,this.useParentHandlers=!1,i.LOGGING_FALSE_$LI$()||(this.name=t,this.useParentHandlers=!0,this.handlers=new o.util.ArrayList)}return i.__static_initialize=function(){i.__static_initialized||(i.__static_initialized=!0,i.__static_initializer_0())},i.LOGGING_ENABLED_$LI$=function(){return i.__static_initialize(),null==i.LOGGING_ENABLED&&(i.LOGGING_ENABLED=o.lang.System.getProperty("gwt.logging.enabled","TRUE")),i.LOGGING_ENABLED},i.LOGGING_WARNING_$LI$=function(){return i.__static_initialize(),null==i.LOGGING_WARNING&&(i.LOGGING_WARNING="WARNING"===i.LOGGING_ENABLED_$LI$()),i.LOGGING_WARNING},i.LOGGING_SEVERE_$LI$=function(){return i.__static_initialize(),null==i.LOGGING_SEVERE&&(i.LOGGING_SEVERE="SEVERE"===i.LOGGING_ENABLED_$LI$()),i.LOGGING_SEVERE},i.LOGGING_FALSE_$LI$=function(){return i.__static_initialize(),null==i.LOGGING_FALSE&&(i.LOGGING_FALSE="FALSE"===i.LOGGING_ENABLED_$LI$()),i.LOGGING_FALSE},i.__static_initializer_0=function(){i.assertLoggingValues()},i.getGlobal=function(){return i.getLogger(i.GLOBAL_LOGGER_NAME)},i.getLogger=function(t){return i.LOGGING_FALSE_$LI$()?new i(t,null):o.util.logging.LogManager.getLogManager().ensureLogger(t)},i.assertLoggingValues=function(){if("FALSE"!==i.LOGGING_ENABLED_$LI$()&&"TRUE"!==i.LOGGING_ENABLED_$LI$()&&"SEVERE"!==i.LOGGING_ENABLED_$LI$()&&"WARNING"!==i.LOGGING_ENABLED_$LI$())throw new Error("Undefined value for gwt.logging.enabled: '"+i.LOGGING_ENABLED_$LI$()+"'. Allowed values are TRUE, FALSE, SEVERE, WARNING")},i.prototype.addHandler=function(t){i.LOGGING_FALSE_$LI$()||this.handlers.add(t)},i.prototype.config=function(t){i.LOGGING_FALSE_$LI$()||i.LOGGING_SEVERE_$LI$()||i.LOGGING_WARNING_$LI$()||this.log(o.util.logging.Level.CONFIG_$LI$(),t)},i.prototype.fine=function(t){i.LOGGING_FALSE_$LI$()||i.LOGGING_SEVERE_$LI$()||i.LOGGING_WARNING_$LI$()||this.log(o.util.logging.Level.FINE_$LI$(),t)},i.prototype.finer=function(t){i.LOGGING_FALSE_$LI$()||i.LOGGING_SEVERE_$LI$()||i.LOGGING_WARNING_$LI$()||this.log(o.util.logging.Level.FINER_$LI$(),t)},i.prototype.finest=function(t){i.LOGGING_FALSE_$LI$()||i.LOGGING_SEVERE_$LI$()||i.LOGGING_WARNING_$LI$()||this.log(o.util.logging.Level.FINEST_$LI$(),t)},i.prototype.info=function(t){i.LOGGING_FALSE_$LI$()||i.LOGGING_SEVERE_$LI$()||i.LOGGING_WARNING_$LI$()||this.log(o.util.logging.Level.INFO_$LI$(),t)},i.prototype.warning=function(t){i.LOGGING_FALSE_$LI$()||i.LOGGING_SEVERE_$LI$()||this.log(o.util.logging.Level.WARNING_$LI$(),t)},i.prototype.severe=function(t){i.LOGGING_FALSE_$LI$()||this.log(o.util.logging.Level.SEVERE_$LI$(),t)},i.prototype.getHandlers=function(){return i.LOGGING_FALSE_$LI$()?new Array(0):this.handlers.toArray(new Array(this.handlers.size()))},i.prototype.getLevel=function(){return i.LOGGING_FALSE_$LI$()?null:this.level},i.prototype.getName=function(){return i.LOGGING_FALSE_$LI$()?null:this.name},i.prototype.getParent=function(){return i.LOGGING_FALSE_$LI$()?null:this.parent},i.prototype.getUseParentHandlers=function(){return!i.LOGGING_FALSE_$LI$()&&this.useParentHandlers},i.prototype.isLoggable=function(t){return!i.LOGGING_FALSE_$LI$()&&this.getEffectiveLevel().intValue()<=t.intValue()},i.prototype.log$java_util_logging_Level$java_lang_String=function(t,e){this.log(t,e,null)},i.prototype.log=function(t,e,n){var r=this;if(!(null!=t&&t instanceof o.util.logging.Level||null===t)||"string"!=typeof e&&null!==e||!(null!=n&&n instanceof Error||null===n)){if(!(null!=t&&t instanceof o.util.logging.Level||null===t)||"string"!=typeof e&&null!==e||void 0!==n){if((null!=t&&t instanceof o.util.logging.LogRecord||null===t)&&void 0===e&&void 0===n)return this.log$java_util_logging_LogRecord(t);throw new Error("invalid overload")}return this.log$java_util_logging_Level$java_lang_String(t,e)}i.LOGGING_FALSE_$LI$()||(i.LOGGING_SEVERE_$LI$()?1e3<=t.intValue()&&r.actuallyLog(t,e,n):i.LOGGING_WARNING_$LI$()?t.intValue()>=o.util.logging.Level.WARNING_$LI$().intValue()&&r.actuallyLog(t,e,n):r.actuallyLog(t,e,n))},i.prototype.log$java_util_logging_LogRecord=function(t){i.LOGGING_FALSE_$LI$()||(i.LOGGING_SEVERE_$LI$()?1e3<=t.getLevel().intValue()&&this.actuallyLog(t):i.LOGGING_WARNING_$LI$()?t.getLevel().intValue()>=o.util.logging.Level.WARNING_$LI$().intValue()&&this.actuallyLog(t):this.actuallyLog(t))},i.prototype.removeHandler=function(t){i.LOGGING_FALSE_$LI$()||this.handlers.remove(t)},i.prototype.setLevel=function(t){i.LOGGING_FALSE_$LI$()||(this.level=t)},i.prototype.setParent=function(t){i.LOGGING_FALSE_$LI$()||null!=t&&(this.parent=t)},i.prototype.setUseParentHandlers=function(t){i.LOGGING_FALSE_$LI$()||(this.useParentHandlers=t)},i.prototype.getEffectiveLevel=function(){if(null!=this.level)return this.level;for(var t=this.getParent();null!=t;){var e=t.getLevel();if(null!=e)return e;t=t.getParent()}return o.util.logging.Level.INFO_$LI$()},i.prototype.actuallyLog=function(e,n,r){var i=this;if((null!=e&&e instanceof o.util.logging.Level||null===e)&&("string"==typeof n||null===n)&&(null!=r&&r instanceof Error||null===r))return function(){if(i.isLoggable(e)){var t=new o.util.logging.LogRecord(e,n);t.setThrown(r),t.setLoggerName(i.getName()),i.actuallyLog(t)}}();if((null!=e&&e instanceof o.util.logging.LogRecord||null===e)&&void 0===n&&void 0===r)return this.actuallyLog$java_util_logging_LogRecord(e);throw new Error("invalid overload")},i.prototype.actuallyLog$java_util_logging_LogRecord=function(t){if(this.isLoggable(t.getLevel())){for(var e=this.getHandlers(),n=0;n<e.length;n++)e[n].publish(t);for(var r=this.getUseParentHandlers()?this.getParent():null;null!=r;){for(var i=r.getHandlers(),o=0;o<i.length;o++)i[o].publish(t);r=r.getUseParentHandlers()?r.getParent():null}}},i.__static_initialized=!1,i.GLOBAL_LOGGER_NAME="global",i}(),e.Logger=n}(java||(java={})),function(a){var t,e;t=a.internal||(a.internal={}),e=function(){function o(){}return o.CHECKED_MODE_$LI$=function(){return null==o.CHECKED_MODE&&(o.CHECKED_MODE="ENABLED"===java.lang.System.getProperty("jre.checkedMode","ENABLED")),o.CHECKED_MODE},o.TYPE_CHECK_$LI$=function(){return null==o.TYPE_CHECK&&(o.TYPE_CHECK="ENABLED"===java.lang.System.getProperty("jre.checks.type","ENABLED")),o.TYPE_CHECK},o.API_CHECK_$LI$=function(){return null==o.API_CHECK&&(o.API_CHECK="ENABLED"===java.lang.System.getProperty("jre.checks.api","ENABLED")),o.API_CHECK},o.BOUND_CHECK_$LI$=function(){return null==o.BOUND_CHECK&&(o.BOUND_CHECK="ENABLED"===java.lang.System.getProperty("jre.checks.bounds","ENABLED")),o.BOUND_CHECK},o.checkType=function(t){if(o.TYPE_CHECK_$LI$())o.checkCriticalType(t);else if(o.CHECKED_MODE_$LI$())try{o.checkCriticalType(t)}catch(t){throw new java.lang.AssertionError(t)}},o.checkCriticalType=function(t){if(!t)throw new java.lang.ClassCastException},o.checkArrayType$boolean=function(t){if(o.TYPE_CHECK_$LI$())o.checkCriticalArrayType(t);else if(o.CHECKED_MODE_$LI$())try{o.checkCriticalArrayType(t)}catch(t){throw new java.lang.AssertionError(t)}},o.checkCriticalArrayType$boolean=function(t){if(!t)throw new java.lang.ArrayStoreException},o.checkArrayType=function(t,e){if("boolean"!=typeof t&&null!==t||null==e&&null!==e){if("boolean"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return a.internal.InternalPreconditions.checkArrayType$boolean(t)}return function(){if(o.TYPE_CHECK_$LI$())o.checkCriticalArrayType(t,e);else if(o.CHECKED_MODE_$LI$())try{o.checkCriticalArrayType(t,e)}catch(t){throw new java.lang.AssertionError(t)}}()},o.checkCriticalArrayType=function(t,e){if("boolean"!=typeof t&&null!==t||null==e&&null!==e){if("boolean"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return a.internal.InternalPreconditions.checkCriticalArrayType$boolean(t)}return function(){if(!t)throw new java.lang.ArrayStoreException(new String(e).toString())}()},o.checkElement$boolean=function(t){if(o.API_CHECK_$LI$())o.checkCriticalElement(t);else if(o.CHECKED_MODE_$LI$())try{o.checkCriticalElement(t)}catch(t){throw new java.lang.AssertionError(t)}},o.checkCriticalElement$boolean=function(t){if(!t)throw new java.util.NoSuchElementException},o.checkElement=function(t,e){if("boolean"!=typeof t&&null!==t||null==e&&null!==e){if("boolean"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return a.internal.InternalPreconditions.checkElement$boolean(t)}return function(){if(o.API_CHECK_$LI$())o.checkCriticalElement(t,e);else if(o.CHECKED_MODE_$LI$())try{o.checkCriticalElement(t,e)}catch(t){throw new java.lang.AssertionError(t)}}()},o.checkCriticalElement=function(t,e){if("boolean"!=typeof t&&null!==t||null==e&&null!==e){if("boolean"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return a.internal.InternalPreconditions.checkCriticalElement$boolean(t)}return function(){if(!t)throw new java.util.NoSuchElementException(new String(e).toString())}()},o.checkArgument$boolean=function(t){if(o.API_CHECK_$LI$())o.checkCriticalArgument(t);else if(o.CHECKED_MODE_$LI$())try{o.checkCriticalArgument(t)}catch(t){throw new java.lang.AssertionError(t)}},o.checkCriticalArgument$boolean=function(t){if(!t)throw new java.lang.IllegalArgumentException},o.checkArgument$boolean$java_lang_Object=function(t,e){if(o.API_CHECK_$LI$())o.checkCriticalArgument(t,e);else if(o.CHECKED_MODE_$LI$())try{o.checkCriticalArgument(t,e)}catch(t){throw new java.lang.AssertionError(t)}},o.checkCriticalArgument$boolean$java_lang_Object=function(t,e){if(!t)throw new java.lang.IllegalArgumentException(new String(e).toString())},o.checkArgument=function(t,e){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if("boolean"!=typeof t&&null!==t||"string"!=typeof e&&null!==e||!(null!=r&&r instanceof Array||null===r)){if("boolean"!=typeof t&&null!==t||null==e&&null!==e||void 0!==r){if("boolean"!=typeof t&&null!==t||void 0!==e||void 0!==r)throw new Error("invalid overload");return a.internal.InternalPreconditions.checkArgument$boolean(t)}return a.internal.InternalPreconditions.checkArgument$boolean$java_lang_Object(t,e)}return function(){if(o.API_CHECK_$LI$())o.checkCriticalArgument.apply(n,[t,e].concat(r));else if(o.CHECKED_MODE_$LI$())try{o.checkCriticalArgument.apply(n,[t,e].concat(r))}catch(t){throw new java.lang.AssertionError(t)}}()},o.checkCriticalArgument=function(t,e){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if("boolean"!=typeof t&&null!==t||"string"!=typeof e&&null!==e||!(null!=r&&r instanceof Array||null===r)){if("boolean"!=typeof t&&null!==t||null==e&&null!==e||void 0!==r){if("boolean"!=typeof t&&null!==t||void 0!==e||void 0!==r)throw new Error("invalid overload");return a.internal.InternalPreconditions.checkCriticalArgument$boolean(t)}return a.internal.InternalPreconditions.checkCriticalArgument$boolean$java_lang_Object(t,e)}return function(){if(!t)throw new java.lang.IllegalArgumentException(o.format.apply(n,[e].concat(r)))}()},o.checkState$boolean=function(t){if(o.API_CHECK_$LI$())o.checkCritcalState(t);else if(o.CHECKED_MODE_$LI$())try{o.checkCritcalState(t)}catch(t){throw new java.lang.AssertionError(t)}},o.checkCritcalState=function(t){if(!t)throw new java.lang.IllegalStateException},o.checkState=function(t,e){if("boolean"!=typeof t&&null!==t||null==e&&null!==e){if("boolean"!=typeof t&&null!==t||void 0!==e)throw new Error("invalid overload");return a.internal.InternalPreconditions.checkState$boolean(t)}return function(){if(o.API_CHECK_$LI$())o.checkCriticalState(t,e);else if(o.CHECKED_MODE_$LI$())try{o.checkCriticalState(t,e)}catch(t){throw new java.lang.AssertionError(t)}}()},o.checkCriticalState=function(t,e){if(!t)throw new java.lang.IllegalStateException(new String(e).toString())},o.checkNotNull$java_lang_Object=function(t){if(o.API_CHECK_$LI$())o.checkCriticalNotNull(t);else if(o.CHECKED_MODE_$LI$())try{o.checkCriticalNotNull(t)}catch(t){throw new java.lang.AssertionError(t)}return t},o.checkCriticalNotNull$java_lang_Object=function(t){if(null==t)throw new java.lang.NullPointerException;return t},o.checkNotNull=function(t,e){if(null==t&&null!==t||null==e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return a.internal.InternalPreconditions.checkNotNull$java_lang_Object(t)}return function(){if(o.API_CHECK_$LI$())o.checkCriticalNotNull(t,e);else if(o.CHECKED_MODE_$LI$())try{o.checkCriticalNotNull(t,e)}catch(t){throw new java.lang.AssertionError(t)}}()},o.checkCriticalNotNull=function(t,e){if(null==t&&null!==t||null==e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return a.internal.InternalPreconditions.checkCriticalNotNull$java_lang_Object(t)}return function(){if(null==t)throw new java.lang.NullPointerException(new String(e).toString())}()},o.checkArraySize=function(t){if(o.API_CHECK_$LI$())o.checkCriticalArraySize(t);else if(o.CHECKED_MODE_$LI$())try{o.checkCriticalArraySize(t)}catch(t){throw new java.lang.AssertionError(t)}},o.checkCriticalArraySize=function(t){if(t<0)throw new java.lang.NegativeArraySizeException("Negative array size: "+t)},o.checkElementIndex=function(t,e){if(o.BOUND_CHECK_$LI$())o.checkCriticalElementIndex(t,e);else if(o.CHECKED_MODE_$LI$())try{o.checkCriticalElementIndex(t,e)}catch(t){throw new java.lang.AssertionError(t)}},o.checkCriticalElementIndex=function(t,e){if(t<0||e<=t)throw new java.lang.IndexOutOfBoundsException("Index: "+t+", Size: "+e)},o.checkPositionIndex=function(t,e){if(o.BOUND_CHECK_$LI$())o.checkCriticalPositionIndex(t,e);else if(o.CHECKED_MODE_$LI$())try{o.checkCriticalPositionIndex(t,e)}catch(t){throw new java.lang.AssertionError(t)}},o.checkCriticalPositionIndex=function(t,e){if(t<0||e<t)throw new java.lang.IndexOutOfBoundsException("Index: "+t+", Size: "+e)},o.checkPositionIndexes=function(t,e,n){if(o.BOUND_CHECK_$LI$())o.checkCriticalPositionIndexes(t,e,n);else if(o.CHECKED_MODE_$LI$())try{o.checkCriticalPositionIndexes(t,e,n)}catch(t){throw new java.lang.AssertionError(t)}},o.checkCriticalPositionIndexes=function(t,e,n){if(t<0)throw new java.lang.IndexOutOfBoundsException("fromIndex: "+t+" < 0");if(n<e)throw new java.lang.IndexOutOfBoundsException("toIndex: "+e+" > size "+n);if(e<t)throw new java.lang.IllegalArgumentException("fromIndex: "+t+" > toIndex: "+e)},o.checkStringBounds=function(t,e,n){if(t<0)throw new java.lang.StringIndexOutOfBoundsException("fromIndex: "+t+" < 0");if(n<e)throw new java.lang.StringIndexOutOfBoundsException("toIndex: "+e+" > size "+n);if(e<t)throw new java.lang.StringIndexOutOfBoundsException("fromIndex: "+t+" > toIndex: "+e)},o.format=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t=new String(t).toString();for(var r=new java.lang.StringBuilder(t.length+16*e.length),i=0,o=0;o<e.length;){var a=t.indexOf("%s",i);if(-1===a)break;r.append(t.substring(i,a)),r.append(e[o++]),i=a+2}if(r.append(t.substring(i)),o<e.length){for(r.append(" ["),r.append(e[o++]);o<e.length;)r.append(", "),r.append(e[o++]);r.append("]")}return r.toString()},o}(),t.InternalPreconditions=e}(javaemul||(javaemul={})),function(n){var t,e;t=n.util||(n.util={}),e=function(r){function t(t,e){if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e)if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map")||null===t)&&void 0===e){var n=t;r.call(this,n),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Map","java.io.Serializable"]})}else if("number"!=typeof t&&null!==t||void 0!==e){if(void 0!==t||void 0!==e)throw new Error("invalid overload");r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Map","java.io.Serializable"]})}else r.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Map","java.io.Serializable"]});else r.call(this,t,e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Map","java.io.Serializable"]})}return __extends(t,r),t.prototype.clone=function(){return new t(this)},t.prototype._equals=function(t,e){return n.util.Objects.equals(t,e)},t.prototype.getHashCode=function(t){var e=t.toString();return javaemul.internal.Coercions.ensureInt(e)},t}(n.util.AbstractHashMap),t.HashMap=e}(java||(java={})),function(r){var t,e;t=r.util||(r.util={}),e=function(n){function t(t){if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map")||null===t)n.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Map","java.io.Serializable"]});else if("number"==typeof t||null===t){var e=t;n.call(this,e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Map","java.io.Serializable"]})}else{if(void 0!==t)throw new Error("invalid overload");n.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Map","java.io.Serializable"]})}}return __extends(t,n),t.prototype.clone=function(){return new t(this)},t.prototype.equals=function(t){if(t===this)return!0;if(!(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map")))return!1;var e=t;if(this.size()!==e.size())return!1;for(var n=e.entrySet().iterator();n.hasNext();){var r=n.next(),i=r.getKey(),o=r.getValue();if(!this.containsKey(i))return!1;if(o!==this.get(i))return!1}return!0},t.prototype.hashCode=function(){for(var t=0,e=this.entrySet().iterator();e.hasNext();){var n=e.next();t+=r.lang.System.identityHashCode(n.getKey()),t+=r.lang.System.identityHashCode(n.getValue())}return t},t.prototype._equals=function(t,e){return t===e},t.prototype.getHashCode=function(t){return javaemul.internal.HashCodes.getObjectIdentityHashCode(t)},t}(r.util.AbstractHashMap),t.IdentityHashMap=e}(java||(java={})),function(d){var p,t;p=d.util||(d.util={}),t=function(r){function p(t){var e=this;if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Comparator")||null===t)r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map","java.util.NavigableMap","java.util.SortedMap","java.io.Serializable"]}),this.__size=0,(e.root=null)==t&&(t=d.util.Comparators.natural()),e.cmp=t;else if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.SortedMap")||null===t){var n=t;t=javaemul.internal.InternalPreconditions.checkNotNull(n).comparator();r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map","java.util.NavigableMap","java.util.SortedMap","java.io.Serializable"]}),this.__size=0,(e.root=null)==t&&(t=d.util.Comparators.natural()),e.cmp=t,e.putAll(n)}else if(null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map")||null===t){n=t,t=null;r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map","java.util.NavigableMap","java.util.SortedMap","java.io.Serializable"]}),this.__size=0,(e.root=null)==t&&(t=d.util.Comparators.natural()),e.cmp=t,e.putAll(n)}else{if(void 0!==t)throw new Error("invalid overload");t=null;r.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map","java.util.NavigableMap","java.util.SortedMap","java.io.Serializable"]}),this.__size=0,(e.root=null)==t&&(t=d.util.Comparators.natural()),e.cmp=t}}return __extends(p,r),p.SubMapType_All_$LI$=function(){return null==p.SubMapType_All&&(p.SubMapType_All=new p.SubMapType),p.SubMapType_All},p.SubMapType_Head_$LI$=function(){return null==p.SubMapType_Head&&(p.SubMapType_Head=new p.SubMapTypeHead),p.SubMapType_Head},p.SubMapType_Range_$LI$=function(){return null==p.SubMapType_Range&&(p.SubMapType_Range=new p.SubMapTypeRange),p.SubMapType_Range},p.SubMapType_Tail_$LI$=function(){return null==p.SubMapType_Tail&&(p.SubMapType_Tail=new p.SubMapTypeTail),p.SubMapType_Tail},p.otherChild=function(t){return 1-t},p.prototype.clear=function(){this.root=null,this.__size=0},p.prototype.comparator=function(){return this.cmp===d.util.Comparators.natural()?null:this.cmp},p.prototype.entrySet=function(){return new p.EntrySet(this)},p.prototype.headMap=function(t,e){var n=this;if(null==t&&null!==t||"boolean"!=typeof e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.headMap$java_lang_Object(t)}return new p.SubMap(n,p.SubMapType_Head_$LI$(),null,!1,t,e)},p.prototype.put=function(t,e){if(null==t&&null!==t||null==e&&null!==e)throw new Error("invalid overload");return this.put$java_lang_Object$java_lang_Object(t,e)},p.prototype.put$java_lang_Object$java_lang_Object=function(t,e){var n=new p.Node(t,e),r=new p.State;return this.root=this.insert(this.root,n,r),r.found||++this.__size,this.root.isRed=!1,r.value},p.prototype.remove=function(t){var e=t,n=new p.State;return this.removeWithState(e,n),n.value},p.prototype.size=function(){return this.__size},p.prototype.subMap=function(t,e,n,r){var i=this;if(null==t&&null!==t||"boolean"!=typeof e&&null!==e||null==n&&null!==n||"boolean"!=typeof r&&null!==r){if(null==t&&null!==t||null==e&&null!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.subMap$java_lang_Object$java_lang_Object(t,e)}return new p.SubMap(i,p.SubMapType_Range_$LI$(),t,e,n,r)},p.prototype.tailMap=function(t,e){var n=this;if(null==t&&null!==t||"boolean"!=typeof e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.tailMap$java_lang_Object(t)}return new p.SubMap(n,p.SubMapType_Tail_$LI$(),t,e,null,!1)},p.prototype.getNodeAfter=function(t,e){for(var n=null,r=this.root;null!=r;){var i=this.cmp.compare(t,r.getKey());if(e&&0===i)return r;r=0<=i?r.child[p.RIGHT]:(n=r).child[p.LEFT]}return n},p.prototype.getNodeBefore=function(t,e){for(var n=null,r=this.root;null!=r;){var i=this.cmp.compare(t,r.getKey());if(e&&0===i)return r;r=i<=0?r.child[p.LEFT]:(n=r).child[p.RIGHT]}return n},p.prototype.assertCorrectness$=function(){this.assertCorrectness(this.root,!0)},p.prototype.descendingEntryIterator=function(){return new p.DescendingEntryIterator(this)},p.prototype.entryIterator=function(){return new p.EntryIterator(this)},p.prototype.assertCorrectness=function(i,o){var a=this;if(!(null!=i&&i instanceof d.util.TreeMap.Node||null===i)||"boolean"!=typeof o&&null!==o){if(void 0===i&&void 0===o)return this.assertCorrectness$();throw new Error("invalid overload")}return function(){if(null==i)return 0;if(o&&i.isRed)throw new Error("Two red nodes adjacent");var t=i.child[p.LEFT];if(null!=t&&0<a.cmp.compare(t.getKey(),i.getKey()))throw new Error("Left child "+t+" larger than "+i);var e=i.child[p.RIGHT];if(null!=e&&a.cmp.compare(e.getKey(),i.getKey())<0)throw new Error("Right child "+e+" smaller than "+i);var n=a.assertCorrectness(t,i.isRed),r=a.assertCorrectness(e,i.isRed);if(0!==n&&0!==r&&n!==r)throw new Error("Black heights don't match");return i.isRed?n:n+1}()},p.prototype.getEntry=function(t){for(var e=this.root;null!=e;){var n=this.cmp.compare(t,e.getKey());if(0===n)return e;var r=n<0?p.LEFT:p.RIGHT;e=e.child[r]}return null},p.prototype.getFirstEntry=function(){if(null==this.root)return null;for(var t,e=this.root;null!=(t=e.child[p.LEFT]);)e=t;return e},p.prototype.getLastEntry=function(){if(null==this.root)return null;for(var t,e=this.root;null!=(t=e.child[p.RIGHT]);)e=t;return e},p.prototype.getCeilingEntry=function(t){return this.getNodeAfter(t,!0)},p.prototype.getFloorEntry=function(t){return this.getNodeBefore(t,!0)},p.prototype.getHigherEntry=function(t){return this.getNodeAfter(t,!1)},p.prototype.getLowerEntry=function(t){return this.getNodeBefore(t,!1)},p.prototype.removeEntry=function(t){var e=new p.State;return e.matchValue=!0,e.value=t.getValue(),this.removeWithState(t.getKey(),e)},p.prototype.inOrderAdd=function(t,e,n,r,i,o,a){if(null!=n){var s=n.child[p.LEFT];null!=s&&this.inOrderAdd(t,e,s,r,i,o,a),this.inRange(e,n.getKey(),r,i,o,a)&&t.add(n);var l=n.child[p.RIGHT];null!=l&&this.inOrderAdd(t,e,l,r,i,o,a)}},p.prototype.inRange=function(t,e,n,r,i,o){return(!t.fromKeyValid()||!this.smaller(e,n,!r))&&(!t.toKeyValid()||!this.larger(e,i,!o))},p.prototype.insert=function(t,e,n){if(null==t)return e;var r=this.cmp.compare(e.getKey(),t.getKey());if(0===r)return n.value=t.setValue(e.getValue()),n.found=!0,t;var i=r<0?p.LEFT:p.RIGHT;return t.child[i]=this.insert(t.child[i],e,n),this.isRed(t.child[i])&&(this.isRed(t.child[p.otherChild(i)])?(t.isRed=!0,t.child[p.LEFT].isRed=!1,t.child[p.RIGHT].isRed=!1):this.isRed(t.child[i].child[i])?t=this.rotateSingle(t,p.otherChild(i)):this.isRed(t.child[i].child[p.otherChild(i)])&&(t=this.rotateDouble(t,p.otherChild(i)))),t},p.prototype.isRed=function(t){return null!=t&&t.isRed},p.prototype.larger=function(t,e,n){var r=this.cmp.compare(t,e);return 0<r||n&&0===r},p.prototype.smaller=function(t,e,n){var r=this.cmp.compare(t,e);return r<0||n&&0===r},p.prototype.removeWithState=function(t,e){if(null==this.root)return!1;var n=null,r=null,i=new p.Node(null,null),o=p.RIGHT;i.child[p.RIGHT]=this.root;for(var a=i;null!=a.child[o];){var s=o,l=r;a=(r=a).child[o];var u=this.cmp.compare(t,a.getKey());if(o=u<0?p.LEFT:p.RIGHT,0!==u||e.matchValue&&!d.util.Objects.equals(a.getValue(),e.value)||(n=a),!this.isRed(a)&&!this.isRed(a.child[o]))if(this.isRed(a.child[p.otherChild(o)]))r=r.child[s]=this.rotateSingle(a,o);else if(!this.isRed(a.child[p.otherChild(o)])){var c=r.child[p.otherChild(s)];if(null!=c)if(this.isRed(c.child[p.otherChild(s)])||this.isRed(c.child[s])){var h=l.child[p.RIGHT]===r?p.RIGHT:p.LEFT;this.isRed(c.child[s])?l.child[h]=this.rotateDouble(r,s):this.isRed(c.child[p.otherChild(s)])&&(l.child[h]=this.rotateSingle(r,s)),a.isRed=l.child[h].isRed=!0,l.child[h].child[p.LEFT].isRed=!1,l.child[h].child[p.RIGHT].isRed=!1}else r.isRed=!1,c.isRed=!0,a.isRed=!0}}if(null!=n){if(e.found=!0,e.value=n.getValue(),a!==n){var f=new p.Node(a.getKey(),a.getValue());this.replaceNode(i,n,f),r===n&&(r=f)}r.child[r.child[p.RIGHT]===a?p.RIGHT:p.LEFT]=a.child[null==a.child[p.LEFT]?p.RIGHT:p.LEFT],this.__size--}return this.root=i.child[p.RIGHT],null!=this.root&&(this.root.isRed=!1),e.found},p.prototype.replaceNode=function(t,e,n){for(var r=t,i=null==r.getKey()||0<this.cmp.compare(e.getKey(),r.getKey())?p.RIGHT:p.LEFT;r.child[i]!==e;)r=r.child[i],i=0<this.cmp.compare(e.getKey(),r.getKey())?p.RIGHT:p.LEFT;(r.child[i]=n).isRed=e.isRed,n.child[p.LEFT]=e.child[p.LEFT],n.child[p.RIGHT]=e.child[p.RIGHT],e.child[p.LEFT]=null,e.child[p.RIGHT]=null},p.prototype.rotateDouble=function(t,e){var n=p.otherChild(e);return t.child[n]=this.rotateSingle(t.child[n],n),this.rotateSingle(t,e)},p.prototype.rotateSingle=function(t,e){var n=p.otherChild(e),r=t.child[n];return t.child[n]=r.child[e],(r.child[e]=t).isRed=!0,r.isRed=!1,r},p.LEFT=0,p.RIGHT=1,p}(d.util.AbstractNavigableMap),p.TreeMap=t,function(e){var t=function(){function t(t,e,n,r,i,o){void 0===e&&(e=d.util.TreeMap.SubMapType_All_$LI$()),void 0===n&&(n=null),void 0===r&&(r=!1),void 0===i&&(i=null),void 0===o&&(o=!1),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.__parent=t;var a=new d.util.ArrayList;this.__parent.inOrderAdd(a,e,this.__parent.root,n,r,i,o),this.iter=a.listIterator(a.size())}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){return this.iter.hasPrevious()},t.prototype.next=function(){return this.last=this.iter.previous()},t.prototype.remove=function(){this.iter.remove(),this.__parent.removeEntry(this.last),this.last=null},t}();e.DescendingEntryIterator=t;var n=function(){function t(t,e,n,r,i,o){void 0===e&&(e=d.util.TreeMap.SubMapType_All_$LI$()),void 0===n&&(n=null),void 0===r&&(r=!1),void 0===i&&(i=null),void 0===o&&(o=!1),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.__parent=t;var a=new d.util.ArrayList;this.__parent.inOrderAdd(a,e,this.__parent.root,n,r,i,o),this.iter=a.listIterator()}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){return this.iter.hasNext()},t.prototype.next=function(){return this.last=this.iter.next()},t.prototype.remove=function(){this.iter.remove(),this.__parent.removeEntry(this.last),this.last=null},t}();e.EntryIterator=n;var r=function(e){function t(t){e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Set","java.lang.Iterable"]}),this.__parent=t}return __extends(t,e),t.prototype.clear=function(){this.__parent.clear()},t}(d.util.AbstractNavigableMap.EntrySet);e.EntrySet=r;var i=function(r){function t(t,e,n){void 0===n&&(n=!0),r.call(this,t,e),this.child=new Array(2),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map.Entry"]}),this.isRed=!1,this.isRed=n}return __extends(t,r),t}(p.AbstractMap.SimpleEntry);e.Node=i;var o=function(){function t(){this.done=!1,this.found=!1,this.matchValue=!1}return t.prototype.toString=function(){return"State: mv="+this.matchValue+" value="+this.value+" done="+this.done+" found="+this.found},t}();e.State=o;var a,s,l=function(a){function t(t,e,n,r,i,o){if(a.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map","java.util.NavigableMap","java.util.SortedMap"]}),this.__parent=t,this.fromInclusive=!1,this.toInclusive=!1,e===d.util.TreeMap.SubMapType_Range_$LI$()&&this.__parent.cmp.compare(i,n)<0)throw new d.lang.IllegalArgumentException("subMap: "+i+" less than "+n);e===d.util.TreeMap.SubMapType_Head_$LI$()&&this.__parent.cmp.compare(i,i),e===d.util.TreeMap.SubMapType_Tail_$LI$()&&this.__parent.cmp.compare(n,n),d.util.TreeMap.SubMapType_All_$LI$(),this.type=e,this.fromKey=n,this.fromInclusive=r,this.toKey=i,this.toInclusive=o}return __extends(t,a),t.prototype.comparator=function(){return this.__parent.comparator()},t.prototype.entrySet=function(){return new t.SubMap$0(this)},t.prototype.headMap=function(t,e){var n=this;if(null==t&&null!==t||"boolean"!=typeof e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.headMap$java_lang_Object(t)}return function(){if(n.type.toKeyValid()&&0<n.__parent.cmp.compare(t,n.toKey))throw new d.lang.IllegalArgumentException("subMap: "+t+" greater than "+n.toKey);return n.type.fromKeyValid()?n.__parent.subMap(n.fromKey,n.fromInclusive,t,e):n.__parent.headMap(t,e)}()},t.prototype.isEmpty=function(){return null==this.getFirstEntry()},t.prototype.put=function(t,e){if(null==t&&null!==t||null==e&&null!==e)throw new Error("invalid overload");return this.put$java_lang_Object$java_lang_Object(t,e)},t.prototype.put$java_lang_Object$java_lang_Object=function(t,e){if(!this.inRange(t))throw new d.lang.IllegalArgumentException(t+" outside the range "+this.fromKey+" to "+this.toKey);return this.__parent.put(t,e)},t.prototype.remove=function(t){var e=t;return this.inRange(e)?this.__parent.remove(e):null},t.prototype.size=function(){for(var t=0,e=this.entryIterator();e.hasNext();e.next())t++;return t},t.prototype.subMap=function(t,e,n,r){var i=this;if(null==t&&null!==t||"boolean"!=typeof e&&null!==e||null==n&&null!==n||"boolean"!=typeof r&&null!==r){if(null==t&&null!==t||null==e&&null!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.subMap$java_lang_Object$java_lang_Object(t,e)}return function(){if(i.type.fromKeyValid()&&i.__parent.cmp.compare(t,i.fromKey)<0)throw new d.lang.IllegalArgumentException("subMap: "+t+" less than "+i.fromKey);if(i.type.toKeyValid()&&0<i.__parent.cmp.compare(n,i.toKey))throw new d.lang.IllegalArgumentException("subMap: "+n+" greater than "+i.toKey);return i.__parent.subMap(t,e,n,r)}()},t.prototype.tailMap=function(t,e){var n=this;if(null==t&&null!==t||"boolean"!=typeof e&&null!==e){if(null==t&&null!==t||void 0!==e)throw new Error("invalid overload");return this.tailMap$java_lang_Object(t)}return function(){if(n.type.fromKeyValid()&&n.__parent.cmp.compare(t,n.fromKey)<0)throw new d.lang.IllegalArgumentException("subMap: "+t+" less than "+n.fromKey);return n.type.toKeyValid()?n.__parent.subMap(t,e,n.toKey,n.toInclusive):n.__parent.tailMap(t,e)}()},t.prototype.descendingEntryIterator=function(){return new e.DescendingEntryIterator(this.__parent,this.type,this.fromKey,this.fromInclusive,this.toKey,this.toInclusive)},t.prototype.entryIterator=function(){return new e.EntryIterator(this.__parent,this.type,this.fromKey,this.fromInclusive,this.toKey,this.toInclusive)},t.prototype.getEntry=function(t){return this.guardInRange(this.__parent.getEntry(t))},t.prototype.getFirstEntry=function(){var t;return t=this.type.fromKeyValid()?this.fromInclusive?this.__parent.getCeilingEntry(this.fromKey):this.__parent.getHigherEntry(this.fromKey):this.__parent.getFirstEntry(),this.guardInRange(t)},t.prototype.getLastEntry=function(){var t;return t=this.type.toKeyValid()?this.toInclusive?this.__parent.getFloorEntry(this.toKey):this.__parent.getLowerEntry(this.toKey):this.__parent.getLastEntry(),this.guardInRange(t)},t.prototype.getCeilingEntry=function(t){return this.guardInRange(this.__parent.getCeilingEntry(t))},t.prototype.getFloorEntry=function(t){return this.guardInRange(this.__parent.getFloorEntry(t))},t.prototype.getHigherEntry=function(t){return this.guardInRange(this.__parent.getHigherEntry(t))},t.prototype.getLowerEntry=function(t){return this.guardInRange(this.__parent.getLowerEntry(t))},t.prototype.removeEntry=function(t){return this.inRange(t.getKey())&&this.__parent.removeEntry(t)},t.prototype.guardInRange=function(t){return null!=t&&this.inRange(t.getKey())?t:null},t.prototype.inRange=function(t){return this.__parent.inRange(this.type,t,this.fromKey,this.fromInclusive,this.toKey,this.toInclusive)},t}(d.util.AbstractNavigableMap);e.SubMap=l,a=l=e.SubMap||(e.SubMap={}),s=function(e){function t(t){e.call(this,t),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Set","java.lang.Iterable"]}),this.__parent=t}return __extends(t,e),t.prototype.isEmpty=function(){return this.__parent.isEmpty()},t}(e.SubMap.EntrySet),a.SubMap$0=s;var u=function(){function t(){}return t.prototype.fromKeyValid=function(){return!1},t.prototype.toKeyValid=function(){return!1},t}();e.SubMapType=u;var c=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.toKeyValid=function(){return!0},e}(e.SubMapType);e.SubMapTypeHead=c;var h=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.fromKeyValid=function(){return!0},e.prototype.toKeyValid=function(){return!0},e}(e.SubMapType);e.SubMapTypeRange=h;var f=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.fromKeyValid=function(){return!0},e}(e.SubMapType);e.SubMapTypeTail=f}(t=p.TreeMap||(p.TreeMap={}))}(java||(java={})),function(s){var o,t;o=s.util||(s.util={}),t=function(o){function a(t,e,n){var r=this;if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||"boolean"!=typeof n&&null!==n)if("number"!=typeof t&&null!==t||"number"!=typeof e&&null!==e||void 0!==n)if((null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map")||null===t)&&void 0===e&&void 0===n){var i=t;o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Map","java.io.Serializable"]}),this.accessOrder=!1,r.head=new a.ChainEntry(r),r.map=new s.util.HashMap,r.resetChainEntries(),r.putAll(i)}else if("number"!=typeof t&&null!==t||void 0!==e||void 0!==n){if(void 0!==t||void 0!==e||void 0!==n)throw new Error("invalid overload");o.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Map","java.io.Serializable"]}),this.accessOrder=!1,r.head=new a.ChainEntry(r),r.map=new s.util.HashMap,r.resetChainEntries()}else{e=0;o.call(this,t,e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Map","java.io.Serializable"]}),this.accessOrder=!1,r.head=new a.ChainEntry(r),r.map=new s.util.HashMap,r.resetChainEntries()}else o.call(this,t,e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Map","java.io.Serializable"]}),this.accessOrder=!1,r.head=new a.ChainEntry(r),r.map=new s.util.HashMap,r.resetChainEntries();else o.call(this,t,e),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.lang.Cloneable","java.util.Map","java.io.Serializable"]}),this.accessOrder=!1,r.head=new a.ChainEntry(r),r.map=new s.util.HashMap,r.accessOrder=n,r.resetChainEntries()}return __extends(a,o),a.prototype.clear=function(){this.map.clear(),this.resetChainEntries()},a.prototype.resetChainEntries=function(){this.head.prev=this.head,this.head.next=this.head},a.prototype.clone=function(){return new a(this)},a.prototype.containsKey=function(t){return this.map.containsKey(t)},a.prototype.containsValue=function(t){for(var e=this.head.next;e!==this.head;){if(s.util.Objects.equals(e.getValue(),t))return!0;e=e.next}return!1},a.prototype.entrySet=function(){return new a.EntrySet(this)},a.prototype.get=function(t){var e=this.map.get(t);return null!=e?(this.recordAccess(e),e.getValue()):null},a.prototype.put=function(t,e){if(null==t&&null!==t||null==e&&null!==e)throw new Error("invalid overload");return this.put$java_lang_Object$java_lang_Object(t,e)},a.prototype.put$java_lang_Object$java_lang_Object=function(t,e){var n=this.map.get(t);if(null==n){var r=new a.ChainEntry(this,t,e);this.map.put(t,r),r.addToEnd();var i=this.head.next;return this.removeEldestEntry(i)&&(i.remove(),this.map.remove(i.getKey())),null}var o=n.setValue(e);return this.recordAccess(n),o},a.prototype.remove=function(t){var e=this.map.remove(t);return null!=e?(e.remove(),e.getValue()):null},a.prototype.size=function(){return this.map.size()},a.prototype.removeEldestEntry=function(t){return!1},a.prototype.recordAccess=function(t){this.accessOrder&&(t.remove(),t.addToEnd())},a}(s.util.HashMap),o.LinkedHashMap=t,function(t){var e=function(r){function t(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),r.call(this,e,n),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Map.Entry"]}),this.__parent=t}return __extends(t,r),t.prototype.addToEnd=function(){var t=this.__parent.head.prev;this.prev=t,this.next=this.__parent.head,t.next=this.__parent.head.prev=this},t.prototype.remove=function(){this.next.prev=this.prev,this.prev.next=this.next,this.next=this.prev=null},t}(o.AbstractMap.SimpleEntry);t.ChainEntry=e;var n,r,i=function(e){function t(t){e.call(this),Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Collection","java.util.Set","java.lang.Iterable"]}),this.__parent=t}return __extends(t,e),t.prototype.clear=function(){this.__parent.clear()},t.prototype.contains=function(t){return null!=t&&null!=t.__interfaces&&0<=t.__interfaces.indexOf("java.util.Map.Entry")&&this.__parent.containsEntry(t)},t.prototype.iterator=function(){return new t.EntryIterator(this)},t.prototype.remove=function(t){if(null!=t||null===t)return this.remove$java_lang_Object(t);throw new Error("invalid overload")},t.prototype.remove$java_lang_Object=function(t){if(this.contains(t)){var e=t.getKey();return this.__parent.remove(e),!0}return!1},t.prototype.size=function(){return this.__parent.size()},t}(s.util.AbstractSet);t.EntrySet=i,n=i=t.EntrySet||(t.EntrySet={}),r=function(){function t(t){Object.defineProperty(this,"__interfaces",{configurable:!0,value:["java.util.Iterator"]}),this.__parent=t,this.__next=this.__parent.__parent.head.next,s.util.ConcurrentModificationDetector.recordLastKnownStructure(this.__parent.__parent.map,this)}return t.prototype.forEachRemaining=function(t){for(javaemul.internal.InternalPreconditions.checkNotNull(t);this.hasNext();)t(this.next())},t.prototype.hasNext=function(){return this.__next!==this.__parent.__parent.head},t.prototype.next=function(){return s.util.ConcurrentModificationDetector.checkStructuralChange(this.__parent.__parent.map,this),javaemul.internal.InternalPreconditions.checkCriticalElement(this.hasNext()),this.last=this.__next,this.__next=this.__next.next,this.last},t.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(null!=this.last),s.util.ConcurrentModificationDetector.checkStructuralChange(this.__parent.__parent.map,this),this.last.remove(),this.__parent.__parent.map.remove(this.last.getKey()),s.util.ConcurrentModificationDetector.recordLastKnownStructure(this.__parent.__parent.map,this),this.last=null},t}(),n.EntryIterator=r}(t=o.LinkedHashMap||(o.LinkedHashMap={}))}(java||(java={})),java.util.TreeMap.SubMapType_Tail_$LI$(),java.util.TreeMap.SubMapType_Range_$LI$(),java.util.TreeMap.SubMapType_Head_$LI$(),java.util.TreeMap.SubMapType_All_$LI$(),javaemul.internal.InternalPreconditions.BOUND_CHECK_$LI$(),javaemul.internal.InternalPreconditions.API_CHECK_$LI$(),javaemul.internal.InternalPreconditions.TYPE_CHECK_$LI$(),javaemul.internal.InternalPreconditions.CHECKED_MODE_$LI$(),java.util.logging.Logger.LOGGING_FALSE_$LI$(),java.util.logging.Logger.LOGGING_SEVERE_$LI$(),java.util.logging.Logger.LOGGING_WARNING_$LI$(),java.util.logging.Logger.LOGGING_ENABLED_$LI$(),java.util.logging.Logger.__static_initialize(),java.util.ConcurrentModificationDetector.API_CHECK_$LI$(),java.io.File.TempDirectory.tmpdir_$LI$(),java.io.File.pathSeparator_$LI$(),java.io.File.pathSeparatorChar_$LI$(),java.io.File.separator_$LI$(),java.io.File.separatorChar_$LI$(),java.io.File.fs_$LI$(),java.util.Collections.RandomHolder.rnd_$LI$(),java.util.Collections.ReverseComparator.INSTANCE_$LI$(),java.util.Collections.EmptyListIterator.INSTANCE_$LI$(),java.util.Collections.EMPTY_SET_$LI$(),java.util.Collections.EMPTY_MAP_$LI$(),java.util.Collections.EMPTY_LIST_$LI$(),java.awt.geom.Area.EmptyCurves_$LI$(),java.lang.System.out_$LI$(),java.lang.System.err_$LI$(),java.nio.charset.StandardCharsets.UTF_8_$LI$(),java.nio.charset.StandardCharsets.ISO_8859_1_$LI$(),java.applet.Applet.__static_initialize(),sun.awt.geom.AreaOp.EmptyChainList_$LI$(),sun.awt.geom.AreaOp.EmptyLinkList_$LI$(),sun.awt.geom.AreaOp.YXTopComparator_$LI$(),javaemul.internal.ShortHelper.BoxedValues.boxedValues_$LI$(),javaemul.internal.ShortHelper.TYPE_$LI$(),javaemul.internal.ShortHelper.MAX_VALUE_$LI$(),javaemul.internal.ShortHelper.MIN_VALUE_$LI$(),javaemul.internal.LongHelper.BoxedValues.boxedValues_$LI$(),javaemul.internal.IntegerHelper.ReverseNibbles.reverseNibbles_$LI$(),javaemul.internal.IntegerHelper.BoxedValues.boxedValues_$LI$(),javaemul.internal.FloatHelper.POSITIVE_INFINITY_$LI$(),javaemul.internal.FloatHelper.NEGATIVE_INFINITY_$LI$(),javaemul.internal.FloatHelper.NaN_$LI$(),javaemul.internal.DoubleHelper.PowersTable.invPowers_$LI$(),javaemul.internal.DoubleHelper.PowersTable.powers_$LI$(),javaemul.internal.DoubleHelper.POSITIVE_INFINITY_$LI$(),javaemul.internal.DoubleHelper.NEGATIVE_INFINITY_$LI$(),javaemul.internal.DoubleHelper.NaN_$LI$(),javaemul.internal.ByteHelper.BoxedValues.boxedValues_$LI$(),javaemul.internal.ByteHelper.TYPE_$LI$(),javaemul.internal.ByteHelper.MAX_VALUE_$LI$(),javaemul.internal.ByteHelper.MIN_VALUE_$LI$(),javaemul.internal.StringHelper.CASE_INSENSITIVE_ORDER_$LI$(),java.security.MessageDigest.Md5Digest.padding_$LI$(),javaemul.internal.EmulatedCharset.ISO_8859_1_$LI$(),javaemul.internal.EmulatedCharset.ISO_LATIN_1_$LI$(),javaemul.internal.EmulatedCharset.UTF_8_$LI$(),java.awt.geom.Path2D.Iterator.curvecoords_$LI$(),java.awt.geom.Path2D.SEG_CLOSE_$LI$(),java.awt.geom.Path2D.SEG_CUBICTO_$LI$(),java.awt.geom.Path2D.SEG_QUADTO_$LI$(),java.awt.geom.Path2D.SEG_LINETO_$LI$(),java.awt.geom.Path2D.SEG_MOVETO_$LI$(),java.awt.geom.Path2D.WIND_NON_ZERO_$LI$(),java.awt.geom.Path2D.WIND_EVEN_ODD_$LI$(),javaemul.internal.StringHashCache.front_$LI$(),javaemul.internal.StringHashCache.back_$LI$(),javaemul.internal.NumberHelper.__ParseLong.maxValueForRadix_$LI$(),javaemul.internal.NumberHelper.__ParseLong.maxLengthForRadix_$LI$(),javaemul.internal.NumberHelper.__ParseLong.maxDigitsRadixPower_$LI$(),javaemul.internal.NumberHelper.__ParseLong.maxDigitsForRadix_$LI$(),javaemul.internal.NumberHelper.__ParseLong.__static_initialize(),javaemul.internal.MathHelper.PI_UNDER_180_$LI$(),javaemul.internal.MathHelper.PI_OVER_180_$LI$(),javaemul.internal.MathHelper.MIN_VALUE_$LI$(),javaemul.internal.MathHelper.MAX_VALUE_$LI$(),javaemul.internal.MathHelper.EPSILON_$LI$(),javaemul.internal.JreHelper.LOG10E_$LI$(),javaemul.internal.CharacterHelper.BoxedValues.boxedValues_$LI$(),javaemul.internal.CharacterHelper.TYPE_$LI$(),javaemul.internal.BooleanHelper.TYPE_$LI$(),java.util.Random.twoToTheXMinus48_$LI$(),java.util.Random.twoToTheXMinus24_$LI$(),java.util.Random.__static_initialize(),java.util.OptionalLong.EMPTY_$LI$(),java.util.OptionalInt.EMPTY_$LI$(),java.util.OptionalDouble.EMPTY_$LI$(),java.util.Optional.EMPTY_$LI$(),java.util.logging.Level.WARNING_$LI$(),java.util.logging.Level.SEVERE_$LI$(),java.util.logging.Level.OFF_$LI$(),java.util.logging.Level.INFO_$LI$(),java.util.logging.Level.FINEST_$LI$(),java.util.logging.Level.FINER_$LI$(),java.util.logging.Level.FINE_$LI$(),java.util.logging.Level.CONFIG_$LI$(),java.util.logging.Level.ALL_$LI$(),java.util.Locale.defaultLocale_$LI$(),java.util.Locale.US_$LI$(),java.util.Locale.ENGLISH_$LI$(),java.util.Locale.ROOT_$LI$(),java.util.InternalJsMapFactory.jsMapCtor_$LI$(),java.util.Date.StringData.MONTHS_$LI$(),java.util.Date.StringData.DAYS_$LI$(),java.util.Date.ONE_HOUR_IN_MILLISECONDS_$LI$(),java.util.Comparators.NATURAL_$LI$(),java.lang.Class.classes_$LI$(),java.lang.Class.constructors_$LI$(),java.io.FileSystem.__static_initialize(),java.awt.geom.RoundRectIterator.types_$LI$(),java.awt.geom.RoundRectIterator.ctrlpts_$LI$(),java.awt.geom.RoundRectIterator.acv_$LI$(),java.awt.geom.RoundRectIterator.cv_$LI$(),java.awt.geom.RoundRectIterator.c_$LI$(),java.awt.geom.RoundRectIterator.b_$LI$(),java.awt.geom.RoundRectIterator.a_$LI$(),java.awt.geom.RoundRectIterator.angle_$LI$(),java.awt.geom.EllipseIterator.ctrlpts_$LI$(),java.awt.geom.EllipseIterator.ncv_$LI$(),java.awt.geom.EllipseIterator.pcv_$LI$(),java.awt.geom.AffineTransform.rot90conversion_$LI$(),java.awt.geom.AffineTransform.HI_SHEAR_$LI$(),java.awt.geom.AffineTransform.HI_SCALE_$LI$(),java.awt.geom.AffineTransform.HI_TRANSLATE_$LI$(),java.awt.geom.AffineTransform.HI_IDENTITY_$LI$(),java.awt.geom.AffineTransform.TYPE_MASK_ROTATION_$LI$(),java.awt.geom.AffineTransform.TYPE_MASK_SCALE_$LI$();