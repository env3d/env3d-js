<html>
    <head>
        <script src="three.min.js"></script>
        
        <script src="js/loaders/OBJLoader.js"></script>
        <script src="js/loaders/MTLLoader.js"></script>
        <script src="js/loaders/collada/AnimationHandler.js"></script>
        
        <script src="js/loaders/collada/Animation.js"></script>
        <script src="js/loaders/collada/KeyFrameAnimation.js"></script>
        <script src="js/loaders/ColladaLoader.js"></script>
        
        <script src="env3d.js"></script>
        <script type="text/javascript">


         function init() {
             
             var ENV = new Env();             
             var doty = new GameObject();                                         
             doty.frame = 0;
             doty.x = 5;
             doty.y = 1;
             doty.z = 1;
             doty.model = "models/cube/cube.obj";
             doty.texture = "models/cube/cube.png";              
             doty.move = function() {
                 this.y = Math.abs(Math.sin(this.frame)) + 1;
                 this.frame+=0.1;
                 this.rotateY += 0.1;
             }

             var castle = new GameObject();
             castle.texture = "models/castleMap/final_castle_texture.png";
             castle.model = "models/castleMap/castle_map_complete.obj";
             //ENV.addObject(castle);

             var d = {
                 x : 1,
                 y : 1,
                 z : 5,
             };

             ENV.addObject(d);
             
             //ENV.setRoom(new Room());              
             //ENV.addObject(doty);
             ENV.cameraPitch = -Math.PI/8;
             ENV.defaultControl = true;
             ENV.start();
         }
         
         // Move doty forward for a length of time
         function moveForward() {
             doty.z += 0.1;
         }
         
        </script>
    </head>
    <body onload="init()">
        
        <input type="button" value="move" onClick="setInterval('moveForward()', 100)">
        
    </body>
</html>
